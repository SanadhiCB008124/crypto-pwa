function uE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dE={exports:{}},Od={},fE={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hc=Symbol.for("react.element"),dT=Symbol.for("react.portal"),fT=Symbol.for("react.fragment"),gT=Symbol.for("react.strict_mode"),pT=Symbol.for("react.profiler"),mT=Symbol.for("react.provider"),yT=Symbol.for("react.context"),xT=Symbol.for("react.forward_ref"),wT=Symbol.for("react.suspense"),ET=Symbol.for("react.memo"),vT=Symbol.for("react.lazy"),B2=Symbol.iterator;function _T(t){return t===null||typeof t!="object"?null:(t=B2&&t[B2]||t["@@iterator"],typeof t=="function"?t:null)}var gE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pE=Object.assign,mE={};function Ga(t,e,n){this.props=t,this.context=e,this.refs=mE,this.updater=n||gE}Ga.prototype.isReactComponent={};Ga.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ga.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yE(){}yE.prototype=Ga.prototype;function Bg(t,e,n){this.props=t,this.context=e,this.refs=mE,this.updater=n||gE}var Fg=Bg.prototype=new yE;Fg.constructor=Bg;pE(Fg,Ga.prototype);Fg.isPureReactComponent=!0;var F2=Array.isArray,xE=Object.prototype.hasOwnProperty,jg={current:null},wE={key:!0,ref:!0,__self:!0,__source:!0};function EE(t,e,n){var r,i={},o=null,c=null;if(e!=null)for(r in e.ref!==void 0&&(c=e.ref),e.key!==void 0&&(o=""+e.key),e)xE.call(e,r)&&!wE.hasOwnProperty(r)&&(i[r]=e[r]);var g=arguments.length-2;if(g===1)i.children=n;else if(1<g){for(var m=Array(g),p=0;p<g;p++)m[p]=arguments[p+2];i.children=m}if(t&&t.defaultProps)for(r in g=t.defaultProps,g)i[r]===void 0&&(i[r]=g[r]);return{$$typeof:Hc,type:t,key:o,ref:c,props:i,_owner:jg.current}}function CT(t,e){return{$$typeof:Hc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hc}function AT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var j2=/\/+/g;function n0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AT(""+t.key):e.toString(36)}function lh(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var c=!1;if(t===null)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case Hc:case dT:c=!0}}if(c)return c=t,i=i(c),t=r===""?"."+n0(c,0):r,F2(i)?(n="",t!=null&&(n=t.replace(j2,"$&/")+"/"),lh(i,e,n,"",function(p){return p})):i!=null&&(Vg(i)&&(i=CT(i,n+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(j2,"$&/")+"/")+t)),e.push(i)),1;if(c=0,r=r===""?".":r+":",F2(t))for(var g=0;g<t.length;g++){o=t[g];var m=r+n0(o,g);c+=lh(o,e,n,m,i)}else if(m=_T(t),typeof m=="function")for(t=m.call(t),g=0;!(o=t.next()).done;)o=o.value,m=r+n0(o,g++),c+=lh(o,e,n,m,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return c}function Ou(t,e,n){if(t==null)return t;var r=[],i=0;return lh(t,r,"","",function(o){return e.call(n,o,i++)}),r}function IT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var zn={current:null},ch={transition:null},TT={ReactCurrentDispatcher:zn,ReactCurrentBatchConfig:ch,ReactCurrentOwner:jg};De.Children={map:Ou,forEach:function(t,e,n){Ou(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ou(t,function(){e++}),e},toArray:function(t){return Ou(t,function(e){return e})||[]},only:function(t){if(!Vg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=Ga;De.Fragment=fT;De.Profiler=pT;De.PureComponent=Bg;De.StrictMode=gT;De.Suspense=wT;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TT;De.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=pE({},t.props),i=t.key,o=t.ref,c=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,c=jg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var g=t.type.defaultProps;for(m in e)xE.call(e,m)&&!wE.hasOwnProperty(m)&&(r[m]=e[m]===void 0&&g!==void 0?g[m]:e[m])}var m=arguments.length-2;if(m===1)r.children=n;else if(1<m){g=Array(m);for(var p=0;p<m;p++)g[p]=arguments[p+2];r.children=g}return{$$typeof:Hc,type:t.type,key:i,ref:o,props:r,_owner:c}};De.createContext=function(t){return t={$$typeof:yT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mT,_context:t},t.Consumer=t};De.createElement=EE;De.createFactory=function(t){var e=EE.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:xT,render:t}};De.isValidElement=Vg;De.lazy=function(t){return{$$typeof:vT,_payload:{_status:-1,_result:t},_init:IT}};De.memo=function(t,e){return{$$typeof:ET,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=ch.transition;ch.transition={};try{t()}finally{ch.transition=e}};De.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};De.useCallback=function(t,e){return zn.current.useCallback(t,e)};De.useContext=function(t){return zn.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return zn.current.useDeferredValue(t)};De.useEffect=function(t,e){return zn.current.useEffect(t,e)};De.useId=function(){return zn.current.useId()};De.useImperativeHandle=function(t,e,n){return zn.current.useImperativeHandle(t,e,n)};De.useInsertionEffect=function(t,e){return zn.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return zn.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return zn.current.useMemo(t,e)};De.useReducer=function(t,e,n){return zn.current.useReducer(t,e,n)};De.useRef=function(t){return zn.current.useRef(t)};De.useState=function(t){return zn.current.useState(t)};De.useSyncExternalStore=function(t,e,n){return zn.current.useSyncExternalStore(t,e,n)};De.useTransition=function(){return zn.current.useTransition()};De.version="18.2.0";fE.exports=De;var Y=fE.exports;const vE=hE(Y),t1=uE({__proto__:null,default:vE},[Y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ST=Y,bT=Symbol.for("react.element"),NT=Symbol.for("react.fragment"),RT=Object.prototype.hasOwnProperty,OT=ST.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kT={key:!0,ref:!0,__self:!0,__source:!0};function _E(t,e,n){var r,i={},o=null,c=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(c=e.ref);for(r in e)RT.call(e,r)&&!kT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:bT,type:t,key:o,ref:c,props:i,_owner:OT.current}}Od.Fragment=NT;Od.jsx=_E;Od.jsxs=_E;dE.exports=Od;var E=dE.exports,n1={},CE={exports:{}},gr={},AE={exports:{}},IE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(oe,xe){var ve=oe.length;oe.push(xe);e:for(;0<ve;){var ft=ve-1>>>1,Be=oe[ft];if(0<i(Be,xe))oe[ft]=xe,oe[ve]=Be,ve=ft;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var xe=oe[0],ve=oe.pop();if(ve!==xe){oe[0]=ve;e:for(var ft=0,Be=oe.length,mr=Be>>>1;ft<mr;){var xt=2*(ft+1)-1,Fs=oe[xt],fe=xt+1,Ui=oe[fe];if(0>i(Fs,ve))fe<Be&&0>i(Ui,Fs)?(oe[ft]=Ui,oe[fe]=ve,ft=fe):(oe[ft]=Fs,oe[xt]=ve,ft=xt);else if(fe<Be&&0>i(Ui,ve))oe[ft]=Ui,oe[fe]=ve,ft=fe;else break e}}return xe}function i(oe,xe){var ve=oe.sortIndex-xe.sortIndex;return ve!==0?ve:oe.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,g=c.now();t.unstable_now=function(){return c.now()-g}}var m=[],p=[],w=1,_=null,I=3,b=!1,M=!1,R=!1,F=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(oe){for(var xe=n(p);xe!==null;){if(xe.callback===null)r(p);else if(xe.startTime<=oe)r(p),xe.sortIndex=xe.expirationTime,e(m,xe);else break;xe=n(p)}}function B(oe){if(R=!1,O(oe),!M)if(n(m)!==null)M=!0,At(X);else{var xe=n(p);xe!==null&&Ae(B,xe.startTime-oe)}}function X(oe,xe){M=!1,R&&(R=!1,k(Z),Z=-1),b=!0;var ve=I;try{for(O(xe),_=n(m);_!==null&&(!(_.expirationTime>xe)||oe&&!Me());){var ft=_.callback;if(typeof ft=="function"){_.callback=null,I=_.priorityLevel;var Be=ft(_.expirationTime<=xe);xe=t.unstable_now(),typeof Be=="function"?_.callback=Be:_===n(m)&&r(m),O(xe)}else r(m);_=n(m)}if(_!==null)var mr=!0;else{var xt=n(p);xt!==null&&Ae(B,xt.startTime-xe),mr=!1}return mr}finally{_=null,I=ve,b=!1}}var G=!1,j=null,Z=-1,$=5,se=-1;function Me(){return!(t.unstable_now()-se<$)}function pe(){if(j!==null){var oe=t.unstable_now();se=oe;var xe=!0;try{xe=j(!0,oe)}finally{xe?Oe():(G=!1,j=null)}}else G=!1}var Oe;if(typeof S=="function")Oe=function(){S(pe)};else if(typeof MessageChannel<"u"){var yt=new MessageChannel,W=yt.port2;yt.port1.onmessage=pe,Oe=function(){W.postMessage(null)}}else Oe=function(){F(pe,0)};function At(oe){j=oe,G||(G=!0,Oe())}function Ae(oe,xe){Z=F(function(){oe(t.unstable_now())},xe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_continueExecution=function(){M||b||(M=!0,At(X))},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return n(m)},t.unstable_next=function(oe){switch(I){case 1:case 2:case 3:var xe=3;break;default:xe=I}var ve=I;I=xe;try{return oe()}finally{I=ve}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(oe,xe){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ve=I;I=oe;try{return xe()}finally{I=ve}},t.unstable_scheduleCallback=function(oe,xe,ve){var ft=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?ft+ve:ft):ve=ft,oe){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=ve+Be,oe={id:w++,callback:xe,priorityLevel:oe,startTime:ve,expirationTime:Be,sortIndex:-1},ve>ft?(oe.sortIndex=ve,e(p,oe),n(m)===null&&oe===n(p)&&(R?(k(Z),Z=-1):R=!0,Ae(B,ve-ft))):(oe.sortIndex=Be,e(m,oe),M||b||(M=!0,At(X))),oe},t.unstable_shouldYield=Me,t.unstable_wrapCallback=function(oe){var xe=I;return function(){var ve=I;I=xe;try{return oe.apply(this,arguments)}finally{I=ve}}}})(IE);AE.exports=IE;var DT=AE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE=Y,dr=DT;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SE=new Set,sc={};function vo(t,e){Sa(t,e),Sa(t+"Capture",e)}function Sa(t,e){for(sc[t]=e,t=0;t<e.length;t++)SE.add(e[t])}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r1=Object.prototype.hasOwnProperty,MT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V2={},U2={};function PT(t){return r1.call(U2,t)?!0:r1.call(V2,t)?!1:MT.test(t)?U2[t]=!0:(V2[t]=!0,!1)}function LT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function BT(t,e,n,r){if(e===null||typeof e>"u"||LT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Hn(t,e,n,r,i,o,c){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=c}var yn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yn[t]=new Hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yn[e]=new Hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yn[t]=new Hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yn[t]=new Hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yn[t]=new Hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yn[t]=new Hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yn[t]=new Hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yn[t]=new Hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yn[t]=new Hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ug=/[\-:]([a-z])/g;function zg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ug,zg);yn[e]=new Hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ug,zg);yn[e]=new Hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ug,zg);yn[e]=new Hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yn[t]=new Hn(t,1,!1,t.toLowerCase(),null,!1,!1)});yn.xlinkHref=new Hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yn[t]=new Hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hg(t,e,n,r){var i=yn.hasOwnProperty(e)?yn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(BT(e,n,i,r)&&(n=null),r||i===null?PT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ji=TE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ku=Symbol.for("react.element"),qo=Symbol.for("react.portal"),Qo=Symbol.for("react.fragment"),Wg=Symbol.for("react.strict_mode"),i1=Symbol.for("react.profiler"),bE=Symbol.for("react.provider"),NE=Symbol.for("react.context"),Gg=Symbol.for("react.forward_ref"),s1=Symbol.for("react.suspense"),o1=Symbol.for("react.suspense_list"),$g=Symbol.for("react.memo"),Zi=Symbol.for("react.lazy"),RE=Symbol.for("react.offscreen"),z2=Symbol.iterator;function yl(t){return t===null||typeof t!="object"?null:(t=z2&&t[z2]||t["@@iterator"],typeof t=="function"?t:null)}var Ct=Object.assign,r0;function kl(t){if(r0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);r0=e&&e[1]||""}return`
`+r0+t}var i0=!1;function s0(t,e){if(!t||i0)return"";i0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var r=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){r=p}t.call(e.prototype)}else{try{throw Error()}catch(p){r=p}t()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),o=r.stack.split(`
`),c=i.length-1,g=o.length-1;1<=c&&0<=g&&i[c]!==o[g];)g--;for(;1<=c&&0<=g;c--,g--)if(i[c]!==o[g]){if(c!==1||g!==1)do if(c--,g--,0>g||i[c]!==o[g]){var m=`
`+i[c].replace(" at new "," at ");return t.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",t.displayName)),m}while(1<=c&&0<=g);break}}}finally{i0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?kl(t):""}function FT(t){switch(t.tag){case 5:return kl(t.type);case 16:return kl("Lazy");case 13:return kl("Suspense");case 19:return kl("SuspenseList");case 0:case 2:case 15:return t=s0(t.type,!1),t;case 11:return t=s0(t.type.render,!1),t;case 1:return t=s0(t.type,!0),t;default:return""}}function a1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qo:return"Fragment";case qo:return"Portal";case i1:return"Profiler";case Wg:return"StrictMode";case s1:return"Suspense";case o1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case NE:return(t.displayName||"Context")+".Consumer";case bE:return(t._context.displayName||"Context")+".Provider";case Gg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $g:return e=t.displayName||null,e!==null?e:a1(t.type)||"Memo";case Zi:e=t._payload,t=t._init;try{return a1(t(e))}catch{}}return null}function jT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return a1(e);case 8:return e===Wg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VT(t){var e=OE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(c){r=""+c,o.call(this,c)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Du(t){t._valueTracker||(t._valueTracker=VT(t))}function kE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=OE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Oh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function l1(t,e){var n=e.checked;return Ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function H2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Cs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function DE(t,e){e=e.checked,e!=null&&Hg(t,"checked",e,!1)}function c1(t,e){DE(t,e);var n=Cs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?u1(t,e.type,n):e.hasOwnProperty("defaultValue")&&u1(t,e.type,Cs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function W2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function u1(t,e,n){(e!=="number"||Oh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Dl=Array.isArray;function ha(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function h1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return Ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function G2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Dl(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Cs(n)}}function ME(t,e){var n=Cs(e.value),r=Cs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function PE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function d1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?PE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mu,LE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mu=Mu||document.createElement("div"),Mu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function oc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UT=["Webkit","ms","Moz","O"];Object.keys(zl).forEach(function(t){UT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zl[e]=zl[t]})});function BE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zl.hasOwnProperty(t)&&zl[t]?(""+e).trim():e+"px"}function FE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=BE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var zT=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function f1(t,e){if(e){if(zT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function g1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p1=null;function Xg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var m1=null,da=null,fa=null;function X2(t){if(t=$c(t)){if(typeof m1!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Ld(e),m1(t.stateNode,t.type,e))}}function jE(t){da?fa?fa.push(t):fa=[t]:da=t}function VE(){if(da){var t=da,e=fa;if(fa=da=null,X2(t),e)for(t=0;t<e.length;t++)X2(e[t])}}function UE(t,e){return t(e)}function zE(){}var o0=!1;function HE(t,e,n){if(o0)return t(e,n);o0=!0;try{return UE(t,e,n)}finally{o0=!1,(da!==null||fa!==null)&&(zE(),VE())}}function ac(t,e){var n=t.stateNode;if(n===null)return null;var r=Ld(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var y1=!1;if(Oi)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){y1=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{y1=!1}function HT(t,e,n,r,i,o,c,g,m){var p=Array.prototype.slice.call(arguments,3);try{e.apply(n,p)}catch(w){this.onError(w)}}var Hl=!1,kh=null,Dh=!1,x1=null,WT={onError:function(t){Hl=!0,kh=t}};function GT(t,e,n,r,i,o,c,g,m){Hl=!1,kh=null,HT.apply(WT,arguments)}function $T(t,e,n,r,i,o,c,g,m){if(GT.apply(this,arguments),Hl){if(Hl){var p=kh;Hl=!1,kh=null}else throw Error(J(198));Dh||(Dh=!0,x1=p)}}function _o(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function WE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Y2(t){if(_o(t)!==t)throw Error(J(188))}function XT(t){var e=t.alternate;if(!e){if(e=_o(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Y2(i),t;if(o===r)return Y2(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var c=!1,g=i.child;g;){if(g===n){c=!0,n=i,r=o;break}if(g===r){c=!0,r=i,n=o;break}g=g.sibling}if(!c){for(g=o.child;g;){if(g===n){c=!0,n=o,r=i;break}if(g===r){c=!0,r=o,n=i;break}g=g.sibling}if(!c)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function GE(t){return t=XT(t),t!==null?$E(t):null}function $E(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$E(t);if(e!==null)return e;t=t.sibling}return null}var XE=dr.unstable_scheduleCallback,K2=dr.unstable_cancelCallback,YT=dr.unstable_shouldYield,KT=dr.unstable_requestPaint,Lt=dr.unstable_now,qT=dr.unstable_getCurrentPriorityLevel,Yg=dr.unstable_ImmediatePriority,YE=dr.unstable_UserBlockingPriority,Mh=dr.unstable_NormalPriority,QT=dr.unstable_LowPriority,KE=dr.unstable_IdlePriority,kd=null,li=null;function ZT(t){if(li&&typeof li.onCommitFiberRoot=="function")try{li.onCommitFiberRoot(kd,t,void 0,(t.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:t4,JT=Math.log,e4=Math.LN2;function t4(t){return t>>>=0,t===0?32:31-(JT(t)/e4|0)|0}var Pu=64,Lu=4194304;function Ml(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ph(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,c=n&268435455;if(c!==0){var g=c&~i;g!==0?r=Ml(g):(o&=c,o!==0&&(r=Ml(o)))}else c=n&~i,c!==0?r=Ml(c):o!==0&&(r=Ml(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Lr(e),i=1<<n,r|=t[n],e&=~i;return r}function n4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var c=31-Lr(o),g=1<<c,m=i[c];m===-1?(!(g&n)||g&r)&&(i[c]=n4(g,e)):m<=e&&(t.expiredLanes|=g),o&=~g}}function w1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qE(){var t=Pu;return Pu<<=1,!(Pu&4194240)&&(Pu=64),t}function a0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Lr(e),t[e]=n}function i4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Lr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Kg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Lr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Je=0;function QE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ZE,qg,JE,ev,tv,E1=!1,Bu=[],ds=null,fs=null,gs=null,lc=new Map,cc=new Map,es=[],s4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q2(t,e){switch(t){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":lc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(e.pointerId)}}function wl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=$c(e),e!==null&&qg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function o4(t,e,n,r,i){switch(e){case"focusin":return ds=wl(ds,t,e,n,r,i),!0;case"dragenter":return fs=wl(fs,t,e,n,r,i),!0;case"mouseover":return gs=wl(gs,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return lc.set(o,wl(lc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,cc.set(o,wl(cc.get(o)||null,t,e,n,r,i)),!0}return!1}function nv(t){var e=Ys(t.target);if(e!==null){var n=_o(e);if(n!==null){if(e=n.tag,e===13){if(e=WE(n),e!==null){t.blockedOn=e,tv(t.priority,function(){JE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=v1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);p1=r,n.target.dispatchEvent(r),p1=null}else return e=$c(n),e!==null&&qg(e),t.blockedOn=n,!1;e.shift()}return!0}function Q2(t,e,n){uh(t)&&n.delete(e)}function a4(){E1=!1,ds!==null&&uh(ds)&&(ds=null),fs!==null&&uh(fs)&&(fs=null),gs!==null&&uh(gs)&&(gs=null),lc.forEach(Q2),cc.forEach(Q2)}function El(t,e){t.blockedOn===e&&(t.blockedOn=null,E1||(E1=!0,dr.unstable_scheduleCallback(dr.unstable_NormalPriority,a4)))}function uc(t){function e(i){return El(i,t)}if(0<Bu.length){El(Bu[0],t);for(var n=1;n<Bu.length;n++){var r=Bu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ds!==null&&El(ds,t),fs!==null&&El(fs,t),gs!==null&&El(gs,t),lc.forEach(e),cc.forEach(e),n=0;n<es.length;n++)r=es[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<es.length&&(n=es[0],n.blockedOn===null);)nv(n),n.blockedOn===null&&es.shift()}var ga=ji.ReactCurrentBatchConfig,Lh=!0;function l4(t,e,n,r){var i=Je,o=ga.transition;ga.transition=null;try{Je=1,Qg(t,e,n,r)}finally{Je=i,ga.transition=o}}function c4(t,e,n,r){var i=Je,o=ga.transition;ga.transition=null;try{Je=4,Qg(t,e,n,r)}finally{Je=i,ga.transition=o}}function Qg(t,e,n,r){if(Lh){var i=v1(t,e,n,r);if(i===null)y0(t,e,r,Bh,n),q2(t,r);else if(o4(i,t,e,n,r))r.stopPropagation();else if(q2(t,r),e&4&&-1<s4.indexOf(t)){for(;i!==null;){var o=$c(i);if(o!==null&&ZE(o),o=v1(t,e,n,r),o===null&&y0(t,e,r,Bh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else y0(t,e,r,null,n)}}var Bh=null;function v1(t,e,n,r){if(Bh=null,t=Xg(r),t=Ys(t),t!==null)if(e=_o(t),e===null)t=null;else if(n=e.tag,n===13){if(t=WE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bh=t,null}function rv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qT()){case Yg:return 1;case YE:return 4;case Mh:case QT:return 16;case KE:return 536870912;default:return 16}default:return 16}}var as=null,Zg=null,hh=null;function iv(){if(hh)return hh;var t,e=Zg,n=e.length,r,i="value"in as?as.value:as.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var c=n-t;for(r=1;r<=c&&e[n-r]===i[o-r];r++);return hh=i.slice(t,1<r?1-r:void 0)}function dh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fu(){return!0}function Z2(){return!1}function pr(t){function e(n,r,i,o,c){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=c,this.currentTarget=null;for(var g in t)t.hasOwnProperty(g)&&(n=t[g],this[g]=n?n(o):o[g]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Fu:Z2,this.isPropagationStopped=Z2,this}return Ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fu)},persist:function(){},isPersistent:Fu}),e}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jg=pr($a),Gc=Ct({},$a,{view:0,detail:0}),u4=pr(Gc),l0,c0,vl,Dd=Ct({},Gc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ep,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vl&&(vl&&t.type==="mousemove"?(l0=t.screenX-vl.screenX,c0=t.screenY-vl.screenY):c0=l0=0,vl=t),l0)},movementY:function(t){return"movementY"in t?t.movementY:c0}}),J2=pr(Dd),h4=Ct({},Dd,{dataTransfer:0}),d4=pr(h4),f4=Ct({},Gc,{relatedTarget:0}),u0=pr(f4),g4=Ct({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),p4=pr(g4),m4=Ct({},$a,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),y4=pr(m4),x4=Ct({},$a,{data:0}),ey=pr(x4),w4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=v4[t])?!!e[t]:!1}function ep(){return _4}var C4=Ct({},Gc,{key:function(t){if(t.key){var e=w4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?E4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ep,charCode:function(t){return t.type==="keypress"?dh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),A4=pr(C4),I4=Ct({},Dd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ty=pr(I4),T4=Ct({},Gc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ep}),S4=pr(T4),b4=Ct({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),N4=pr(b4),R4=Ct({},Dd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),O4=pr(R4),k4=[9,13,27,32],tp=Oi&&"CompositionEvent"in window,Wl=null;Oi&&"documentMode"in document&&(Wl=document.documentMode);var D4=Oi&&"TextEvent"in window&&!Wl,sv=Oi&&(!tp||Wl&&8<Wl&&11>=Wl),ny=String.fromCharCode(32),ry=!1;function ov(t,e){switch(t){case"keyup":return k4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function av(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zo=!1;function M4(t,e){switch(t){case"compositionend":return av(e);case"keypress":return e.which!==32?null:(ry=!0,ny);case"textInput":return t=e.data,t===ny&&ry?null:t;default:return null}}function P4(t,e){if(Zo)return t==="compositionend"||!tp&&ov(t,e)?(t=iv(),hh=Zg=as=null,Zo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sv&&e.locale!=="ko"?null:e.data;default:return null}}var L4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!L4[t.type]:e==="textarea"}function lv(t,e,n,r){jE(r),e=Fh(e,"onChange"),0<e.length&&(n=new Jg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gl=null,hc=null;function B4(t){wv(t,0)}function Md(t){var e=ta(t);if(kE(e))return t}function F4(t,e){if(t==="change")return e}var cv=!1;if(Oi){var h0;if(Oi){var d0="oninput"in document;if(!d0){var sy=document.createElement("div");sy.setAttribute("oninput","return;"),d0=typeof sy.oninput=="function"}h0=d0}else h0=!1;cv=h0&&(!document.documentMode||9<document.documentMode)}function oy(){Gl&&(Gl.detachEvent("onpropertychange",uv),hc=Gl=null)}function uv(t){if(t.propertyName==="value"&&Md(hc)){var e=[];lv(e,hc,t,Xg(t)),HE(B4,e)}}function j4(t,e,n){t==="focusin"?(oy(),Gl=e,hc=n,Gl.attachEvent("onpropertychange",uv)):t==="focusout"&&oy()}function V4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Md(hc)}function U4(t,e){if(t==="click")return Md(e)}function z4(t,e){if(t==="input"||t==="change")return Md(e)}function H4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jr=typeof Object.is=="function"?Object.is:H4;function dc(t,e){if(jr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!r1.call(e,i)||!jr(t[i],e[i]))return!1}return!0}function ay(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ly(t,e){var n=ay(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ay(n)}}function hv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dv(){for(var t=window,e=Oh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Oh(t.document)}return e}function np(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function W4(t){var e=dv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hv(n.ownerDocument.documentElement,n)){if(r!==null&&np(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ly(n,o);var c=ly(n,r);i&&c&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==c.node||t.focusOffset!==c.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(c.node,c.offset)):(e.setEnd(c.node,c.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var G4=Oi&&"documentMode"in document&&11>=document.documentMode,Jo=null,_1=null,$l=null,C1=!1;function cy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;C1||Jo==null||Jo!==Oh(r)||(r=Jo,"selectionStart"in r&&np(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$l&&dc($l,r)||($l=r,r=Fh(_1,"onSelect"),0<r.length&&(e=new Jg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Jo)))}function ju(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ea={animationend:ju("Animation","AnimationEnd"),animationiteration:ju("Animation","AnimationIteration"),animationstart:ju("Animation","AnimationStart"),transitionend:ju("Transition","TransitionEnd")},f0={},fv={};Oi&&(fv=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function Pd(t){if(f0[t])return f0[t];if(!ea[t])return t;var e=ea[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fv)return f0[t]=e[n];return t}var gv=Pd("animationend"),pv=Pd("animationiteration"),mv=Pd("animationstart"),yv=Pd("transitionend"),xv=new Map,uy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rs(t,e){xv.set(t,e),vo(e,[t])}for(var g0=0;g0<uy.length;g0++){var p0=uy[g0],$4=p0.toLowerCase(),X4=p0[0].toUpperCase()+p0.slice(1);Rs($4,"on"+X4)}Rs(gv,"onAnimationEnd");Rs(pv,"onAnimationIteration");Rs(mv,"onAnimationStart");Rs("dblclick","onDoubleClick");Rs("focusin","onFocus");Rs("focusout","onBlur");Rs(yv,"onTransitionEnd");Sa("onMouseEnter",["mouseout","mouseover"]);Sa("onMouseLeave",["mouseout","mouseover"]);Sa("onPointerEnter",["pointerout","pointerover"]);Sa("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pl));function hy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$T(r,e,void 0,t),t.currentTarget=null}function wv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var c=r.length-1;0<=c;c--){var g=r[c],m=g.instance,p=g.currentTarget;if(g=g.listener,m!==o&&i.isPropagationStopped())break e;hy(i,g,p),o=m}else for(c=0;c<r.length;c++){if(g=r[c],m=g.instance,p=g.currentTarget,g=g.listener,m!==o&&i.isPropagationStopped())break e;hy(i,g,p),o=m}}}if(Dh)throw t=x1,Dh=!1,x1=null,t}function ct(t,e){var n=e[b1];n===void 0&&(n=e[b1]=new Set);var r=t+"__bubble";n.has(r)||(Ev(e,t,2,!1),n.add(r))}function m0(t,e,n){var r=0;e&&(r|=4),Ev(n,t,r,e)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function fc(t){if(!t[Vu]){t[Vu]=!0,SE.forEach(function(n){n!=="selectionchange"&&(Y4.has(n)||m0(n,!1,t),m0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vu]||(e[Vu]=!0,m0("selectionchange",!1,e))}}function Ev(t,e,n,r){switch(rv(e)){case 1:var i=l4;break;case 4:i=c4;break;default:i=Qg}n=i.bind(null,e,n,t),i=void 0,!y1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function y0(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var g=r.stateNode.containerInfo;if(g===i||g.nodeType===8&&g.parentNode===i)break;if(c===4)for(c=r.return;c!==null;){var m=c.tag;if((m===3||m===4)&&(m=c.stateNode.containerInfo,m===i||m.nodeType===8&&m.parentNode===i))return;c=c.return}for(;g!==null;){if(c=Ys(g),c===null)return;if(m=c.tag,m===5||m===6){r=o=c;continue e}g=g.parentNode}}r=r.return}HE(function(){var p=o,w=Xg(n),_=[];e:{var I=xv.get(t);if(I!==void 0){var b=Jg,M=t;switch(t){case"keypress":if(dh(n)===0)break e;case"keydown":case"keyup":b=A4;break;case"focusin":M="focus",b=u0;break;case"focusout":M="blur",b=u0;break;case"beforeblur":case"afterblur":b=u0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=J2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=d4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=S4;break;case gv:case pv:case mv:b=p4;break;case yv:b=N4;break;case"scroll":b=u4;break;case"wheel":b=O4;break;case"copy":case"cut":case"paste":b=y4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=ty}var R=(e&4)!==0,F=!R&&t==="scroll",k=R?I!==null?I+"Capture":null:I;R=[];for(var S=p,O;S!==null;){O=S;var B=O.stateNode;if(O.tag===5&&B!==null&&(O=B,k!==null&&(B=ac(S,k),B!=null&&R.push(gc(S,B,O)))),F)break;S=S.return}0<R.length&&(I=new b(I,M,null,n,w),_.push({event:I,listeners:R}))}}if(!(e&7)){e:{if(I=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",I&&n!==p1&&(M=n.relatedTarget||n.fromElement)&&(Ys(M)||M[ki]))break e;if((b||I)&&(I=w.window===w?w:(I=w.ownerDocument)?I.defaultView||I.parentWindow:window,b?(M=n.relatedTarget||n.toElement,b=p,M=M?Ys(M):null,M!==null&&(F=_o(M),M!==F||M.tag!==5&&M.tag!==6)&&(M=null)):(b=null,M=p),b!==M)){if(R=J2,B="onMouseLeave",k="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(R=ty,B="onPointerLeave",k="onPointerEnter",S="pointer"),F=b==null?I:ta(b),O=M==null?I:ta(M),I=new R(B,S+"leave",b,n,w),I.target=F,I.relatedTarget=O,B=null,Ys(w)===p&&(R=new R(k,S+"enter",M,n,w),R.target=O,R.relatedTarget=F,B=R),F=B,b&&M)t:{for(R=b,k=M,S=0,O=R;O;O=jo(O))S++;for(O=0,B=k;B;B=jo(B))O++;for(;0<S-O;)R=jo(R),S--;for(;0<O-S;)k=jo(k),O--;for(;S--;){if(R===k||k!==null&&R===k.alternate)break t;R=jo(R),k=jo(k)}R=null}else R=null;b!==null&&dy(_,I,b,R,!1),M!==null&&F!==null&&dy(_,F,M,R,!0)}}e:{if(I=p?ta(p):window,b=I.nodeName&&I.nodeName.toLowerCase(),b==="select"||b==="input"&&I.type==="file")var X=F4;else if(iy(I))if(cv)X=z4;else{X=V4;var G=j4}else(b=I.nodeName)&&b.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(X=U4);if(X&&(X=X(t,p))){lv(_,X,n,w);break e}G&&G(t,I,p),t==="focusout"&&(G=I._wrapperState)&&G.controlled&&I.type==="number"&&u1(I,"number",I.value)}switch(G=p?ta(p):window,t){case"focusin":(iy(G)||G.contentEditable==="true")&&(Jo=G,_1=p,$l=null);break;case"focusout":$l=_1=Jo=null;break;case"mousedown":C1=!0;break;case"contextmenu":case"mouseup":case"dragend":C1=!1,cy(_,n,w);break;case"selectionchange":if(G4)break;case"keydown":case"keyup":cy(_,n,w)}var j;if(tp)e:{switch(t){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else Zo?ov(t,n)&&(Z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Z="onCompositionStart");Z&&(sv&&n.locale!=="ko"&&(Zo||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&Zo&&(j=iv()):(as=w,Zg="value"in as?as.value:as.textContent,Zo=!0)),G=Fh(p,Z),0<G.length&&(Z=new ey(Z,t,null,n,w),_.push({event:Z,listeners:G}),j?Z.data=j:(j=av(n),j!==null&&(Z.data=j)))),(j=D4?M4(t,n):P4(t,n))&&(p=Fh(p,"onBeforeInput"),0<p.length&&(w=new ey("onBeforeInput","beforeinput",null,n,w),_.push({event:w,listeners:p}),w.data=j))}wv(_,e)})}function gc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ac(t,n),o!=null&&r.unshift(gc(t,o,i)),o=ac(t,e),o!=null&&r.push(gc(t,o,i))),t=t.return}return r}function jo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dy(t,e,n,r,i){for(var o=e._reactName,c=[];n!==null&&n!==r;){var g=n,m=g.alternate,p=g.stateNode;if(m!==null&&m===r)break;g.tag===5&&p!==null&&(g=p,i?(m=ac(n,o),m!=null&&c.unshift(gc(n,m,g))):i||(m=ac(n,o),m!=null&&c.push(gc(n,m,g)))),n=n.return}c.length!==0&&t.push({event:e,listeners:c})}var K4=/\r\n?/g,q4=/\u0000|\uFFFD/g;function fy(t){return(typeof t=="string"?t:""+t).replace(K4,`
`).replace(q4,"")}function Uu(t,e,n){if(e=fy(e),fy(t)!==e&&n)throw Error(J(425))}function jh(){}var A1=null,I1=null;function T1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var S1=typeof setTimeout=="function"?setTimeout:void 0,Q4=typeof clearTimeout=="function"?clearTimeout:void 0,gy=typeof Promise=="function"?Promise:void 0,Z4=typeof queueMicrotask=="function"?queueMicrotask:typeof gy<"u"?function(t){return gy.resolve(null).then(t).catch(J4)}:S1;function J4(t){setTimeout(function(){throw t})}function x0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),uc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);uc(e)}function ps(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function py(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xa=Math.random().toString(36).slice(2),ti="__reactFiber$"+Xa,pc="__reactProps$"+Xa,ki="__reactContainer$"+Xa,b1="__reactEvents$"+Xa,eS="__reactListeners$"+Xa,tS="__reactHandles$"+Xa;function Ys(t){var e=t[ti];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ki]||n[ti]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=py(t);t!==null;){if(n=t[ti])return n;t=py(t)}return e}t=n,n=t.parentNode}return null}function $c(t){return t=t[ti]||t[ki],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ta(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Ld(t){return t[pc]||null}var N1=[],na=-1;function Os(t){return{current:t}}function dt(t){0>na||(t.current=N1[na],N1[na]=null,na--)}function at(t,e){na++,N1[na]=t.current,t.current=e}var As={},On=Os(As),Zn=Os(!1),ao=As;function ba(t,e){var n=t.type.contextTypes;if(!n)return As;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Jn(t){return t=t.childContextTypes,t!=null}function Vh(){dt(Zn),dt(On)}function my(t,e,n){if(On.current!==As)throw Error(J(168));at(On,e),at(Zn,n)}function vv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,jT(t)||"Unknown",i));return Ct({},n,r)}function Uh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||As,ao=On.current,at(On,t),at(Zn,Zn.current),!0}function yy(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=vv(t,e,ao),r.__reactInternalMemoizedMergedChildContext=t,dt(Zn),dt(On),at(On,t)):dt(Zn),at(Zn,n)}var Ei=null,Bd=!1,w0=!1;function _v(t){Ei===null?Ei=[t]:Ei.push(t)}function nS(t){Bd=!0,_v(t)}function ks(){if(!w0&&Ei!==null){w0=!0;var t=0,e=Je;try{var n=Ei;for(Je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ei=null,Bd=!1}catch(i){throw Ei!==null&&(Ei=Ei.slice(t+1)),XE(Yg,ks),i}finally{Je=e,w0=!1}}return null}var ra=[],ia=0,zh=null,Hh=0,vr=[],_r=0,lo=null,_i=1,Ci="";function Gs(t,e){ra[ia++]=Hh,ra[ia++]=zh,zh=t,Hh=e}function Cv(t,e,n){vr[_r++]=_i,vr[_r++]=Ci,vr[_r++]=lo,lo=t;var r=_i;t=Ci;var i=32-Lr(r)-1;r&=~(1<<i),n+=1;var o=32-Lr(e)+i;if(30<o){var c=i-i%5;o=(r&(1<<c)-1).toString(32),r>>=c,i-=c,_i=1<<32-Lr(e)+i|n<<i|r,Ci=o+t}else _i=1<<o|n<<i|r,Ci=t}function rp(t){t.return!==null&&(Gs(t,1),Cv(t,1,0))}function ip(t){for(;t===zh;)zh=ra[--ia],ra[ia]=null,Hh=ra[--ia],ra[ia]=null;for(;t===lo;)lo=vr[--_r],vr[_r]=null,Ci=vr[--_r],vr[_r]=null,_i=vr[--_r],vr[_r]=null}var ur=null,lr=null,mt=!1,Pr=null;function Av(t,e){var n=Ar(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ur=t,lr=ps(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ur=t,lr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=lo!==null?{id:_i,overflow:Ci}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ar(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ur=t,lr=null,!0):!1;default:return!1}}function R1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function O1(t){if(mt){var e=lr;if(e){var n=e;if(!xy(t,e)){if(R1(t))throw Error(J(418));e=ps(n.nextSibling);var r=ur;e&&xy(t,e)?Av(r,n):(t.flags=t.flags&-4097|2,mt=!1,ur=t)}}else{if(R1(t))throw Error(J(418));t.flags=t.flags&-4097|2,mt=!1,ur=t}}}function wy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ur=t}function zu(t){if(t!==ur)return!1;if(!mt)return wy(t),mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!T1(t.type,t.memoizedProps)),e&&(e=lr)){if(R1(t))throw Iv(),Error(J(418));for(;e;)Av(t,e),e=ps(e.nextSibling)}if(wy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){lr=ps(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}lr=null}}else lr=ur?ps(t.stateNode.nextSibling):null;return!0}function Iv(){for(var t=lr;t;)t=ps(t.nextSibling)}function Na(){lr=ur=null,mt=!1}function sp(t){Pr===null?Pr=[t]:Pr.push(t)}var rS=ji.ReactCurrentBatchConfig;function kr(t,e){if(t&&t.defaultProps){e=Ct({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Wh=Os(null),Gh=null,sa=null,op=null;function ap(){op=sa=Gh=null}function lp(t){var e=Wh.current;dt(Wh),t._currentValue=e}function k1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pa(t,e){Gh=t,op=sa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qn=!0),t.firstContext=null)}function Tr(t){var e=t._currentValue;if(op!==t)if(t={context:t,memoizedValue:e,next:null},sa===null){if(Gh===null)throw Error(J(308));sa=t,Gh.dependencies={lanes:0,firstContext:t}}else sa=sa.next=t;return e}var Ks=null;function cp(t){Ks===null?Ks=[t]:Ks.push(t)}function Tv(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,cp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Di(t,r)}function Di(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ji=!1;function up(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ms(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Di(t,n)}return i=r.interleaved,i===null?(e.next=e,cp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Di(t,n)}function fh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kg(t,n)}}function Ey(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=c:o=o.next=c,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $h(t,e,n,r){var i=t.updateQueue;Ji=!1;var o=i.firstBaseUpdate,c=i.lastBaseUpdate,g=i.shared.pending;if(g!==null){i.shared.pending=null;var m=g,p=m.next;m.next=null,c===null?o=p:c.next=p,c=m;var w=t.alternate;w!==null&&(w=w.updateQueue,g=w.lastBaseUpdate,g!==c&&(g===null?w.firstBaseUpdate=p:g.next=p,w.lastBaseUpdate=m))}if(o!==null){var _=i.baseState;c=0,w=p=m=null,g=o;do{var I=g.lane,b=g.eventTime;if((r&I)===I){w!==null&&(w=w.next={eventTime:b,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var M=t,R=g;switch(I=e,b=n,R.tag){case 1:if(M=R.payload,typeof M=="function"){_=M.call(b,_,I);break e}_=M;break e;case 3:M.flags=M.flags&-65537|128;case 0:if(M=R.payload,I=typeof M=="function"?M.call(b,_,I):M,I==null)break e;_=Ct({},_,I);break e;case 2:Ji=!0}}g.callback!==null&&g.lane!==0&&(t.flags|=64,I=i.effects,I===null?i.effects=[g]:I.push(g))}else b={eventTime:b,lane:I,tag:g.tag,payload:g.payload,callback:g.callback,next:null},w===null?(p=w=b,m=_):w=w.next=b,c|=I;if(g=g.next,g===null){if(g=i.shared.pending,g===null)break;I=g,g=I.next,I.next=null,i.lastBaseUpdate=I,i.shared.pending=null}}while(1);if(w===null&&(m=_),i.baseState=m,i.firstBaseUpdate=p,i.lastBaseUpdate=w,e=i.shared.interleaved,e!==null){i=e;do c|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);uo|=c,t.lanes=c,t.memoizedState=_}}function vy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var bv=new TE.Component().refs;function D1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ct({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fd={isMounted:function(t){return(t=t._reactInternals)?_o(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Un(),i=xs(t),o=bi(r,i);o.payload=e,n!=null&&(o.callback=n),e=ms(t,o,i),e!==null&&(Br(e,t,i,r),fh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Un(),i=xs(t),o=bi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ms(t,o,i),e!==null&&(Br(e,t,i,r),fh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Un(),r=xs(t),i=bi(n,r);i.tag=2,e!=null&&(i.callback=e),e=ms(t,i,r),e!==null&&(Br(e,t,r,n),fh(e,t,r))}};function _y(t,e,n,r,i,o,c){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,c):e.prototype&&e.prototype.isPureReactComponent?!dc(n,r)||!dc(i,o):!0}function Nv(t,e,n){var r=!1,i=As,o=e.contextType;return typeof o=="object"&&o!==null?o=Tr(o):(i=Jn(e)?ao:On.current,r=e.contextTypes,o=(r=r!=null)?ba(t,i):As),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Cy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fd.enqueueReplaceState(e,e.state,null)}function M1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=bv,up(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Tr(o):(o=Jn(e)?ao:On.current,i.context=ba(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(D1(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Fd.enqueueReplaceState(i,i.state,null),$h(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function _l(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(c){var g=i.refs;g===bv&&(g=i.refs={}),c===null?delete g[o]:g[o]=c},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Hu(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ay(t){var e=t._init;return e(t._payload)}function Rv(t){function e(k,S){if(t){var O=k.deletions;O===null?(k.deletions=[S],k.flags|=16):O.push(S)}}function n(k,S){if(!t)return null;for(;S!==null;)e(k,S),S=S.sibling;return null}function r(k,S){for(k=new Map;S!==null;)S.key!==null?k.set(S.key,S):k.set(S.index,S),S=S.sibling;return k}function i(k,S){return k=ws(k,S),k.index=0,k.sibling=null,k}function o(k,S,O){return k.index=O,t?(O=k.alternate,O!==null?(O=O.index,O<S?(k.flags|=2,S):O):(k.flags|=2,S)):(k.flags|=1048576,S)}function c(k){return t&&k.alternate===null&&(k.flags|=2),k}function g(k,S,O,B){return S===null||S.tag!==6?(S=T0(O,k.mode,B),S.return=k,S):(S=i(S,O),S.return=k,S)}function m(k,S,O,B){var X=O.type;return X===Qo?w(k,S,O.props.children,B,O.key):S!==null&&(S.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Zi&&Ay(X)===S.type)?(B=i(S,O.props),B.ref=_l(k,S,O),B.return=k,B):(B=wh(O.type,O.key,O.props,null,k.mode,B),B.ref=_l(k,S,O),B.return=k,B)}function p(k,S,O,B){return S===null||S.tag!==4||S.stateNode.containerInfo!==O.containerInfo||S.stateNode.implementation!==O.implementation?(S=S0(O,k.mode,B),S.return=k,S):(S=i(S,O.children||[]),S.return=k,S)}function w(k,S,O,B,X){return S===null||S.tag!==7?(S=to(O,k.mode,B,X),S.return=k,S):(S=i(S,O),S.return=k,S)}function _(k,S,O){if(typeof S=="string"&&S!==""||typeof S=="number")return S=T0(""+S,k.mode,O),S.return=k,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ku:return O=wh(S.type,S.key,S.props,null,k.mode,O),O.ref=_l(k,null,S),O.return=k,O;case qo:return S=S0(S,k.mode,O),S.return=k,S;case Zi:var B=S._init;return _(k,B(S._payload),O)}if(Dl(S)||yl(S))return S=to(S,k.mode,O,null),S.return=k,S;Hu(k,S)}return null}function I(k,S,O,B){var X=S!==null?S.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return X!==null?null:g(k,S,""+O,B);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ku:return O.key===X?m(k,S,O,B):null;case qo:return O.key===X?p(k,S,O,B):null;case Zi:return X=O._init,I(k,S,X(O._payload),B)}if(Dl(O)||yl(O))return X!==null?null:w(k,S,O,B,null);Hu(k,O)}return null}function b(k,S,O,B,X){if(typeof B=="string"&&B!==""||typeof B=="number")return k=k.get(O)||null,g(S,k,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ku:return k=k.get(B.key===null?O:B.key)||null,m(S,k,B,X);case qo:return k=k.get(B.key===null?O:B.key)||null,p(S,k,B,X);case Zi:var G=B._init;return b(k,S,O,G(B._payload),X)}if(Dl(B)||yl(B))return k=k.get(O)||null,w(S,k,B,X,null);Hu(S,B)}return null}function M(k,S,O,B){for(var X=null,G=null,j=S,Z=S=0,$=null;j!==null&&Z<O.length;Z++){j.index>Z?($=j,j=null):$=j.sibling;var se=I(k,j,O[Z],B);if(se===null){j===null&&(j=$);break}t&&j&&se.alternate===null&&e(k,j),S=o(se,S,Z),G===null?X=se:G.sibling=se,G=se,j=$}if(Z===O.length)return n(k,j),mt&&Gs(k,Z),X;if(j===null){for(;Z<O.length;Z++)j=_(k,O[Z],B),j!==null&&(S=o(j,S,Z),G===null?X=j:G.sibling=j,G=j);return mt&&Gs(k,Z),X}for(j=r(k,j);Z<O.length;Z++)$=b(j,k,Z,O[Z],B),$!==null&&(t&&$.alternate!==null&&j.delete($.key===null?Z:$.key),S=o($,S,Z),G===null?X=$:G.sibling=$,G=$);return t&&j.forEach(function(Me){return e(k,Me)}),mt&&Gs(k,Z),X}function R(k,S,O,B){var X=yl(O);if(typeof X!="function")throw Error(J(150));if(O=X.call(O),O==null)throw Error(J(151));for(var G=X=null,j=S,Z=S=0,$=null,se=O.next();j!==null&&!se.done;Z++,se=O.next()){j.index>Z?($=j,j=null):$=j.sibling;var Me=I(k,j,se.value,B);if(Me===null){j===null&&(j=$);break}t&&j&&Me.alternate===null&&e(k,j),S=o(Me,S,Z),G===null?X=Me:G.sibling=Me,G=Me,j=$}if(se.done)return n(k,j),mt&&Gs(k,Z),X;if(j===null){for(;!se.done;Z++,se=O.next())se=_(k,se.value,B),se!==null&&(S=o(se,S,Z),G===null?X=se:G.sibling=se,G=se);return mt&&Gs(k,Z),X}for(j=r(k,j);!se.done;Z++,se=O.next())se=b(j,k,Z,se.value,B),se!==null&&(t&&se.alternate!==null&&j.delete(se.key===null?Z:se.key),S=o(se,S,Z),G===null?X=se:G.sibling=se,G=se);return t&&j.forEach(function(pe){return e(k,pe)}),mt&&Gs(k,Z),X}function F(k,S,O,B){if(typeof O=="object"&&O!==null&&O.type===Qo&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case ku:e:{for(var X=O.key,G=S;G!==null;){if(G.key===X){if(X=O.type,X===Qo){if(G.tag===7){n(k,G.sibling),S=i(G,O.props.children),S.return=k,k=S;break e}}else if(G.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Zi&&Ay(X)===G.type){n(k,G.sibling),S=i(G,O.props),S.ref=_l(k,G,O),S.return=k,k=S;break e}n(k,G);break}else e(k,G);G=G.sibling}O.type===Qo?(S=to(O.props.children,k.mode,B,O.key),S.return=k,k=S):(B=wh(O.type,O.key,O.props,null,k.mode,B),B.ref=_l(k,S,O),B.return=k,k=B)}return c(k);case qo:e:{for(G=O.key;S!==null;){if(S.key===G)if(S.tag===4&&S.stateNode.containerInfo===O.containerInfo&&S.stateNode.implementation===O.implementation){n(k,S.sibling),S=i(S,O.children||[]),S.return=k,k=S;break e}else{n(k,S);break}else e(k,S);S=S.sibling}S=S0(O,k.mode,B),S.return=k,k=S}return c(k);case Zi:return G=O._init,F(k,S,G(O._payload),B)}if(Dl(O))return M(k,S,O,B);if(yl(O))return R(k,S,O,B);Hu(k,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,S!==null&&S.tag===6?(n(k,S.sibling),S=i(S,O),S.return=k,k=S):(n(k,S),S=T0(O,k.mode,B),S.return=k,k=S),c(k)):n(k,S)}return F}var Ra=Rv(!0),Ov=Rv(!1),Xc={},ci=Os(Xc),mc=Os(Xc),yc=Os(Xc);function qs(t){if(t===Xc)throw Error(J(174));return t}function hp(t,e){switch(at(yc,e),at(mc,t),at(ci,Xc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:d1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=d1(e,t)}dt(ci),at(ci,e)}function Oa(){dt(ci),dt(mc),dt(yc)}function kv(t){qs(yc.current);var e=qs(ci.current),n=d1(e,t.type);e!==n&&(at(mc,t),at(ci,n))}function dp(t){mc.current===t&&(dt(ci),dt(mc))}var Et=Os(0);function Xh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var E0=[];function fp(){for(var t=0;t<E0.length;t++)E0[t]._workInProgressVersionPrimary=null;E0.length=0}var gh=ji.ReactCurrentDispatcher,v0=ji.ReactCurrentBatchConfig,co=0,_t=null,Yt=null,tn=null,Yh=!1,Xl=!1,xc=0,iS=0;function vn(){throw Error(J(321))}function gp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jr(t[n],e[n]))return!1;return!0}function pp(t,e,n,r,i,o){if(co=o,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gh.current=t===null||t.memoizedState===null?lS:cS,t=n(r,i),Xl){o=0;do{if(Xl=!1,xc=0,25<=o)throw Error(J(301));o+=1,tn=Yt=null,e.updateQueue=null,gh.current=uS,t=n(r,i)}while(Xl)}if(gh.current=Kh,e=Yt!==null&&Yt.next!==null,co=0,tn=Yt=_t=null,Yh=!1,e)throw Error(J(300));return t}function mp(){var t=xc!==0;return xc=0,t}function Qr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?_t.memoizedState=tn=t:tn=tn.next=t,tn}function Sr(){if(Yt===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var e=tn===null?_t.memoizedState:tn.next;if(e!==null)tn=e,Yt=t;else{if(t===null)throw Error(J(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},tn===null?_t.memoizedState=tn=t:tn=tn.next=t}return tn}function wc(t,e){return typeof e=="function"?e(t):e}function _0(t){var e=Sr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Yt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var c=i.next;i.next=o.next,o.next=c}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var g=c=null,m=null,p=o;do{var w=p.lane;if((co&w)===w)m!==null&&(m=m.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:t(r,p.action);else{var _={lane:w,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};m===null?(g=m=_,c=r):m=m.next=_,_t.lanes|=w,uo|=w}p=p.next}while(p!==null&&p!==o);m===null?c=r:m.next=g,jr(r,e.memoizedState)||(Qn=!0),e.memoizedState=r,e.baseState=c,e.baseQueue=m,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,_t.lanes|=o,uo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function C0(t){var e=Sr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var c=i=i.next;do o=t(o,c.action),c=c.next;while(c!==i);jr(o,e.memoizedState)||(Qn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Dv(){}function Mv(t,e){var n=_t,r=Sr(),i=e(),o=!jr(r.memoizedState,i);if(o&&(r.memoizedState=i,Qn=!0),r=r.queue,yp(Bv.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||tn!==null&&tn.memoizedState.tag&1){if(n.flags|=2048,Ec(9,Lv.bind(null,n,r,i,e),void 0,null),nn===null)throw Error(J(349));co&30||Pv(n,e,i)}return i}function Pv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Lv(t,e,n,r){e.value=n,e.getSnapshot=r,Fv(e)&&jv(t)}function Bv(t,e,n){return n(function(){Fv(e)&&jv(t)})}function Fv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jr(t,n)}catch{return!0}}function jv(t){var e=Di(t,1);e!==null&&Br(e,t,1,-1)}function Iy(t){var e=Qr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wc,lastRenderedState:t},e.queue=t,t=t.dispatch=aS.bind(null,_t,t),[e.memoizedState,t]}function Ec(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Vv(){return Sr().memoizedState}function ph(t,e,n,r){var i=Qr();_t.flags|=t,i.memoizedState=Ec(1|e,n,void 0,r===void 0?null:r)}function jd(t,e,n,r){var i=Sr();r=r===void 0?null:r;var o=void 0;if(Yt!==null){var c=Yt.memoizedState;if(o=c.destroy,r!==null&&gp(r,c.deps)){i.memoizedState=Ec(e,n,o,r);return}}_t.flags|=t,i.memoizedState=Ec(1|e,n,o,r)}function Ty(t,e){return ph(8390656,8,t,e)}function yp(t,e){return jd(2048,8,t,e)}function Uv(t,e){return jd(4,2,t,e)}function zv(t,e){return jd(4,4,t,e)}function Hv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Wv(t,e,n){return n=n!=null?n.concat([t]):null,jd(4,4,Hv.bind(null,e,t),n)}function xp(){}function Gv(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $v(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Xv(t,e,n){return co&21?(jr(n,e)||(n=qE(),_t.lanes|=n,uo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qn=!0),t.memoizedState=n)}function sS(t,e){var n=Je;Je=n!==0&&4>n?n:4,t(!0);var r=v0.transition;v0.transition={};try{t(!1),e()}finally{Je=n,v0.transition=r}}function Yv(){return Sr().memoizedState}function oS(t,e,n){var r=xs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Kv(t))qv(e,n);else if(n=Tv(t,e,n,r),n!==null){var i=Un();Br(n,t,r,i),Qv(n,e,r)}}function aS(t,e,n){var r=xs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kv(t))qv(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var c=e.lastRenderedState,g=o(c,n);if(i.hasEagerState=!0,i.eagerState=g,jr(g,c)){var m=e.interleaved;m===null?(i.next=i,cp(e)):(i.next=m.next,m.next=i),e.interleaved=i;return}}catch{}finally{}n=Tv(t,e,i,r),n!==null&&(i=Un(),Br(n,t,r,i),Qv(n,e,r))}}function Kv(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function qv(t,e){Xl=Yh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Qv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kg(t,n)}}var Kh={readContext:Tr,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},lS={readContext:Tr,useCallback:function(t,e){return Qr().memoizedState=[t,e===void 0?null:e],t},useContext:Tr,useEffect:Ty,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ph(4194308,4,Hv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ph(4194308,4,t,e)},useInsertionEffect:function(t,e){return ph(4,2,t,e)},useMemo:function(t,e){var n=Qr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=oS.bind(null,_t,t),[r.memoizedState,t]},useRef:function(t){var e=Qr();return t={current:t},e.memoizedState=t},useState:Iy,useDebugValue:xp,useDeferredValue:function(t){return Qr().memoizedState=t},useTransition:function(){var t=Iy(!1),e=t[0];return t=sS.bind(null,t[1]),Qr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_t,i=Qr();if(mt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),nn===null)throw Error(J(349));co&30||Pv(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Ty(Bv.bind(null,r,o,t),[t]),r.flags|=2048,Ec(9,Lv.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Qr(),e=nn.identifierPrefix;if(mt){var n=Ci,r=_i;n=(r&~(1<<32-Lr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cS={readContext:Tr,useCallback:Gv,useContext:Tr,useEffect:yp,useImperativeHandle:Wv,useInsertionEffect:Uv,useLayoutEffect:zv,useMemo:$v,useReducer:_0,useRef:Vv,useState:function(){return _0(wc)},useDebugValue:xp,useDeferredValue:function(t){var e=Sr();return Xv(e,Yt.memoizedState,t)},useTransition:function(){var t=_0(wc)[0],e=Sr().memoizedState;return[t,e]},useMutableSource:Dv,useSyncExternalStore:Mv,useId:Yv,unstable_isNewReconciler:!1},uS={readContext:Tr,useCallback:Gv,useContext:Tr,useEffect:yp,useImperativeHandle:Wv,useInsertionEffect:Uv,useLayoutEffect:zv,useMemo:$v,useReducer:C0,useRef:Vv,useState:function(){return C0(wc)},useDebugValue:xp,useDeferredValue:function(t){var e=Sr();return Yt===null?e.memoizedState=t:Xv(e,Yt.memoizedState,t)},useTransition:function(){var t=C0(wc)[0],e=Sr().memoizedState;return[t,e]},useMutableSource:Dv,useSyncExternalStore:Mv,useId:Yv,unstable_isNewReconciler:!1};function ka(t,e){try{var n="",r=e;do n+=FT(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function A0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function P1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hS=typeof WeakMap=="function"?WeakMap:Map;function Zv(t,e,n){n=bi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qh||(Qh=!0,G1=r),P1(t,e)},n}function Jv(t,e,n){n=bi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){P1(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){P1(t,e),typeof r!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var c=e.stack;this.componentDidCatch(e.value,{componentStack:c!==null?c:""})}),n}function Sy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new hS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=IS.bind(null,t,e,n),e.then(t,t))}function by(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ny(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bi(-1,1),e.tag=2,ms(n,e,1))),n.lanes|=1),t)}var dS=ji.ReactCurrentOwner,Qn=!1;function Fn(t,e,n,r){e.child=t===null?Ov(e,null,n,r):Ra(e,t.child,n,r)}function Ry(t,e,n,r,i){n=n.render;var o=e.ref;return pa(e,i),r=pp(t,e,n,r,o,i),n=mp(),t!==null&&!Qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mi(t,e,i)):(mt&&n&&rp(e),e.flags|=1,Fn(t,e,r,i),e.child)}function Oy(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Tp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,e_(t,e,o,r,i)):(t=wh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var c=o.memoizedProps;if(n=n.compare,n=n!==null?n:dc,n(c,r)&&t.ref===e.ref)return Mi(t,e,i)}return e.flags|=1,t=ws(o,r),t.ref=e.ref,t.return=e,e.child=t}function e_(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(dc(o,r)&&t.ref===e.ref)if(Qn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Qn=!0);else return e.lanes=t.lanes,Mi(t,e,i)}return L1(t,e,n,r,i)}function t_(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(aa,sr),sr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(aa,sr),sr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,at(aa,sr),sr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,at(aa,sr),sr|=r;return Fn(t,e,i,n),e.child}function n_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function L1(t,e,n,r,i){var o=Jn(n)?ao:On.current;return o=ba(e,o),pa(e,i),n=pp(t,e,n,r,o,i),r=mp(),t!==null&&!Qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mi(t,e,i)):(mt&&r&&rp(e),e.flags|=1,Fn(t,e,n,i),e.child)}function ky(t,e,n,r,i){if(Jn(n)){var o=!0;Uh(e)}else o=!1;if(pa(e,i),e.stateNode===null)mh(t,e),Nv(e,n,r),M1(e,n,r,i),r=!0;else if(t===null){var c=e.stateNode,g=e.memoizedProps;c.props=g;var m=c.context,p=n.contextType;typeof p=="object"&&p!==null?p=Tr(p):(p=Jn(n)?ao:On.current,p=ba(e,p));var w=n.getDerivedStateFromProps,_=typeof w=="function"||typeof c.getSnapshotBeforeUpdate=="function";_||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g!==r||m!==p)&&Cy(e,c,r,p),Ji=!1;var I=e.memoizedState;c.state=I,$h(e,r,c,i),m=e.memoizedState,g!==r||I!==m||Zn.current||Ji?(typeof w=="function"&&(D1(e,n,w,r),m=e.memoizedState),(g=Ji||_y(e,n,g,r,I,m,p))?(_||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(e.flags|=4194308)):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=m),c.props=r,c.state=m,c.context=p,r=g):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{c=e.stateNode,Sv(t,e),g=e.memoizedProps,p=e.type===e.elementType?g:kr(e.type,g),c.props=p,_=e.pendingProps,I=c.context,m=n.contextType,typeof m=="object"&&m!==null?m=Tr(m):(m=Jn(n)?ao:On.current,m=ba(e,m));var b=n.getDerivedStateFromProps;(w=typeof b=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g!==_||I!==m)&&Cy(e,c,r,m),Ji=!1,I=e.memoizedState,c.state=I,$h(e,r,c,i);var M=e.memoizedState;g!==_||I!==M||Zn.current||Ji?(typeof b=="function"&&(D1(e,n,b,r),M=e.memoizedState),(p=Ji||_y(e,n,p,r,I,M,m)||!1)?(w||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,M,m),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,M,m)),typeof c.componentDidUpdate=="function"&&(e.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof c.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=M),c.props=r,c.state=M,c.context=m,r=p):(typeof c.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(e.flags|=1024),r=!1)}return B1(t,e,n,r,o,i)}function B1(t,e,n,r,i,o){n_(t,e);var c=(e.flags&128)!==0;if(!r&&!c)return i&&yy(e,n,!1),Mi(t,e,o);r=e.stateNode,dS.current=e;var g=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&c?(e.child=Ra(e,t.child,null,o),e.child=Ra(e,null,g,o)):Fn(t,e,g,o),e.memoizedState=r.state,i&&yy(e,n,!0),e.child}function r_(t){var e=t.stateNode;e.pendingContext?my(t,e.pendingContext,e.pendingContext!==e.context):e.context&&my(t,e.context,!1),hp(t,e.containerInfo)}function Dy(t,e,n,r,i){return Na(),sp(i),e.flags|=256,Fn(t,e,n,r),e.child}var F1={dehydrated:null,treeContext:null,retryLane:0};function j1(t){return{baseLanes:t,cachePool:null,transitions:null}}function i_(t,e,n){var r=e.pendingProps,i=Et.current,o=!1,c=(e.flags&128)!==0,g;if((g=c)||(g=t!==null&&t.memoizedState===null?!1:(i&2)!==0),g?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),at(Et,i&1),t===null)return O1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(c=r.children,t=r.fallback,o?(r=e.mode,o=e.child,c={mode:"hidden",children:c},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=c):o=zd(c,r,0,null),t=to(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=j1(n),e.memoizedState=F1,t):wp(e,c));if(i=t.memoizedState,i!==null&&(g=i.dehydrated,g!==null))return fS(t,e,c,r,g,i,n);if(o){o=r.fallback,c=e.mode,i=t.child,g=i.sibling;var m={mode:"hidden",children:r.children};return!(c&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=m,e.deletions=null):(r=ws(i,m),r.subtreeFlags=i.subtreeFlags&14680064),g!==null?o=ws(g,o):(o=to(o,c,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,c=t.child.memoizedState,c=c===null?j1(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},o.memoizedState=c,o.childLanes=t.childLanes&~n,e.memoizedState=F1,r}return o=t.child,t=o.sibling,r=ws(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wp(t,e){return e=zd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wu(t,e,n,r){return r!==null&&sp(r),Ra(e,t.child,null,n),t=wp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fS(t,e,n,r,i,o,c){if(n)return e.flags&256?(e.flags&=-257,r=A0(Error(J(422))),Wu(t,e,c,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=zd({mode:"visible",children:r.children},i,0,null),o=to(o,i,c,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ra(e,t.child,null,c),e.child.memoizedState=j1(c),e.memoizedState=F1,o);if(!(e.mode&1))return Wu(t,e,c,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var g=r.dgst;return r=g,o=Error(J(419)),r=A0(o,r,void 0),Wu(t,e,c,r)}if(g=(c&t.childLanes)!==0,Qn||g){if(r=nn,r!==null){switch(c&-c){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|c)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Di(t,i),Br(r,t,i,-1))}return Ip(),r=A0(Error(J(421))),Wu(t,e,c,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=TS.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,lr=ps(i.nextSibling),ur=e,mt=!0,Pr=null,t!==null&&(vr[_r++]=_i,vr[_r++]=Ci,vr[_r++]=lo,_i=t.id,Ci=t.overflow,lo=e),e=wp(e,r.children),e.flags|=4096,e)}function My(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),k1(t.return,e,n)}function I0(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function s_(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Fn(t,e,r.children,n),r=Et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&My(t,n,e);else if(t.tag===19)My(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(at(Et,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),I0(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}I0(e,!0,n,null,o);break;case"together":I0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),uo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=ws(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ws(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gS(t,e,n){switch(e.tag){case 3:r_(e),Na();break;case 5:kv(e);break;case 1:Jn(e.type)&&Uh(e);break;case 4:hp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;at(Wh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(at(Et,Et.current&1),e.flags|=128,null):n&e.child.childLanes?i_(t,e,n):(at(Et,Et.current&1),t=Mi(t,e,n),t!==null?t.sibling:null);at(Et,Et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return s_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),at(Et,Et.current),r)break;return null;case 22:case 23:return e.lanes=0,t_(t,e,n)}return Mi(t,e,n)}var o_,V1,a_,l_;o_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};V1=function(){};a_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,qs(ci.current);var o=null;switch(n){case"input":i=l1(t,i),r=l1(t,r),o=[];break;case"select":i=Ct({},i,{value:void 0}),r=Ct({},r,{value:void 0}),o=[];break;case"textarea":i=h1(t,i),r=h1(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jh)}f1(n,r);var c;n=null;for(p in i)if(!r.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var g=i[p];for(c in g)g.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(sc.hasOwnProperty(p)?o||(o=[]):(o=o||[]).push(p,null));for(p in r){var m=r[p];if(g=i!=null?i[p]:void 0,r.hasOwnProperty(p)&&m!==g&&(m!=null||g!=null))if(p==="style")if(g){for(c in g)!g.hasOwnProperty(c)||m&&m.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in m)m.hasOwnProperty(c)&&g[c]!==m[c]&&(n||(n={}),n[c]=m[c])}else n||(o||(o=[]),o.push(p,n)),n=m;else p==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,g=g?g.__html:void 0,m!=null&&g!==m&&(o=o||[]).push(p,m)):p==="children"?typeof m!="string"&&typeof m!="number"||(o=o||[]).push(p,""+m):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(sc.hasOwnProperty(p)?(m!=null&&p==="onScroll"&&ct("scroll",t),o||g===m||(o=[])):(o=o||[]).push(p,m))}n&&(o=o||[]).push("style",n);var p=o;(e.updateQueue=p)&&(e.flags|=4)}};l_=function(t,e,n,r){n!==r&&(e.flags|=4)};function Cl(t,e){if(!mt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pS(t,e,n){var r=e.pendingProps;switch(ip(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(e),null;case 1:return Jn(e.type)&&Vh(),_n(e),null;case 3:return r=e.stateNode,Oa(),dt(Zn),dt(On),fp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pr!==null&&(Y1(Pr),Pr=null))),V1(t,e),_n(e),null;case 5:dp(e);var i=qs(yc.current);if(n=e.type,t!==null&&e.stateNode!=null)a_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return _n(e),null}if(t=qs(ci.current),zu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ti]=e,r[pc]=o,t=(e.mode&1)!==0,n){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(i=0;i<Pl.length;i++)ct(Pl[i],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":H2(r,o),ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ct("invalid",r);break;case"textarea":G2(r,o),ct("invalid",r)}f1(n,o),i=null;for(var c in o)if(o.hasOwnProperty(c)){var g=o[c];c==="children"?typeof g=="string"?r.textContent!==g&&(o.suppressHydrationWarning!==!0&&Uu(r.textContent,g,t),i=["children",g]):typeof g=="number"&&r.textContent!==""+g&&(o.suppressHydrationWarning!==!0&&Uu(r.textContent,g,t),i=["children",""+g]):sc.hasOwnProperty(c)&&g!=null&&c==="onScroll"&&ct("scroll",r)}switch(n){case"input":Du(r),W2(r,o,!0);break;case"textarea":Du(r),$2(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=jh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{c=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=PE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=c.createElement(n,{is:r.is}):(t=c.createElement(n),n==="select"&&(c=t,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):t=c.createElementNS(t,n),t[ti]=e,t[pc]=r,o_(t,e,!1,!1),e.stateNode=t;e:{switch(c=g1(n,r),n){case"dialog":ct("cancel",t),ct("close",t),i=r;break;case"iframe":case"object":case"embed":ct("load",t),i=r;break;case"video":case"audio":for(i=0;i<Pl.length;i++)ct(Pl[i],t);i=r;break;case"source":ct("error",t),i=r;break;case"img":case"image":case"link":ct("error",t),ct("load",t),i=r;break;case"details":ct("toggle",t),i=r;break;case"input":H2(t,r),i=l1(t,r),ct("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ct({},r,{value:void 0}),ct("invalid",t);break;case"textarea":G2(t,r),i=h1(t,r),ct("invalid",t);break;default:i=r}f1(n,i),g=i;for(o in g)if(g.hasOwnProperty(o)){var m=g[o];o==="style"?FE(t,m):o==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&LE(t,m)):o==="children"?typeof m=="string"?(n!=="textarea"||m!=="")&&oc(t,m):typeof m=="number"&&oc(t,""+m):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(sc.hasOwnProperty(o)?m!=null&&o==="onScroll"&&ct("scroll",t):m!=null&&Hg(t,o,m,c))}switch(n){case"input":Du(t),W2(t,r,!1);break;case"textarea":Du(t),$2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Cs(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ha(t,!!r.multiple,o,!1):r.defaultValue!=null&&ha(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=jh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _n(e),null;case 6:if(t&&e.stateNode!=null)l_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=qs(yc.current),qs(ci.current),zu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ti]=e,(o=r.nodeValue!==n)&&(t=ur,t!==null))switch(t.tag){case 3:Uu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Uu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ti]=e,e.stateNode=r}return _n(e),null;case 13:if(dt(Et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mt&&lr!==null&&e.mode&1&&!(e.flags&128))Iv(),Na(),e.flags|=98560,o=!1;else if(o=zu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[ti]=e}else Na(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_n(e),o=!1}else Pr!==null&&(Y1(Pr),Pr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?Kt===0&&(Kt=3):Ip())),e.updateQueue!==null&&(e.flags|=4),_n(e),null);case 4:return Oa(),V1(t,e),t===null&&fc(e.stateNode.containerInfo),_n(e),null;case 10:return lp(e.type._context),_n(e),null;case 17:return Jn(e.type)&&Vh(),_n(e),null;case 19:if(dt(Et),o=e.memoizedState,o===null)return _n(e),null;if(r=(e.flags&128)!==0,c=o.rendering,c===null)if(r)Cl(o,!1);else{if(Kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(c=Xh(t),c!==null){for(e.flags|=128,Cl(o,!1),r=c.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,c=o.alternate,c===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,t=c.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return at(Et,Et.current&1|2),e.child}t=t.sibling}o.tail!==null&&Lt()>Da&&(e.flags|=128,r=!0,Cl(o,!1),e.lanes=4194304)}else{if(!r)if(t=Xh(c),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Cl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!mt)return _n(e),null}else 2*Lt()-o.renderingStartTime>Da&&n!==1073741824&&(e.flags|=128,r=!0,Cl(o,!1),e.lanes=4194304);o.isBackwards?(c.sibling=e.child,e.child=c):(n=o.last,n!==null?n.sibling=c:e.child=c,o.last=c)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Lt(),e.sibling=null,n=Et.current,at(Et,r?n&1|2:n&1),e):(_n(e),null);case 22:case 23:return Ap(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sr&1073741824&&(_n(e),e.subtreeFlags&6&&(e.flags|=8192)):_n(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function mS(t,e){switch(ip(e),e.tag){case 1:return Jn(e.type)&&Vh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oa(),dt(Zn),dt(On),fp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dp(e),null;case 13:if(dt(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Na()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(Et),null;case 4:return Oa(),null;case 10:return lp(e.type._context),null;case 22:case 23:return Ap(),null;case 24:return null;default:return null}}var Gu=!1,Tn=!1,yS=typeof WeakSet=="function"?WeakSet:Set,ce=null;function oa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ot(t,e,r)}else n.current=null}function U1(t,e,n){try{n()}catch(r){Ot(t,e,r)}}var Py=!1;function xS(t,e){if(A1=Lh,t=dv(),np(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var c=0,g=-1,m=-1,p=0,w=0,_=t,I=null;t:for(;;){for(var b;_!==n||i!==0&&_.nodeType!==3||(g=c+i),_!==o||r!==0&&_.nodeType!==3||(m=c+r),_.nodeType===3&&(c+=_.nodeValue.length),(b=_.firstChild)!==null;)I=_,_=b;for(;;){if(_===t)break t;if(I===n&&++p===i&&(g=c),I===o&&++w===r&&(m=c),(b=_.nextSibling)!==null)break;_=I,I=_.parentNode}_=b}n=g===-1||m===-1?null:{start:g,end:m}}else n=null}n=n||{start:0,end:0}}else n=null;for(I1={focusedElem:t,selectionRange:n},Lh=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var M=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var R=M.memoizedProps,F=M.memoizedState,k=e.stateNode,S=k.getSnapshotBeforeUpdate(e.elementType===e.type?R:kr(e.type,R),F);k.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var O=e.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(B){Ot(e,e.return,B)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return M=Py,Py=!1,M}function Yl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&U1(e,n,o)}i=i.next}while(i!==r)}}function Vd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function z1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function c_(t){var e=t.alternate;e!==null&&(t.alternate=null,c_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ti],delete e[pc],delete e[b1],delete e[eS],delete e[tS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function u_(t){return t.tag===5||t.tag===3||t.tag===4}function Ly(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||u_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function H1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jh));else if(r!==4&&(t=t.child,t!==null))for(H1(t,e,n),t=t.sibling;t!==null;)H1(t,e,n),t=t.sibling}function W1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(W1(t,e,n),t=t.sibling;t!==null;)W1(t,e,n),t=t.sibling}var hn=null,Dr=!1;function Ki(t,e,n){for(n=n.child;n!==null;)h_(t,e,n),n=n.sibling}function h_(t,e,n){if(li&&typeof li.onCommitFiberUnmount=="function")try{li.onCommitFiberUnmount(kd,n)}catch{}switch(n.tag){case 5:Tn||oa(n,e);case 6:var r=hn,i=Dr;hn=null,Ki(t,e,n),hn=r,Dr=i,hn!==null&&(Dr?(t=hn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):hn.removeChild(n.stateNode));break;case 18:hn!==null&&(Dr?(t=hn,n=n.stateNode,t.nodeType===8?x0(t.parentNode,n):t.nodeType===1&&x0(t,n),uc(t)):x0(hn,n.stateNode));break;case 4:r=hn,i=Dr,hn=n.stateNode.containerInfo,Dr=!0,Ki(t,e,n),hn=r,Dr=i;break;case 0:case 11:case 14:case 15:if(!Tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,c=o.destroy;o=o.tag,c!==void 0&&(o&2||o&4)&&U1(n,e,c),i=i.next}while(i!==r)}Ki(t,e,n);break;case 1:if(!Tn&&(oa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(g){Ot(n,e,g)}Ki(t,e,n);break;case 21:Ki(t,e,n);break;case 22:n.mode&1?(Tn=(r=Tn)||n.memoizedState!==null,Ki(t,e,n),Tn=r):Ki(t,e,n);break;default:Ki(t,e,n)}}function By(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yS),e.forEach(function(r){var i=SS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,c=e,g=c;e:for(;g!==null;){switch(g.tag){case 5:hn=g.stateNode,Dr=!1;break e;case 3:hn=g.stateNode.containerInfo,Dr=!0;break e;case 4:hn=g.stateNode.containerInfo,Dr=!0;break e}g=g.return}if(hn===null)throw Error(J(160));h_(o,c,i),hn=null,Dr=!1;var m=i.alternate;m!==null&&(m.return=null),i.return=null}catch(p){Ot(i,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)d_(e,t),e=e.sibling}function d_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Or(e,t),qr(t),r&4){try{Yl(3,t,t.return),Vd(3,t)}catch(R){Ot(t,t.return,R)}try{Yl(5,t,t.return)}catch(R){Ot(t,t.return,R)}}break;case 1:Or(e,t),qr(t),r&512&&n!==null&&oa(n,n.return);break;case 5:if(Or(e,t),qr(t),r&512&&n!==null&&oa(n,n.return),t.flags&32){var i=t.stateNode;try{oc(i,"")}catch(R){Ot(t,t.return,R)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,c=n!==null?n.memoizedProps:o,g=t.type,m=t.updateQueue;if(t.updateQueue=null,m!==null)try{g==="input"&&o.type==="radio"&&o.name!=null&&DE(i,o),g1(g,c);var p=g1(g,o);for(c=0;c<m.length;c+=2){var w=m[c],_=m[c+1];w==="style"?FE(i,_):w==="dangerouslySetInnerHTML"?LE(i,_):w==="children"?oc(i,_):Hg(i,w,_,p)}switch(g){case"input":c1(i,o);break;case"textarea":ME(i,o);break;case"select":var I=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var b=o.value;b!=null?ha(i,!!o.multiple,b,!1):I!==!!o.multiple&&(o.defaultValue!=null?ha(i,!!o.multiple,o.defaultValue,!0):ha(i,!!o.multiple,o.multiple?[]:"",!1))}i[pc]=o}catch(R){Ot(t,t.return,R)}}break;case 6:if(Or(e,t),qr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(R){Ot(t,t.return,R)}}break;case 3:if(Or(e,t),qr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{uc(e.containerInfo)}catch(R){Ot(t,t.return,R)}break;case 4:Or(e,t),qr(t);break;case 13:Or(e,t),qr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(_p=Lt())),r&4&&By(t);break;case 22:if(w=n!==null&&n.memoizedState!==null,t.mode&1?(Tn=(p=Tn)||w,Or(e,t),Tn=p):Or(e,t),qr(t),r&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!w&&t.mode&1)for(ce=t,w=t.child;w!==null;){for(_=ce=w;ce!==null;){switch(I=ce,b=I.child,I.tag){case 0:case 11:case 14:case 15:Yl(4,I,I.return);break;case 1:oa(I,I.return);var M=I.stateNode;if(typeof M.componentWillUnmount=="function"){r=I,n=I.return;try{e=r,M.props=e.memoizedProps,M.state=e.memoizedState,M.componentWillUnmount()}catch(R){Ot(r,n,R)}}break;case 5:oa(I,I.return);break;case 22:if(I.memoizedState!==null){jy(_);continue}}b!==null?(b.return=I,ce=b):jy(_)}w=w.sibling}e:for(w=null,_=t;;){if(_.tag===5){if(w===null){w=_;try{i=_.stateNode,p?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(g=_.stateNode,m=_.memoizedProps.style,c=m!=null&&m.hasOwnProperty("display")?m.display:null,g.style.display=BE("display",c))}catch(R){Ot(t,t.return,R)}}}else if(_.tag===6){if(w===null)try{_.stateNode.nodeValue=p?"":_.memoizedProps}catch(R){Ot(t,t.return,R)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;w===_&&(w=null),_=_.return}w===_&&(w=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Or(e,t),qr(t),r&4&&By(t);break;case 21:break;default:Or(e,t),qr(t)}}function qr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(u_(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(oc(i,""),r.flags&=-33);var o=Ly(t);W1(t,o,i);break;case 3:case 4:var c=r.stateNode.containerInfo,g=Ly(t);H1(t,g,c);break;default:throw Error(J(161))}}catch(m){Ot(t,t.return,m)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wS(t,e,n){ce=t,f_(t)}function f_(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var i=ce,o=i.child;if(i.tag===22&&r){var c=i.memoizedState!==null||Gu;if(!c){var g=i.alternate,m=g!==null&&g.memoizedState!==null||Tn;g=Gu;var p=Tn;if(Gu=c,(Tn=m)&&!p)for(ce=i;ce!==null;)c=ce,m=c.child,c.tag===22&&c.memoizedState!==null?Vy(i):m!==null?(m.return=c,ce=m):Vy(i);for(;o!==null;)ce=o,f_(o),o=o.sibling;ce=i,Gu=g,Tn=p}Fy(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ce=o):Fy(t)}}function Fy(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tn||Vd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:kr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&vy(e,o,r);break;case 3:var c=e.updateQueue;if(c!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vy(e,c,n)}break;case 5:var g=e.stateNode;if(n===null&&e.flags&4){n=g;var m=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&n.focus();break;case"img":m.src&&(n.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var w=p.memoizedState;if(w!==null){var _=w.dehydrated;_!==null&&uc(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Tn||e.flags&512&&z1(e)}catch(I){Ot(e,e.return,I)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function jy(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function Vy(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vd(4,e)}catch(m){Ot(e,n,m)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(m){Ot(e,i,m)}}var o=e.return;try{z1(e)}catch(m){Ot(e,o,m)}break;case 5:var c=e.return;try{z1(e)}catch(m){Ot(e,c,m)}}}catch(m){Ot(e,e.return,m)}if(e===t){ce=null;break}var g=e.sibling;if(g!==null){g.return=e.return,ce=g;break}ce=e.return}}var ES=Math.ceil,qh=ji.ReactCurrentDispatcher,Ep=ji.ReactCurrentOwner,Ir=ji.ReactCurrentBatchConfig,ze=0,nn=null,zt=null,pn=0,sr=0,aa=Os(0),Kt=0,vc=null,uo=0,Ud=0,vp=0,Kl=null,qn=null,_p=0,Da=1/0,wi=null,Qh=!1,G1=null,ys=null,$u=!1,ls=null,Zh=0,ql=0,$1=null,yh=-1,xh=0;function Un(){return ze&6?Lt():yh!==-1?yh:yh=Lt()}function xs(t){return t.mode&1?ze&2&&pn!==0?pn&-pn:rS.transition!==null?(xh===0&&(xh=qE()),xh):(t=Je,t!==0||(t=window.event,t=t===void 0?16:rv(t.type)),t):1}function Br(t,e,n,r){if(50<ql)throw ql=0,$1=null,Error(J(185));Wc(t,n,r),(!(ze&2)||t!==nn)&&(t===nn&&(!(ze&2)&&(Ud|=n),Kt===4&&ts(t,pn)),er(t,r),n===1&&ze===0&&!(e.mode&1)&&(Da=Lt()+500,Bd&&ks()))}function er(t,e){var n=t.callbackNode;r4(t,e);var r=Ph(t,t===nn?pn:0);if(r===0)n!==null&&K2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&K2(n),e===1)t.tag===0?nS(Uy.bind(null,t)):_v(Uy.bind(null,t)),Z4(function(){!(ze&6)&&ks()}),n=null;else{switch(QE(r)){case 1:n=Yg;break;case 4:n=YE;break;case 16:n=Mh;break;case 536870912:n=KE;break;default:n=Mh}n=v_(n,g_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function g_(t,e){if(yh=-1,xh=0,ze&6)throw Error(J(327));var n=t.callbackNode;if(ma()&&t.callbackNode!==n)return null;var r=Ph(t,t===nn?pn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jh(t,r);else{e=r;var i=ze;ze|=2;var o=m_();(nn!==t||pn!==e)&&(wi=null,Da=Lt()+500,eo(t,e));do try{CS();break}catch(g){p_(t,g)}while(1);ap(),qh.current=o,ze=i,zt!==null?e=0:(nn=null,pn=0,e=Kt)}if(e!==0){if(e===2&&(i=w1(t),i!==0&&(r=i,e=X1(t,i))),e===1)throw n=vc,eo(t,0),ts(t,r),er(t,Lt()),n;if(e===6)ts(t,r);else{if(i=t.current.alternate,!(r&30)&&!vS(i)&&(e=Jh(t,r),e===2&&(o=w1(t),o!==0&&(r=o,e=X1(t,o))),e===1))throw n=vc,eo(t,0),ts(t,r),er(t,Lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:$s(t,qn,wi);break;case 3:if(ts(t,r),(r&130023424)===r&&(e=_p+500-Lt(),10<e)){if(Ph(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Un(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=S1($s.bind(null,t,qn,wi),e);break}$s(t,qn,wi);break;case 4:if(ts(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var c=31-Lr(r);o=1<<c,c=e[c],c>i&&(i=c),r&=~o}if(r=i,r=Lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ES(r/1960))-r,10<r){t.timeoutHandle=S1($s.bind(null,t,qn,wi),r);break}$s(t,qn,wi);break;case 5:$s(t,qn,wi);break;default:throw Error(J(329))}}}return er(t,Lt()),t.callbackNode===n?g_.bind(null,t):null}function X1(t,e){var n=Kl;return t.current.memoizedState.isDehydrated&&(eo(t,e).flags|=256),t=Jh(t,e),t!==2&&(e=qn,qn=n,e!==null&&Y1(e)),t}function Y1(t){qn===null?qn=t:qn.push.apply(qn,t)}function vS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!jr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ts(t,e){for(e&=~vp,e&=~Ud,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Lr(e),r=1<<n;t[n]=-1,e&=~r}}function Uy(t){if(ze&6)throw Error(J(327));ma();var e=Ph(t,0);if(!(e&1))return er(t,Lt()),null;var n=Jh(t,e);if(t.tag!==0&&n===2){var r=w1(t);r!==0&&(e=r,n=X1(t,r))}if(n===1)throw n=vc,eo(t,0),ts(t,e),er(t,Lt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$s(t,qn,wi),er(t,Lt()),null}function Cp(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(Da=Lt()+500,Bd&&ks())}}function ho(t){ls!==null&&ls.tag===0&&!(ze&6)&&ma();var e=ze;ze|=1;var n=Ir.transition,r=Je;try{if(Ir.transition=null,Je=1,t)return t()}finally{Je=r,Ir.transition=n,ze=e,!(ze&6)&&ks()}}function Ap(){sr=aa.current,dt(aa)}function eo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Q4(n)),zt!==null)for(n=zt.return;n!==null;){var r=n;switch(ip(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vh();break;case 3:Oa(),dt(Zn),dt(On),fp();break;case 5:dp(r);break;case 4:Oa();break;case 13:dt(Et);break;case 19:dt(Et);break;case 10:lp(r.type._context);break;case 22:case 23:Ap()}n=n.return}if(nn=t,zt=t=ws(t.current,null),pn=sr=e,Kt=0,vc=null,vp=Ud=uo=0,qn=Kl=null,Ks!==null){for(e=0;e<Ks.length;e++)if(n=Ks[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var c=o.next;o.next=i,r.next=c}n.pending=r}Ks=null}return t}function p_(t,e){do{var n=zt;try{if(ap(),gh.current=Kh,Yh){for(var r=_t.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Yh=!1}if(co=0,tn=Yt=_t=null,Xl=!1,xc=0,Ep.current=null,n===null||n.return===null){Kt=1,vc=e,zt=null;break}e:{var o=t,c=n.return,g=n,m=e;if(e=pn,g.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var p=m,w=g,_=w.tag;if(!(w.mode&1)&&(_===0||_===11||_===15)){var I=w.alternate;I?(w.updateQueue=I.updateQueue,w.memoizedState=I.memoizedState,w.lanes=I.lanes):(w.updateQueue=null,w.memoizedState=null)}var b=by(c);if(b!==null){b.flags&=-257,Ny(b,c,g,o,e),b.mode&1&&Sy(o,p,e),e=b,m=p;var M=e.updateQueue;if(M===null){var R=new Set;R.add(m),e.updateQueue=R}else M.add(m);break e}else{if(!(e&1)){Sy(o,p,e),Ip();break e}m=Error(J(426))}}else if(mt&&g.mode&1){var F=by(c);if(F!==null){!(F.flags&65536)&&(F.flags|=256),Ny(F,c,g,o,e),sp(ka(m,g));break e}}o=m=ka(m,g),Kt!==4&&(Kt=2),Kl===null?Kl=[o]:Kl.push(o),o=c;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var k=Zv(o,m,e);Ey(o,k);break e;case 1:g=m;var S=o.type,O=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(ys===null||!ys.has(O)))){o.flags|=65536,e&=-e,o.lanes|=e;var B=Jv(o,g,e);Ey(o,B);break e}}o=o.return}while(o!==null)}x_(n)}catch(X){e=X,zt===n&&n!==null&&(zt=n=n.return);continue}break}while(1)}function m_(){var t=qh.current;return qh.current=Kh,t===null?Kh:t}function Ip(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),nn===null||!(uo&268435455)&&!(Ud&268435455)||ts(nn,pn)}function Jh(t,e){var n=ze;ze|=2;var r=m_();(nn!==t||pn!==e)&&(wi=null,eo(t,e));do try{_S();break}catch(i){p_(t,i)}while(1);if(ap(),ze=n,qh.current=r,zt!==null)throw Error(J(261));return nn=null,pn=0,Kt}function _S(){for(;zt!==null;)y_(zt)}function CS(){for(;zt!==null&&!YT();)y_(zt)}function y_(t){var e=E_(t.alternate,t,sr);t.memoizedProps=t.pendingProps,e===null?x_(t):zt=e,Ep.current=null}function x_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mS(n,e),n!==null){n.flags&=32767,zt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Kt=6,zt=null;return}}else if(n=pS(n,e,sr),n!==null){zt=n;return}if(e=e.sibling,e!==null){zt=e;return}zt=e=t}while(e!==null);Kt===0&&(Kt=5)}function $s(t,e,n){var r=Je,i=Ir.transition;try{Ir.transition=null,Je=1,AS(t,e,n,r)}finally{Ir.transition=i,Je=r}return null}function AS(t,e,n,r){do ma();while(ls!==null);if(ze&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(i4(t,o),t===nn&&(zt=nn=null,pn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$u||($u=!0,v_(Mh,function(){return ma(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ir.transition,Ir.transition=null;var c=Je;Je=1;var g=ze;ze|=4,Ep.current=null,xS(t,n),d_(n,t),W4(I1),Lh=!!A1,I1=A1=null,t.current=n,wS(n),KT(),ze=g,Je=c,Ir.transition=o}else t.current=n;if($u&&($u=!1,ls=t,Zh=i),o=t.pendingLanes,o===0&&(ys=null),ZT(n.stateNode),er(t,Lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qh)throw Qh=!1,t=G1,G1=null,t;return Zh&1&&t.tag!==0&&ma(),o=t.pendingLanes,o&1?t===$1?ql++:(ql=0,$1=t):ql=0,ks(),null}function ma(){if(ls!==null){var t=QE(Zh),e=Ir.transition,n=Je;try{if(Ir.transition=null,Je=16>t?16:t,ls===null)var r=!1;else{if(t=ls,ls=null,Zh=0,ze&6)throw Error(J(331));var i=ze;for(ze|=4,ce=t.current;ce!==null;){var o=ce,c=o.child;if(ce.flags&16){var g=o.deletions;if(g!==null){for(var m=0;m<g.length;m++){var p=g[m];for(ce=p;ce!==null;){var w=ce;switch(w.tag){case 0:case 11:case 15:Yl(8,w,o)}var _=w.child;if(_!==null)_.return=w,ce=_;else for(;ce!==null;){w=ce;var I=w.sibling,b=w.return;if(c_(w),w===p){ce=null;break}if(I!==null){I.return=b,ce=I;break}ce=b}}}var M=o.alternate;if(M!==null){var R=M.child;if(R!==null){M.child=null;do{var F=R.sibling;R.sibling=null,R=F}while(R!==null)}}ce=o}}if(o.subtreeFlags&2064&&c!==null)c.return=o,ce=c;else e:for(;ce!==null;){if(o=ce,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Yl(9,o,o.return)}var k=o.sibling;if(k!==null){k.return=o.return,ce=k;break e}ce=o.return}}var S=t.current;for(ce=S;ce!==null;){c=ce;var O=c.child;if(c.subtreeFlags&2064&&O!==null)O.return=c,ce=O;else e:for(c=S;ce!==null;){if(g=ce,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Vd(9,g)}}catch(X){Ot(g,g.return,X)}if(g===c){ce=null;break e}var B=g.sibling;if(B!==null){B.return=g.return,ce=B;break e}ce=g.return}}if(ze=i,ks(),li&&typeof li.onPostCommitFiberRoot=="function")try{li.onPostCommitFiberRoot(kd,t)}catch{}r=!0}return r}finally{Je=n,Ir.transition=e}}return!1}function zy(t,e,n){e=ka(n,e),e=Zv(t,e,1),t=ms(t,e,1),e=Un(),t!==null&&(Wc(t,1,e),er(t,e))}function Ot(t,e,n){if(t.tag===3)zy(t,t,n);else for(;e!==null;){if(e.tag===3){zy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ys===null||!ys.has(r))){t=ka(n,t),t=Jv(e,t,1),e=ms(e,t,1),t=Un(),e!==null&&(Wc(e,1,t),er(e,t));break}}e=e.return}}function IS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Un(),t.pingedLanes|=t.suspendedLanes&n,nn===t&&(pn&n)===n&&(Kt===4||Kt===3&&(pn&130023424)===pn&&500>Lt()-_p?eo(t,0):vp|=n),er(t,e)}function w_(t,e){e===0&&(t.mode&1?(e=Lu,Lu<<=1,!(Lu&130023424)&&(Lu=4194304)):e=1);var n=Un();t=Di(t,e),t!==null&&(Wc(t,e,n),er(t,n))}function TS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),w_(t,n)}function SS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),w_(t,n)}var E_;E_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zn.current)Qn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qn=!1,gS(t,e,n);Qn=!!(t.flags&131072)}else Qn=!1,mt&&e.flags&1048576&&Cv(e,Hh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;mh(t,e),t=e.pendingProps;var i=ba(e,On.current);pa(e,n),i=pp(null,e,r,t,i,n);var o=mp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jn(r)?(o=!0,Uh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,up(e),i.updater=Fd,e.stateNode=i,i._reactInternals=e,M1(e,r,t,n),e=B1(null,e,r,!0,o,n)):(e.tag=0,mt&&o&&rp(e),Fn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(mh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=NS(r),t=kr(r,t),i){case 0:e=L1(null,e,r,t,n);break e;case 1:e=ky(null,e,r,t,n);break e;case 11:e=Ry(null,e,r,t,n);break e;case 14:e=Oy(null,e,r,kr(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),L1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),ky(t,e,r,i,n);case 3:e:{if(r_(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Sv(t,e),$h(e,r,null,n);var c=e.memoizedState;if(r=c.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ka(Error(J(423)),e),e=Dy(t,e,r,n,i);break e}else if(r!==i){i=ka(Error(J(424)),e),e=Dy(t,e,r,n,i);break e}else for(lr=ps(e.stateNode.containerInfo.firstChild),ur=e,mt=!0,Pr=null,n=Ov(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Na(),r===i){e=Mi(t,e,n);break e}Fn(t,e,r,n)}e=e.child}return e;case 5:return kv(e),t===null&&O1(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,c=i.children,T1(r,i)?c=null:o!==null&&T1(r,o)&&(e.flags|=32),n_(t,e),Fn(t,e,c,n),e.child;case 6:return t===null&&O1(e),null;case 13:return i_(t,e,n);case 4:return hp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ra(e,null,r,n):Fn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),Ry(t,e,r,i,n);case 7:return Fn(t,e,e.pendingProps,n),e.child;case 8:return Fn(t,e,e.pendingProps.children,n),e.child;case 12:return Fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,c=i.value,at(Wh,r._currentValue),r._currentValue=c,o!==null)if(jr(o.value,c)){if(o.children===i.children&&!Zn.current){e=Mi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var g=o.dependencies;if(g!==null){c=o.child;for(var m=g.firstContext;m!==null;){if(m.context===r){if(o.tag===1){m=bi(-1,n&-n),m.tag=2;var p=o.updateQueue;if(p!==null){p=p.shared;var w=p.pending;w===null?m.next=m:(m.next=w.next,w.next=m),p.pending=m}}o.lanes|=n,m=o.alternate,m!==null&&(m.lanes|=n),k1(o.return,n,e),g.lanes|=n;break}m=m.next}}else if(o.tag===10)c=o.type===e.type?null:o.child;else if(o.tag===18){if(c=o.return,c===null)throw Error(J(341));c.lanes|=n,g=c.alternate,g!==null&&(g.lanes|=n),k1(c,n,e),c=o.sibling}else c=o.child;if(c!==null)c.return=o;else for(c=o;c!==null;){if(c===e){c=null;break}if(o=c.sibling,o!==null){o.return=c.return,c=o;break}c=c.return}o=c}Fn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,pa(e,n),i=Tr(i),r=r(i),e.flags|=1,Fn(t,e,r,n),e.child;case 14:return r=e.type,i=kr(r,e.pendingProps),i=kr(r.type,i),Oy(t,e,r,i,n);case 15:return e_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),mh(t,e),e.tag=1,Jn(r)?(t=!0,Uh(e)):t=!1,pa(e,n),Nv(e,r,i),M1(e,r,i,n),B1(null,e,r,!0,t,n);case 19:return s_(t,e,n);case 22:return t_(t,e,n)}throw Error(J(156,e.tag))};function v_(t,e){return XE(t,e)}function bS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(t,e,n,r){return new bS(t,e,n,r)}function Tp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NS(t){if(typeof t=="function")return Tp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gg)return 11;if(t===$g)return 14}return 2}function ws(t,e){var n=t.alternate;return n===null?(n=Ar(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wh(t,e,n,r,i,o){var c=2;if(r=t,typeof t=="function")Tp(t)&&(c=1);else if(typeof t=="string")c=5;else e:switch(t){case Qo:return to(n.children,i,o,e);case Wg:c=8,i|=8;break;case i1:return t=Ar(12,n,e,i|2),t.elementType=i1,t.lanes=o,t;case s1:return t=Ar(13,n,e,i),t.elementType=s1,t.lanes=o,t;case o1:return t=Ar(19,n,e,i),t.elementType=o1,t.lanes=o,t;case RE:return zd(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bE:c=10;break e;case NE:c=9;break e;case Gg:c=11;break e;case $g:c=14;break e;case Zi:c=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Ar(c,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function to(t,e,n,r){return t=Ar(7,t,r,e),t.lanes=n,t}function zd(t,e,n,r){return t=Ar(22,t,r,e),t.elementType=RE,t.lanes=n,t.stateNode={isHidden:!1},t}function T0(t,e,n){return t=Ar(6,t,null,e),t.lanes=n,t}function S0(t,e,n){return e=Ar(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=a0(0),this.expirationTimes=a0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=a0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sp(t,e,n,r,i,o,c,g,m){return t=new RS(t,e,n,g,m),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ar(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},up(o),t}function OS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function __(t){if(!t)return As;t=t._reactInternals;e:{if(_o(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Jn(n))return vv(t,n,e)}return e}function C_(t,e,n,r,i,o,c,g,m){return t=Sp(n,r,!0,t,i,o,c,g,m),t.context=__(null),n=t.current,r=Un(),i=xs(n),o=bi(r,i),o.callback=e??null,ms(n,o,i),t.current.lanes=i,Wc(t,i,r),er(t,r),t}function Hd(t,e,n,r){var i=e.current,o=Un(),c=xs(i);return n=__(n),e.context===null?e.context=n:e.pendingContext=n,e=bi(o,c),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ms(i,e,c),t!==null&&(Br(t,i,c,o),fh(t,i,c)),c}function ed(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bp(t,e){Hy(t,e),(t=t.alternate)&&Hy(t,e)}function kS(){return null}var A_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Np(t){this._internalRoot=t}Wd.prototype.render=Np.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Hd(t,e,null,null)};Wd.prototype.unmount=Np.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ho(function(){Hd(null,t,null,null)}),e[ki]=null}};function Wd(t){this._internalRoot=t}Wd.prototype.unstable_scheduleHydration=function(t){if(t){var e=ev();t={blockedOn:null,target:t,priority:e};for(var n=0;n<es.length&&e!==0&&e<es[n].priority;n++);es.splice(n,0,t),n===0&&nv(t)}};function Rp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wy(){}function DS(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var p=ed(c);o.call(p)}}var c=C_(e,r,t,0,null,!1,!1,"",Wy);return t._reactRootContainer=c,t[ki]=c.current,fc(t.nodeType===8?t.parentNode:t),ho(),c}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var g=r;r=function(){var p=ed(m);g.call(p)}}var m=Sp(t,0,!1,null,null,!1,!1,"",Wy);return t._reactRootContainer=m,t[ki]=m.current,fc(t.nodeType===8?t.parentNode:t),ho(function(){Hd(e,m,n,r)}),m}function $d(t,e,n,r,i){var o=n._reactRootContainer;if(o){var c=o;if(typeof i=="function"){var g=i;i=function(){var m=ed(c);g.call(m)}}Hd(e,c,t,i)}else c=DS(n,e,t,i,r);return ed(c)}ZE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ml(e.pendingLanes);n!==0&&(Kg(e,n|1),er(e,Lt()),!(ze&6)&&(Da=Lt()+500,ks()))}break;case 13:ho(function(){var r=Di(t,1);if(r!==null){var i=Un();Br(r,t,1,i)}}),bp(t,1)}};qg=function(t){if(t.tag===13){var e=Di(t,134217728);if(e!==null){var n=Un();Br(e,t,134217728,n)}bp(t,134217728)}};JE=function(t){if(t.tag===13){var e=xs(t),n=Di(t,e);if(n!==null){var r=Un();Br(n,t,e,r)}bp(t,e)}};ev=function(){return Je};tv=function(t,e){var n=Je;try{return Je=t,e()}finally{Je=n}};m1=function(t,e,n){switch(e){case"input":if(c1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ld(r);if(!i)throw Error(J(90));kE(r),c1(r,i)}}}break;case"textarea":ME(t,n);break;case"select":e=n.value,e!=null&&ha(t,!!n.multiple,e,!1)}};UE=Cp;zE=ho;var MS={usingClientEntryPoint:!1,Events:[$c,ta,Ld,jE,VE,Cp]},Al={findFiberByHostInstance:Ys,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},PS={bundleType:Al.bundleType,version:Al.version,rendererPackageName:Al.rendererPackageName,rendererConfig:Al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=GE(t),t===null?null:t.stateNode},findFiberByHostInstance:Al.findFiberByHostInstance||kS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{kd=Xu.inject(PS),li=Xu}catch{}}gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MS;gr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rp(e))throw Error(J(200));return OS(t,e,null,n)};gr.createRoot=function(t,e){if(!Rp(t))throw Error(J(299));var n=!1,r="",i=A_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Sp(t,1,!1,null,null,n,!1,r,i),t[ki]=e.current,fc(t.nodeType===8?t.parentNode:t),new Np(e)};gr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=GE(e),t=t===null?null:t.stateNode,t};gr.flushSync=function(t){return ho(t)};gr.hydrate=function(t,e,n){if(!Gd(e))throw Error(J(200));return $d(null,t,e,!0,n)};gr.hydrateRoot=function(t,e,n){if(!Rp(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",c=A_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),e=C_(e,null,t,1,n??null,i,!1,o,c),t[ki]=e.current,fc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Wd(e)};gr.render=function(t,e,n){if(!Gd(e))throw Error(J(200));return $d(null,t,e,!1,n)};gr.unmountComponentAtNode=function(t){if(!Gd(t))throw Error(J(40));return t._reactRootContainer?(ho(function(){$d(null,null,t,!1,function(){t._reactRootContainer=null,t[ki]=null})}),!0):!1};gr.unstable_batchedUpdates=Cp;gr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gd(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return $d(t,e,n,!1,r)};gr.version="18.2.0-next-9e3b772b8-20220608";function I_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I_)}catch(t){console.error(t)}}I_(),CE.exports=gr;var LS=CE.exports,Gy=LS;n1.createRoot=Gy.createRoot,n1.hydrateRoot=Gy.hydrateRoot;const BS=""+new URL("coin-5e523742.jpg",import.meta.url).href;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},FS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],c=t[n++],g=t[n++],m=((i&7)<<18|(o&63)<<12|(c&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|c&63)}}return e.join("")},S_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],c=i+1<t.length,g=c?t[i+1]:0,m=i+2<t.length,p=m?t[i+2]:0,w=o>>2,_=(o&3)<<4|g>>4;let I=(g&15)<<2|p>>6,b=p&63;m||(b=64,c||(I=64)),r.push(n[w],n[_],n[I],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(T_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],g=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||g==null||p==null||_==null)throw new jS;const I=o<<2|g>>4;if(r.push(I),p!==64){const b=g<<4&240|p>>2;if(r.push(b),_!==64){const M=p<<6&192|_;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VS=function(t){const e=T_(t);return S_.encodeByteArray(e,!0)},td=function(t){return VS(t).replace(/\./g,"")},b_=function(t){try{return S_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=()=>US().__FIREBASE_DEFAULTS__,HS=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&b_(t[1]);return e&&JSON.parse(e)},Xd=()=>{try{return zS()||HS()||WS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},N_=t=>{var e,n;return(n=(e=Xd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},R_=t=>{const e=N_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},O_=()=>{var t;return(t=Xd())===null||t===void 0?void 0:t.config},k_=t=>{var e;return(e=Xd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),g="";return[td(JSON.stringify(n)),td(JSON.stringify(c)),g].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $S(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function XS(){var t;const e=(t=Xd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qS(){const t=kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QS(){try{return typeof indexedDB=="object"}catch{return!1}}function ZS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="FirebaseError";class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JS,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yc.prototype.create)}}class Yc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],c=o?e8(o,r):"Error",g=`${this.serviceName}: ${c} (${i}).`;return new mi(i,g,r)}}function e8(t,e){return t.replace(t8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const t8=/\{\$([^}]+)}/g;function n8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],c=e[i];if($y(o)&&$y(c)){if(!nd(o,c))return!1}else if(o!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $y(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ll(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Bl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function r8(t,e){const n=new i8(t,e);return n.subscribe.bind(n)}class i8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");s8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=b0),i.error===void 0&&(i.error=b0),i.complete===void 0&&(i.complete=b0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function b0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t){return t&&t._delegate?t._delegate:t}class Is{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new GS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l8(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(o);r===g&&c.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:a8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a8(t){return t===Xs?void 0:t}function l8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new o8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const u8={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},h8=Le.INFO,d8={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},f8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=d8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Op{constructor(e){this.name=e,this._logLevel=h8,this._logHandler=f8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const g8=(t,e)=>e.some(n=>t instanceof n);let Xy,Yy;function p8(){return Xy||(Xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m8(){return Yy||(Yy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M_=new WeakMap,K1=new WeakMap,P_=new WeakMap,N0=new WeakMap,kp=new WeakMap;function y8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Es(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&M_.set(n,t)}).catch(()=>{}),kp.set(e,t),e}function x8(t){if(K1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});K1.set(t,e)}let q1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return K1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||P_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function w8(t){q1=t(q1)}function E8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(R0(this),e,...n);return P_.set(r,e.sort?e.sort():[e]),Es(r)}:m8().includes(t)?function(...e){return t.apply(R0(this),e),Es(M_.get(this))}:function(...e){return Es(t.apply(R0(this),e))}}function v8(t){return typeof t=="function"?E8(t):(t instanceof IDBTransaction&&x8(t),g8(t,p8())?new Proxy(t,q1):t)}function Es(t){if(t instanceof IDBRequest)return y8(t);if(N0.has(t))return N0.get(t);const e=v8(t);return e!==t&&(N0.set(t,e),kp.set(e,t)),e}const R0=t=>kp.get(t);function _8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const c=indexedDB.open(t,e),g=Es(c);return r&&c.addEventListener("upgradeneeded",m=>{r(Es(c.result),m.oldVersion,m.newVersion,Es(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),g.then(m=>{o&&m.addEventListener("close",()=>o()),i&&m.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const C8=["get","getKey","getAll","getAllKeys","count"],A8=["put","add","delete","clear"],O0=new Map;function Ky(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(O0.get(e))return O0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=A8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||C8.includes(n)))return;const o=async function(c,...g){const m=this.transaction(c,i?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),i&&m.done]))[0]};return O0.set(e,o),o}w8(t=>({...t,get:(e,n,r)=>Ky(e,n)||t.get(e,n,r),has:(e,n)=>!!Ky(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(T8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function T8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Q1="@firebase/app",qy="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=new Op("@firebase/app"),S8="@firebase/app-compat",b8="@firebase/analytics-compat",N8="@firebase/analytics",R8="@firebase/app-check-compat",O8="@firebase/app-check",k8="@firebase/auth",D8="@firebase/auth-compat",M8="@firebase/database",P8="@firebase/database-compat",L8="@firebase/functions",B8="@firebase/functions-compat",F8="@firebase/installations",j8="@firebase/installations-compat",V8="@firebase/messaging",U8="@firebase/messaging-compat",z8="@firebase/performance",H8="@firebase/performance-compat",W8="@firebase/remote-config",G8="@firebase/remote-config-compat",$8="@firebase/storage",X8="@firebase/storage-compat",Y8="@firebase/firestore",K8="@firebase/firestore-compat",q8="firebase",Q8="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="[DEFAULT]",Z8={[Q1]:"fire-core",[S8]:"fire-core-compat",[N8]:"fire-analytics",[b8]:"fire-analytics-compat",[O8]:"fire-app-check",[R8]:"fire-app-check-compat",[k8]:"fire-auth",[D8]:"fire-auth-compat",[M8]:"fire-rtdb",[P8]:"fire-rtdb-compat",[L8]:"fire-fn",[B8]:"fire-fn-compat",[F8]:"fire-iid",[j8]:"fire-iid-compat",[V8]:"fire-fcm",[U8]:"fire-fcm-compat",[z8]:"fire-perf",[H8]:"fire-perf-compat",[W8]:"fire-rc",[G8]:"fire-rc-compat",[$8]:"fire-gcs",[X8]:"fire-gcs-compat",[Y8]:"fire-fst",[K8]:"fire-fst-compat","fire-js":"fire-js",[q8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new Map,J1=new Map;function J8(t,e){try{t.container.addComponent(e)}catch(n){fo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function go(t){const e=t.name;if(J1.has(e))return fo.debug(`There were multiple attempts to register component ${e}.`),!1;J1.set(e,t);for(const n of rd.values())J8(n,t);return!0}function Yd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},vs=new Yc("app","Firebase",eb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=Q8;function L_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Z1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw vs.create("bad-app-name",{appName:String(i)});if(n||(n=O_()),!n)throw vs.create("no-options");const o=rd.get(i);if(o){if(nd(n,o.options)&&nd(r,o.config))return o;throw vs.create("duplicate-app",{appName:i})}const c=new c8(i);for(const m of J1.values())c.addComponent(m);const g=new tb(n,r,c);return rd.set(i,g),g}function Dp(t=Z1){const e=rd.get(t);if(!e&&t===Z1&&O_())return L_();if(!e)throw vs.create("no-app",{appName:t});return e}function ui(t,e,n){var r;let i=(r=Z8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const g=[`Unable to register library "${i}" with version "${e}":`];o&&g.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&g.push("and"),c&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fo.warn(g.join(" "));return}go(new Is(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="firebase-heartbeat-database",rb=1,_c="firebase-heartbeat-store";let k0=null;function B_(){return k0||(k0=_8(nb,rb,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(_c)}}}).catch(t=>{throw vs.create("idb-open",{originalErrorMessage:t.message})})),k0}async function ib(t){try{return await(await B_()).transaction(_c).objectStore(_c).get(F_(t))}catch(e){if(e instanceof mi)fo.warn(e.message);else{const n=vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fo.warn(n.message)}}}async function Qy(t,e){try{const r=(await B_()).transaction(_c,"readwrite");await r.objectStore(_c).put(e,F_(t)),await r.done}catch(n){if(n instanceof mi)fo.warn(n.message);else{const r=vs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fo.warn(r.message)}}}function F_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=1024,ob=30*24*60*60*1e3;class ab{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Zy();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=ob}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Zy(),{heartbeatsToSend:n,unsentEntries:r}=lb(this._heartbeatsCache.heartbeats),i=td(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Zy(){return new Date().toISOString().substring(0,10)}function lb(t,e=sb){const n=[];let r=t.slice();for(const i of t){const o=n.find(c=>c.agent===i.agent);if(o){if(o.dates.push(i.date),Jy(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Jy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QS()?ZS().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await ib(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Jy(t){return td(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(t){go(new Is("platform-logger",e=>new I8(e),"PRIVATE")),go(new Is("heartbeat",e=>new ab(e),"PRIVATE")),ui(Q1,qy,t),ui(Q1,qy,"esm2017"),ui("fire-js","")}ub("");function Mp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ex(t){return t!==void 0&&t.enterprise!==void 0}class hb{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function j_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const db=j_,V_=new Yc("auth","Firebase",j_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new Op("@firebase/auth");function fb(t,...e){id.logLevel<=Le.WARN&&id.warn(`Auth (${Co}): ${t}`,...e)}function Eh(t,...e){id.logLevel<=Le.ERROR&&id.error(`Auth (${Co}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,...e){throw Pp(t,...e)}function hi(t,...e){return Pp(t,...e)}function gb(t,e,n){const r=Object.assign(Object.assign({},db()),{[e]:n});return new Yc("auth","Firebase",r).create(e,{appName:t.name})}function Pp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return V_.create(t,...e)}function _e(t,e,...n){if(!t)throw Pp(e,...n)}function Ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Eh(e),new Error(e)}function Pi(t,e){t||Ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pb(){return tx()==="http:"||tx()==="https:"}function tx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pb()||YS()||"connection"in navigator)?navigator.onLine:!0}function yb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pi(n>e,"Short delay should be less than long delay!"),this.isMobile=$S()||KS()}get(){return mb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(t,e){Pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=new qc(3e4,6e4);function Ao(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Io(t,e,n,r,i={}){return z_(t,i,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const g=Kc(Object.assign({key:t.config.apiKey},c)).slice(1),m=await t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),U_.fetch()(H_(t,t.config.apiHost,n,g),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},o))})}async function z_(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},xb),e);try{const i=new Eb(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Yu(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const g=o.ok?c.errorMessage:c.error.message,[m,p]=g.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yu(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Yu(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Yu(t,"user-disabled",c);const w=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw gb(t,w,p);Vr(t,w)}}catch(i){if(i instanceof mi)throw i;Vr(t,"network-request-failed",{message:String(i)})}}async function Qc(t,e,n,r,i={}){const o=await Io(t,e,n,r,i);return"mfaPendingCredential"in o&&Vr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function H_(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Lp(t.config,i):`${t.config.apiScheme}://${i}`}class Eb{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hi(this.auth,"network-request-failed")),wb.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=hi(t,e,r);return i.customData._tokenResponse=n,i}async function vb(t,e){return Io(t,"GET","/v2/recaptchaConfig",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _b(t,e){return Io(t,"POST","/v1/accounts:delete",e)}async function Cb(t,e){return Io(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ab(t,e=!1){const n=xn(t),r=await n.getIdToken(e),i=Bp(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ql(D0(i.auth_time)),issuedAtTime:Ql(D0(i.iat)),expirationTime:Ql(D0(i.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function D0(t){return Number(t)*1e3}function Bp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const i=b_(n);return i?JSON.parse(i):(Eh("Failed to decode base64 JWT payload"),null)}catch(i){return Eh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ib(t){const e=Bp(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mi&&Tb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Tb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Cc(t,Cb(n,{idToken:r}));_e(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Rb(o.providerUserInfo):[],g=Nb(t.providerData,c),m=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!(g!=null&&g.length),w=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:g,metadata:new W_(o.createdAt,o.lastLoginAt),isAnonymous:w};Object.assign(t,_)}async function bb(t){const e=xn(t);await sd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Nb(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Rb(t){return t.map(e=>{var{providerId:n}=e,r=Mp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ob(t,e){const n=await z_(t,{},async()=>{const r=Kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,c=H_(t,i,"/v1/token",`key=${o}`),g=await t._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",U_.fetch()(c,{method:"POST",headers:g,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ib(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return _e(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Ob(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,c=new Ac;return r&&(_e(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),o&&(_e(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ac,this.toJSON())}_performRefresh(){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class no{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Mp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new W_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Cc(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ab(this,e)}reload(){return bb(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new no(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Cc(this,_b(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,c,g,m,p,w;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,I=(i=n.email)!==null&&i!==void 0?i:void 0,b=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,M=(c=n.photoURL)!==null&&c!==void 0?c:void 0,R=(g=n.tenantId)!==null&&g!==void 0?g:void 0,F=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,k=(p=n.createdAt)!==null&&p!==void 0?p:void 0,S=(w=n.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:O,emailVerified:B,isAnonymous:X,providerData:G,stsTokenManager:j}=n;_e(O&&j,e,"internal-error");const Z=Ac.fromJSON(this.name,j);_e(typeof O=="string",e,"internal-error"),qi(_,e.name),qi(I,e.name),_e(typeof B=="boolean",e,"internal-error"),_e(typeof X=="boolean",e,"internal-error"),qi(b,e.name),qi(M,e.name),qi(R,e.name),qi(F,e.name),qi(k,e.name),qi(S,e.name);const $=new no({uid:O,auth:e,email:I,emailVerified:B,displayName:_,isAnonymous:X,photoURL:M,phoneNumber:b,tenantId:R,stsTokenManager:Z,createdAt:k,lastLoginAt:S});return G&&Array.isArray(G)&&($.providerData=G.map(se=>Object.assign({},se))),F&&($._redirectEventId=F),$}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ac;i.updateFromServerResponse(n);const o=new no({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sd(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new Map;function Ii(t){Pi(t instanceof Function,"Expected a class definition");let e=nx.get(t);return e?(Pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}G_.type="NONE";const rx=G_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t,e,n){return`firebase:${t}:${e}:${n}`}class ya{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=vh(this.userKey,i.apiKey,o),this.fullPersistenceKey=vh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?no._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ya(Ii(rx),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||Ii(rx);const c=vh(r,e.config.apiKey,e.name);let g=null;for(const p of n)try{const w=await p._get(c);if(w){const _=no._fromJSON(e,w);p!==o&&(g=_),o=p;break}}catch{}const m=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!m.length?new ya(o,e,r):(o=m[0],g&&await o._set(c,g.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new ya(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Y_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(q_(e))return"Blackberry";if(Q_(e))return"Webos";if(Fp(e))return"Safari";if((e.includes("chrome/")||X_(e))&&!e.includes("edge/"))return"Chrome";if(K_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $_(t=kn()){return/firefox\//i.test(t)}function Fp(t=kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function X_(t=kn()){return/crios\//i.test(t)}function Y_(t=kn()){return/iemobile/i.test(t)}function K_(t=kn()){return/android/i.test(t)}function q_(t=kn()){return/blackberry/i.test(t)}function Q_(t=kn()){return/webos/i.test(t)}function Kd(t=kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kb(t=kn()){var e;return Kd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Db(){return qS()&&document.documentMode===10}function Z_(t=kn()){return Kd(t)||K_(t)||Q_(t)||q_(t)||/windows phone/i.test(t)||Y_(t)}function Mb(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(t,e=[]){let n;switch(t){case"Browser":n=ix(kn());break;case"Worker":n=`${ix(kn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Co}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,g)=>{try{const m=e(o);c(m)}catch(m){g(m)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lb(t,e={}){return Io(t,"GET","/v2/passwordPolicy",Ao(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=6;class Fb{constructor(e){var n,r,i,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:Bb,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,c,g;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(i=m.containsLowercaseLetter)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(o=m.containsUppercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(g=m.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),m}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sx(this),this.idTokenSubscription=new sx(this),this.beforeStateQueue=new Pb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ii(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ya.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=i==null?void 0:i._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===g)&&(m!=null&&m.user)&&(i=m.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?xn(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Lb(this),n=new Fb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ii(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await ya.create(this,[Ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(g,this,"internal-error"),g.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,r,i);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=J_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&fb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function To(t){return xn(t)}class sx{constructor(e){this.auth=e,this.observer=null,this.addObserver=r8(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function eC(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=hi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Vb().appendChild(r)})}function Ub(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const zb="https://www.google.com/recaptcha/enterprise.js?render=",Hb="recaptcha-enterprise",Wb="NO_RECAPTCHA";class Gb{constructor(e){this.type=Hb,this.auth=To(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,g)=>{vb(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const p=new hb(m);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(m=>{g(m)})})}function i(o,c,g){const m=window.grecaptcha;ex(m)?m.enterprise.ready(()=>{m.enterprise.execute(o,{action:e}).then(p=>{c(p)}).catch(()=>{c(Wb)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,c)=>{r(this.auth).then(g=>{if(!n&&ex(window.grecaptcha))i(g,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}eC(zb+g).then(()=>{i(g,o,c)}).catch(m=>{c(m)})}}).catch(g=>{c(g)})})}}async function od(t,e,n,r=!1){const i=new Gb(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const c=Object.assign({},e);return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t,e){const n=Yd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(nd(o,e??{}))return i;Vr(i,"already-initialized")}return n.initialize({options:e})}function Xb(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Yb(t,e,n){const r=To(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=tC(e),{host:c,port:g}=Kb(e),m=g===null?"":`:${g}`;r.config.emulator={url:`${o}//${c}${m}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:c,port:g,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||qb()}function tC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Kb(t){const e=tC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:ox(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:ox(c)}}}function ox(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qb(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,n){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}async function Qb(t,e){return Io(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0(t,e){return Qc(t,"POST","/v1/accounts:signInWithPassword",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(t,e){return Qc(t,"POST","/v1/accounts:signInWithEmailLink",Ao(t,e))}async function Jb(t,e){return Qc(t,"POST","/v1/accounts:signInWithEmailLink",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends jp{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ic(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ic(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await od(e,r,"signInWithPassword");return M0(e,i)}else return M0(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await od(e,r,"signInWithPassword");return M0(e,o)}else return Promise.reject(i)});case"emailLink":return Zb(e,{email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Qb(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Jb(e,{idToken:n,email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(t,e){return Qc(t,"POST","/v1/accounts:signInWithIdp",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6="http://localhost";class po extends jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Mp(n,["providerId","signInMethod"]);if(!r||!i)return null;const c=new po(r,i);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return xa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xa(e,n)}buildRequest(){const e={requestUri:e6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Kc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function n6(t){const e=Ll(Bl(t)).link,n=e?Ll(Bl(e)).deep_link_id:null,r=Ll(Bl(t)).deep_link_id;return(r?Ll(Bl(r)).link:null)||r||n||e||t}class Vp{constructor(e){var n,r,i,o,c,g;const m=Ll(Bl(e)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,w=(r=m.oobCode)!==null&&r!==void 0?r:null,_=t6((i=m.mode)!==null&&i!==void 0?i:null);_e(p&&w&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=w,this.continueUrl=(o=m.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=m.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(g=m.tenantId)!==null&&g!==void 0?g:null}static parseLink(e){const n=n6(e);try{return new Vp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.providerId=Ya.PROVIDER_ID}static credential(e,n){return Ic._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Vp.parseLink(n);return _e(r,"argument-error"),Ic._fromEmailAndCode(e,r.code,r.tenantId)}}Ya.PROVIDER_ID="password";Ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends nC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Zc{constructor(){super("facebook.com")}static credential(e){return po._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Zc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return po._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return rs.credential(n,r)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Zc{constructor(){super("github.com")}static credential(e){return po._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Zc{constructor(){super("twitter.com")}static credential(e,n){return po._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ss.credential(n,r)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P0(t,e){return Qc(t,"POST","/v1/accounts:signUp",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await no._fromIdTokenResponse(e,r,i),c=ax(r);return new mo({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ax(r);return new mo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ax(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends mi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ad.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ad(e,n,r,i)}}function rC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ad._fromErrorAndOperation(t,o,e,r):o})}async function r6(t,e,n=!1){const r=await Cc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return mo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await Cc(t,rC(r,i,e,t),n);_e(o.idToken,r,"internal-error");const c=Bp(o.idToken);_e(c,r,"internal-error");const{sub:g}=c;return _e(t.uid===g,r,"user-mismatch"),mo._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Vr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(t,e,n=!1){const r="signIn",i=await rC(t,r,e),o=await mo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function s6(t,e){return iC(To(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(t){const e=To(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function o6(t,e,n){var r;const i=To(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let c;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const p=await od(i,o,"signUpPassword");c=P0(i,p)}else c=P0(i,o).catch(async p=>{if(p.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const w=await od(i,o,"signUpPassword");return P0(i,w)}throw p});const g=await c.catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&sC(t),p}),m=await mo._fromIdTokenResponse(i,"signIn",g);return await i._updateCurrentUser(m.user),m}function a6(t,e,n){return s6(xn(t),Ya.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sC(t),r})}function l6(t,e,n,r){return xn(t).onIdTokenChanged(e,n,r)}function c6(t,e,n){return xn(t).beforeAuthStateChanged(e,n)}function tg(t,e,n,r){return xn(t).onAuthStateChanged(e,n,r)}function oC(t){return xn(t).signOut()}const ld="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ld,"1"),this.storage.removeItem(ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(){const t=kn();return Fp(t)||Kd(t)}const h6=1e3,d6=10;class lC extends aC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=u6()&&Mb(),this.fallbackToPolling=Z_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,g,m)=>{this.notifyListeners(c,m)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const c=this.storage.getItem(r);if(e.newValue!==c)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);Db()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,d6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},h6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lC.type="LOCAL";const f6=lC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC extends aC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cC.type="SESSION";const uC=cC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new qd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,c=this.handlersMap[i];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const g=Array.from(c).map(async p=>p(n.origin,o)),m=await g6(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,c;return new Promise((g,m)=>{const p=Up("",20);i.port1.start();const w=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(_){const I=_;if(I.data.eventId===p)switch(I.data.status){case"ack":clearTimeout(w),o=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),g(I.data.response);break;default:clearTimeout(w),clearTimeout(o),m(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return window}function m6(t){di().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}async function y6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function x6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function w6(){return hC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="firebaseLocalStorageDb",E6=1,cd="firebaseLocalStorage",fC="fbase_key";class Jc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qd(t,e){return t.transaction([cd],e?"readwrite":"readonly").objectStore(cd)}function v6(){const t=indexedDB.deleteDatabase(dC);return new Jc(t).toPromise()}function ng(){const t=indexedDB.open(dC,E6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cd,{keyPath:fC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cd)?e(r):(r.close(),await v6(),e(await ng()))})})}async function lx(t,e,n){const r=Qd(t,!0).put({[fC]:e,value:n});return new Jc(r).toPromise()}async function _6(t,e){const n=Qd(t,!1).get(e),r=await new Jc(n).toPromise();return r===void 0?null:r.value}function cx(t,e){const n=Qd(t,!0).delete(e);return new Jc(n).toPromise()}const C6=800,A6=3;class gC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ng(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>A6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qd._getInstance(w6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await y6(),!this.activeServiceWorker)return;this.sender=new p6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||x6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ng();return await lx(e,ld,"1"),await cx(e,ld),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Qd(i,!1).getAll();return new Jc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),C6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gC.type="LOCAL";const I6=gC;new qc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(t,e){return e?Ii(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends jp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function S6(t){return iC(t.auth,new zp(t),t.bypassAuthState)}function b6(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),i6(n,new zp(t),t.bypassAuthState)}async function N6(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),r6(n,new zp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:c,type:g}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return S6;case"linkViaPopup":case"linkViaRedirect":return N6;case"reauthViaPopup":case"reauthViaRedirect":return b6;default:Vr(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=new qc(2e3,1e4);class la extends pC{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,la.currentPopupAction&&la.currentPopupAction.cancel(),la.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=Up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,la.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,R6.get())};e()}}la.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6="pendingRedirect",_h=new Map;class k6 extends pC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_h.get(this.auth._key());if(!e){try{const r=await D6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function D6(t,e){const n=L6(e),r=P6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function M6(t,e){_h.set(t._key(),e)}function P6(t){return Ii(t._redirectPersistence)}function L6(t){return vh(O6,t.config.apiKey,t.name)}async function B6(t,e,n=!1){const r=To(t),i=T6(r,e),c=await new k6(r,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=10*60*1e3;class j6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!V6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(hi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F6&&this.cachedEventUids.clear(),this.cachedEventUids.has(ux(e))}saveEventToCache(e){this.cachedEventUids.add(ux(e)),this.lastProcessedEventTime=Date.now()}}function ux(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function V6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U6(t,e={}){return Io(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H6=/^https?/;async function W6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await U6(t);for(const n of e)try{if(G6(n))return}catch{}Vr(t,"unauthorized-domain")}function G6(t){const e=eg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!H6.test(n))return!1;if(z6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=new qc(3e4,6e4);function hx(){const t=di().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function X6(t){return new Promise((e,n)=>{var r,i,o;function c(){hx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hx(),n(hi(t,"network-request-failed"))},timeout:$6.get()})}if(!((i=(r=di().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=di().gapi)===null||o===void 0)&&o.load)c();else{const g=Ub("iframefcb");return di()[g]=()=>{gapi.load?c():n(hi(t,"network-request-failed"))},eC(`https://apis.google.com/js/api.js?onload=${g}`).catch(m=>n(m))}}).catch(e=>{throw Ch=null,e})}let Ch=null;function Y6(t){return Ch=Ch||X6(t),Ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=new qc(5e3,15e3),q6="__/auth/iframe",Q6="emulator/auth/iframe",Z6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eN(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Lp(e,Q6):`https://${t.config.authDomain}/${q6}`,r={apiKey:e.apiKey,appName:t.name,v:Co},i=J6.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Kc(r).slice(1)}`}async function tN(t){const e=await Y6(t),n=di().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:eN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z6,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const c=hi(t,"network-request-failed"),g=di().setTimeout(()=>{o(c)},K6.get());function m(){di().clearTimeout(g),i(r)}r.ping(m).then(m,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rN=500,iN=600,sN="_blank",oN="http://localhost";class dx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aN(t,e,n,r=rN,i=iN){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const m=Object.assign(Object.assign({},nN),{width:r.toString(),height:i.toString(),top:o,left:c}),p=kn().toLowerCase();n&&(g=X_(p)?sN:n),$_(p)&&(e=e||oN,m.scrollbars="yes");const w=Object.entries(m).reduce((I,[b,M])=>`${I}${b}=${M},`,"");if(kb(p)&&g!=="_self")return lN(e||"",g),new dx(null);const _=window.open(e||"",g,w);_e(_,t,"popup-blocked");try{_.focus()}catch{}return new dx(_)}function lN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="__/auth/handler",uN="emulator/auth/handler",hN=encodeURIComponent("fac");async function fx(t,e,n,r,i,o){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Co,eventId:i};if(e instanceof nC){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",n8(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,_]of Object.entries(o||{}))c[w]=_}if(e instanceof Zc){const w=e.getScopes().filter(_=>_!=="");w.length>0&&(c.scopes=w.join(","))}t.tenantId&&(c.tid=t.tenantId);const g=c;for(const w of Object.keys(g))g[w]===void 0&&delete g[w];const m=await t._getAppCheckToken(),p=m?`#${hN}=${encodeURIComponent(m)}`:"";return`${dN(t)}?${Kc(g).slice(1)}${p}`}function dN({config:t}){return t.emulator?Lp(t,uN):`https://${t.authDomain}/${cN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="webStorageSupport";class fN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uC,this._completeRedirectFn=B6,this._overrideRedirectResult=M6}async _openPopup(e,n,r,i){var o;Pi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await fx(e,n,r,eg(),i);return aN(e,c,Up())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await fx(e,n,r,eg(),i);return m6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Pi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await tN(e),r=new j6(e);return n.register("authEvent",i=>(_e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(L0,{type:L0},i=>{var o;const c=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[L0];c!==void 0&&n(!!c),Vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=W6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Z_()||Fp()||Kd()}}const gN=fN;var gx="@firebase/auth",px="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function yN(t){go(new Is("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:g}=r.options;_e(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:g,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:J_(t)},p=new jb(r,i,o,m);return Xb(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),go(new Is("auth-internal",e=>{const n=To(e.getProvider("auth").getImmediate());return(r=>new pN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(gx,px,mN(t)),ui(gx,px,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=5*60,wN=k_("authIdTokenMaxAge")||xN;let mx=null;const EN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wN)return;const i=n==null?void 0:n.token;mx!==i&&(mx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Hp(t=Dp()){const e=Yd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$b(t,{popupRedirectResolver:gN,persistence:[I6,f6,uC]}),r=k_("authTokenSyncURL");if(r){const o=EN(r);c6(n,o,()=>o(n.currentUser)),l6(n,c=>o(c))}const i=N_("auth");return i&&Yb(n,`http://${i}`),n}yN("Browser");/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tc.apply(this,arguments)}var cs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(cs||(cs={}));const yx="popstate";function vN(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:c,hash:g}=r.location;return rg("",{pathname:o,search:c,hash:g},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ud(i)}return CN(e,n,null,t)}function Wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _N(){return Math.random().toString(36).substr(2,8)}function xx(t,e){return{usr:t.state,key:t.key,idx:e}}function rg(t,e,n,r){return n===void 0&&(n=null),Tc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ka(e):e,{state:n,key:e&&e.key||r||_N()})}function ud(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ka(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function CN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,c=i.history,g=cs.Pop,m=null,p=w();p==null&&(p=0,c.replaceState(Tc({},c.state,{idx:p}),""));function w(){return(c.state||{idx:null}).idx}function _(){g=cs.Pop;let F=w(),k=F==null?null:F-p;p=F,m&&m({action:g,location:R.location,delta:k})}function I(F,k){g=cs.Push;let S=rg(R.location,F,k);n&&n(S,F),p=w()+1;let O=xx(S,p),B=R.createHref(S);try{c.pushState(O,"",B)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(B)}o&&m&&m({action:g,location:R.location,delta:1})}function b(F,k){g=cs.Replace;let S=rg(R.location,F,k);n&&n(S,F),p=w();let O=xx(S,p),B=R.createHref(S);c.replaceState(O,"",B),o&&m&&m({action:g,location:R.location,delta:0})}function M(F){let k=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof F=="string"?F:ud(F);return Wt(k,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,k)}let R={get action(){return g},get location(){return t(i,c)},listen(F){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(yx,_),m=F,()=>{i.removeEventListener(yx,_),m=null}},createHref(F){return e(i,F)},createURL:M,encodeLocation(F){let k=M(F);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:I,replace:b,go(F){return c.go(F)}};return R}var wx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wx||(wx={}));function AN(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ka(e):e,i=Gp(r.pathname||"/",n);if(i==null)return null;let o=yC(t);IN(o);let c=null;for(let g=0;c==null&&g<o.length;++g)c=MN(o[g],BN(i));return c}function yC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,c,g)=>{let m={relativePath:g===void 0?o.path||"":g,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};m.relativePath.startsWith("/")&&(Wt(m.relativePath.startsWith(r),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(r.length));let p=_s([r,m.relativePath]),w=n.concat(m);o.children&&o.children.length>0&&(Wt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),yC(o.children,e,w,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:kN(p,o.index),routesMeta:w})};return t.forEach((o,c)=>{var g;if(o.path===""||!((g=o.path)!=null&&g.includes("?")))i(o,c);else for(let m of xC(o.path))i(o,c,m)}),e}function xC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let c=xC(r.join("/")),g=[];return g.push(...c.map(m=>m===""?o:[o,m].join("/"))),i&&g.push(...c),g.map(m=>t.startsWith("/")&&m===""?"/":m)}function IN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const TN=/^:\w+$/,SN=3,bN=2,NN=1,RN=10,ON=-2,Ex=t=>t==="*";function kN(t,e){let n=t.split("/"),r=n.length;return n.some(Ex)&&(r+=ON),e&&(r+=bN),n.filter(i=>!Ex(i)).reduce((i,o)=>i+(TN.test(o)?SN:o===""?NN:RN),r)}function DN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function MN(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let c=0;c<n.length;++c){let g=n[c],m=c===n.length-1,p=i==="/"?e:e.slice(i.length)||"/",w=PN({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},p);if(!w)return null;Object.assign(r,w.params);let _=g.route;o.push({params:r,pathname:_s([i,w.pathname]),pathnameBase:UN(_s([i,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(i=_s([i,w.pathnameBase]))}return o}function PN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=LN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),g=i.slice(1);return{params:r.reduce((p,w,_)=>{if(w==="*"){let I=g[_]||"";c=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}return p[w]=FN(g[_]||"",w),p},{}),pathname:o,pathnameBase:c,pattern:t}}function LN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Wp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(c,g)=>(r.push(g),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function BN(t){try{return decodeURI(t)}catch(e){return Wp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function FN(t,e){try{return decodeURIComponent(t)}catch(n){return Wp(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Gp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function jN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ka(t):t;return{pathname:n?n.startsWith("/")?n:VN(n,e):e,search:zN(r),hash:HN(i)}}function VN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function B0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function EC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ka(t):(i=Tc({},t),Wt(!i.pathname||!i.pathname.includes("?"),B0("?","pathname","search",i)),Wt(!i.pathname||!i.pathname.includes("#"),B0("#","pathname","hash",i)),Wt(!i.search||!i.search.includes("#"),B0("#","search","hash",i)));let o=t===""||i.pathname==="",c=o?"/":i.pathname,g;if(r||c==null)g=n;else{let _=e.length-1;if(c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),_-=1;i.pathname=I.join("/")}g=_>=0?e[_]:"/"}let m=jN(i,g),p=c&&c!=="/"&&c.endsWith("/"),w=(o||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||w)&&(m.pathname+="/"),m}const _s=t=>t.join("/").replace(/\/\/+/g,"/"),UN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function WN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const vC=["post","put","patch","delete"];new Set(vC);const GN=["get",...vC];new Set(GN);/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hd(){return hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hd.apply(this,arguments)}const $p=Y.createContext(null),_C=Y.createContext(null),So=Y.createContext(null),Zd=Y.createContext(null),Ds=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),CC=Y.createContext(null);function $N(t,e){let{relative:n}=e===void 0?{}:e;eu()||Wt(!1);let{basename:r,navigator:i}=Y.useContext(So),{hash:o,pathname:c,search:g}=Xp(t,{relative:n}),m=c;return r!=="/"&&(m=c==="/"?r:_s([r,c])),i.createHref({pathname:m,search:g,hash:o})}function eu(){return Y.useContext(Zd)!=null}function tu(){return eu()||Wt(!1),Y.useContext(Zd).location}function AC(t){Y.useContext(So).static||Y.useLayoutEffect(t)}function qa(){let{isDataRoute:t}=Y.useContext(Ds);return t?s5():XN()}function XN(){eu()||Wt(!1);let t=Y.useContext($p),{basename:e,navigator:n}=Y.useContext(So),{matches:r}=Y.useContext(Ds),{pathname:i}=tu(),o=JSON.stringify(wC(r).map(m=>m.pathnameBase)),c=Y.useRef(!1);return AC(()=>{c.current=!0}),Y.useCallback(function(m,p){if(p===void 0&&(p={}),!c.current)return;if(typeof m=="number"){n.go(m);return}let w=EC(m,JSON.parse(o),i,p.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:_s([e,w.pathname])),(p.replace?n.replace:n.push)(w,p.state,p)},[e,n,o,i,t])}function IC(){let{matches:t}=Y.useContext(Ds),e=t[t.length-1];return e?e.params:{}}function Xp(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=Y.useContext(Ds),{pathname:i}=tu(),o=JSON.stringify(wC(r).map(c=>c.pathnameBase));return Y.useMemo(()=>EC(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function YN(t,e){return KN(t,e)}function KN(t,e,n){eu()||Wt(!1);let{navigator:r}=Y.useContext(So),{matches:i}=Y.useContext(Ds),o=i[i.length-1],c=o?o.params:{};o&&o.pathname;let g=o?o.pathnameBase:"/";o&&o.route;let m=tu(),p;if(e){var w;let R=typeof e=="string"?Ka(e):e;g==="/"||(w=R.pathname)!=null&&w.startsWith(g)||Wt(!1),p=R}else p=m;let _=p.pathname||"/",I=g==="/"?_:_.slice(g.length)||"/",b=AN(t,{pathname:I}),M=e5(b&&b.map(R=>Object.assign({},R,{params:Object.assign({},c,R.params),pathname:_s([g,r.encodeLocation?r.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?g:_s([g,r.encodeLocation?r.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),i,n);return e&&M?Y.createElement(Zd.Provider,{value:{location:hd({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:cs.Pop}},M):M}function qN(){let t=i5(),e=WN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),n?Y.createElement("pre",{style:i},n):null,o)}const QN=Y.createElement(qN,null);class ZN extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?Y.createElement(Ds.Provider,{value:this.props.routeContext},Y.createElement(CC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JN(t){let{routeContext:e,match:n,children:r}=t,i=Y.useContext($p);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Y.createElement(Ds.Provider,{value:e},r)}function e5(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,c=(r=n)==null?void 0:r.errors;if(c!=null){let g=o.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id]));g>=0||Wt(!1),o=o.slice(0,Math.min(o.length,g+1))}return o.reduceRight((g,m,p)=>{let w=m.route.id?c==null?void 0:c[m.route.id]:null,_=null;n&&(_=m.route.errorElement||QN);let I=e.concat(o.slice(0,p+1)),b=()=>{let M;return w?M=_:m.route.Component?M=Y.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=g,Y.createElement(JN,{match:m,routeContext:{outlet:g,matches:I,isDataRoute:n!=null},children:M})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?Y.createElement(ZN,{location:n.location,revalidation:n.revalidation,component:_,error:w,children:b(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):b()},null)}var TC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(TC||{}),dd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(dd||{});function t5(t){let e=Y.useContext($p);return e||Wt(!1),e}function n5(t){let e=Y.useContext(_C);return e||Wt(!1),e}function r5(t){let e=Y.useContext(Ds);return e||Wt(!1),e}function SC(t){let e=r5(),n=e.matches[e.matches.length-1];return n.route.id||Wt(!1),n.route.id}function i5(){var t;let e=Y.useContext(CC),n=n5(dd.UseRouteError),r=SC(dd.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function s5(){let{router:t}=t5(TC.UseNavigateStable),e=SC(dd.UseNavigateStable),n=Y.useRef(!1);return AC(()=>{n.current=!0}),Y.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hd({fromRouteId:e},o)))},[t,e])}function Bn(t){Wt(!1)}function o5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=cs.Pop,navigator:o,static:c=!1}=t;eu()&&Wt(!1);let g=e.replace(/^\/*/,"/"),m=Y.useMemo(()=>({basename:g,navigator:o,static:c}),[g,o,c]);typeof r=="string"&&(r=Ka(r));let{pathname:p="/",search:w="",hash:_="",state:I=null,key:b="default"}=r,M=Y.useMemo(()=>{let R=Gp(p,g);return R==null?null:{location:{pathname:R,search:w,hash:_,state:I,key:b},navigationType:i}},[g,p,w,_,I,b,i]);return M==null?null:Y.createElement(So.Provider,{value:m},Y.createElement(Zd.Provider,{children:n,value:M}))}function a5(t){let{children:e,location:n}=t;return YN(ig(e),n)}new Promise(()=>{});function ig(t,e){e===void 0&&(e=[]);let n=[];return Y.Children.forEach(t,(r,i)=>{if(!Y.isValidElement(r))return;let o=[...e,i];if(r.type===Y.Fragment){n.push.apply(n,ig(r.props.children,o));return}r.type!==Bn&&Wt(!1),!r.props.index||!r.props.children||Wt(!1);let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=ig(r.props.children,o)),n.push(c)}),n}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fd(){return fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fd.apply(this,arguments)}function bC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function l5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function c5(t,e){return t.button===0&&(!e||e==="_self")&&!l5(t)}const u5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],h5=["aria-current","caseSensitive","className","end","style","to","children"],d5="startTransition",vx=t1[d5];function f5(t){let{basename:e,children:n,future:r,window:i}=t,o=Y.useRef();o.current==null&&(o.current=vN({window:i,v5Compat:!0}));let c=o.current,[g,m]=Y.useState({action:c.action,location:c.location}),{v7_startTransition:p}=r||{},w=Y.useCallback(_=>{p&&vx?vx(()=>m(_)):m(_)},[m,p]);return Y.useLayoutEffect(()=>c.listen(w),[c,w]),Y.createElement(o5,{basename:e,children:n,location:g.location,navigationType:g.action,navigator:c})}const g5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fr=Y.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:c,state:g,target:m,to:p,preventScrollReset:w}=e,_=bC(e,u5),{basename:I}=Y.useContext(So),b,M=!1;if(typeof p=="string"&&p5.test(p)&&(b=p,g5))try{let S=new URL(window.location.href),O=p.startsWith("//")?new URL(S.protocol+p):new URL(p),B=Gp(O.pathname,I);O.origin===S.origin&&B!=null?p=B+O.search+O.hash:M=!0}catch{}let R=$N(p,{relative:i}),F=m5(p,{replace:c,state:g,target:m,preventScrollReset:w,relative:i});function k(S){r&&r(S),S.defaultPrevented||F(S)}return Y.createElement("a",fd({},_,{href:b||R,onClick:M||o?r:k,ref:n,target:m}))}),Ku=Y.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:c=!1,style:g,to:m,children:p}=e,w=bC(e,h5),_=Xp(m,{relative:w.relative}),I=tu(),b=Y.useContext(_C),{navigator:M}=Y.useContext(So),R=M.encodeLocation?M.encodeLocation(_).pathname:_.pathname,F=I.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(F=F.toLowerCase(),k=k?k.toLowerCase():null,R=R.toLowerCase());let S=F===R||!c&&F.startsWith(R)&&F.charAt(R.length)==="/",O=k!=null&&(k===R||!c&&k.startsWith(R)&&k.charAt(R.length)==="/"),B=S?r:void 0,X;typeof o=="function"?X=o({isActive:S,isPending:O}):X=[o,S?"active":null,O?"pending":null].filter(Boolean).join(" ");let G=typeof g=="function"?g({isActive:S,isPending:O}):g;return Y.createElement(Fr,fd({},w,{"aria-current":B,className:X,ref:n,style:G,to:m}),typeof p=="function"?p({isActive:S,isPending:O}):p)});var _x;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(_x||(_x={}));var Cx;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Cx||(Cx={}));function m5(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:c}=e===void 0?{}:e,g=qa(),m=tu(),p=Xp(t,{relative:c});return Y.useCallback(w=>{if(c5(w,n)){w.preventDefault();let _=r!==void 0?r:ud(m)===ud(p);g(t,{replace:_,state:i,preventScrollReset:o,relative:c})}},[m,g,p,r,i,n,t,o,c])}var y5="firebase",x5="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui(y5,x5,"app");var w5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ie,Yp=Yp||{},Ce=w5||self;function Jd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function nu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function E5(t){return Object.prototype.hasOwnProperty.call(t,F0)&&t[F0]||(t[F0]=++v5)}var F0="closure_uid_"+(1e9*Math.random()>>>0),v5=0;function _5(t,e,n){return t.call.apply(t.bind,arguments)}function C5(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function bn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?bn=_5:bn=C5,bn.apply(null,arguments)}function qu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function on(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var c=Array(arguments.length-2),g=2;g<arguments.length;g++)c[g-2]=arguments[g];return e.prototype[i].apply(r,c)}}function Ms(){this.s=this.s,this.o=this.o}var A5=0;Ms.prototype.s=!1;Ms.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),A5!=0)&&E5(this)};Ms.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const NC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Kp(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ax(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Jd(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let c=0;c<o;c++)t[i+c]=r[c]}else t.push(r)}}function Nn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Nn.prototype.h=function(){this.defaultPrevented=!0};var I5=function(){if(!Ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ce.addEventListener("test",()=>{},e),Ce.removeEventListener("test",()=>{},e)}catch{}return t}();function Sc(t){return/^[\s\xa0]*$/.test(t)}function ef(){var t=Ce.navigator;return t&&(t=t.userAgent)?t:""}function ni(t){return ef().indexOf(t)!=-1}function qp(t){return qp[" "](t),t}qp[" "]=function(){};function T5(t,e){var n=xR;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var S5=ni("Opera"),Ma=ni("Trident")||ni("MSIE"),RC=ni("Edge"),sg=RC||Ma,OC=ni("Gecko")&&!(ef().toLowerCase().indexOf("webkit")!=-1&&!ni("Edge"))&&!(ni("Trident")||ni("MSIE"))&&!ni("Edge"),b5=ef().toLowerCase().indexOf("webkit")!=-1&&!ni("Edge");function kC(){var t=Ce.document;return t?t.documentMode:void 0}var og;e:{var j0="",V0=function(){var t=ef();if(OC)return/rv:([^\);]+)(\)|;)/.exec(t);if(RC)return/Edge\/([\d\.]+)/.exec(t);if(Ma)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(b5)return/WebKit\/(\S+)/.exec(t);if(S5)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(V0&&(j0=V0?V0[1]:""),Ma){var U0=kC();if(U0!=null&&U0>parseFloat(j0)){og=String(U0);break e}}og=j0}var ag;if(Ce.document&&Ma){var Ix=kC();ag=Ix||parseInt(og,10)||void 0}else ag=void 0;var N5=ag;function bc(t,e){if(Nn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(OC){e:{try{qp(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:R5[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&bc.$.h.call(this)}}on(bc,Nn);var R5={2:"touch",3:"pen",4:"mouse"};bc.prototype.h=function(){bc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ru="closure_listenable_"+(1e6*Math.random()|0),O5=0;function k5(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++O5,this.fa=this.ia=!1}function tf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Qp(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function D5(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function DC(t){const e={};for(const n in t)e[n]=t[n];return e}const Tx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function MC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<Tx.length;o++)n=Tx[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function nf(t){this.src=t,this.g={},this.h=0}nf.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var c=cg(t,e,r,i);return-1<c?(e=t[c],n||(e.ia=!1)):(e=new k5(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function lg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=NC(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(tf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function cg(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Zp="closure_lm_"+(1e6*Math.random()|0),z0={};function PC(t,e,n,r,i){if(r&&r.once)return BC(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)PC(t,e[o],n,r,i);return null}return n=tm(n),t&&t[ru]?t.O(e,n,nu(r)?!!r.capture:!!r,i):LC(t,e,n,!1,r,i)}function LC(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var c=nu(i)?!!i.capture:!!i,g=em(t);if(g||(t[Zp]=g=new nf(t)),n=g.add(e,n,r,c,o),n.proxy)return n;if(r=M5(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)I5||(i=c),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(jC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function M5(){function t(n){return e.call(t.src,t.listener,n)}const e=P5;return t}function BC(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)BC(t,e[o],n,r,i);return null}return n=tm(n),t&&t[ru]?t.P(e,n,nu(r)?!!r.capture:!!r,i):LC(t,e,n,!0,r,i)}function FC(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)FC(t,e[o],n,r,i);else r=nu(r)?!!r.capture:!!r,n=tm(n),t&&t[ru]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=cg(o,n,r,i),-1<n&&(tf(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=em(t))&&(e=t.g[e.toString()],t=-1,e&&(t=cg(e,n,r,i)),(n=-1<t?e[t]:null)&&Jp(n))}function Jp(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ru])lg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(jC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=em(e))?(lg(n,t),n.h==0&&(n.src=null,e[Zp]=null)):tf(t)}}}function jC(t){return t in z0?z0[t]:z0[t]="on"+t}function P5(t,e){if(t.fa)t=!0;else{e=new bc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Jp(t),t=n.call(r,e)}return t}function em(t){return t=t[Zp],t instanceof nf?t:null}var H0="__closure_events_fn_"+(1e9*Math.random()>>>0);function tm(t){return typeof t=="function"?t:(t[H0]||(t[H0]=function(e){return t.handleEvent(e)}),t[H0])}function sn(){Ms.call(this),this.i=new nf(this),this.S=this,this.J=null}on(sn,Ms);sn.prototype[ru]=!0;sn.prototype.removeEventListener=function(t,e,n,r){FC(this,t,e,n,r)};function mn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Nn(e,t);else if(e instanceof Nn)e.target=e.target||t;else{var i=e;e=new Nn(r,t),MC(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var c=e.g=n[o];i=Qu(c,r,!0,e)&&i}if(c=e.g=t,i=Qu(c,r,!0,e)&&i,i=Qu(c,r,!1,e)&&i,n)for(o=0;o<n.length;o++)c=e.g=n[o],i=Qu(c,r,!1,e)&&i}sn.prototype.N=function(){if(sn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)tf(n[r]);delete t.g[e],t.h--}}this.J=null};sn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};sn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Qu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var c=e[o];if(c&&!c.fa&&c.capture==n){var g=c.listener,m=c.la||c.src;c.ia&&lg(t.i,c),i=g.call(m,r)!==!1&&i}}return i&&!r.defaultPrevented}var nm=Ce.JSON.stringify;class L5{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function B5(){var t=rm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class F5{constructor(){this.h=this.g=null}add(e,n){const r=VC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var VC=new L5(()=>new j5,t=>t.reset());class j5{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function V5(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function U5(t){Ce.setTimeout(()=>{throw t},0)}let Nc,Rc=!1,rm=new F5,UC=()=>{const t=Ce.Promise.resolve(void 0);Nc=()=>{t.then(z5)}};var z5=()=>{for(var t;t=B5();){try{t.h.call(t.g)}catch(n){U5(n)}var e=VC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Rc=!1};function rf(t,e){sn.call(this),this.h=t||1,this.g=e||Ce,this.j=bn(this.qb,this),this.l=Date.now()}on(rf,sn);ie=rf.prototype;ie.ga=!1;ie.T=null;ie.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mn(this,"tick"),this.ga&&(im(this),this.start()))}};ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function im(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ie.N=function(){rf.$.N.call(this),im(this),delete this.g};function sm(t,e,n){if(typeof t=="function")n&&(t=bn(t,n));else if(t&&typeof t.handleEvent=="function")t=bn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ce.setTimeout(t,e||0)}function zC(t){t.g=sm(()=>{t.g=null,t.i&&(t.i=!1,zC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class H5 extends Ms{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zC(this)}N(){super.N(),this.g&&(Ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oc(t){Ms.call(this),this.h=t,this.g={}}on(Oc,Ms);var Sx=[];function HC(t,e,n,r){Array.isArray(n)||(n&&(Sx[0]=n.toString()),n=Sx);for(var i=0;i<n.length;i++){var o=PC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function WC(t){Qp(t.g,function(e,n){this.g.hasOwnProperty(n)&&Jp(e)},t),t.g={}}Oc.prototype.N=function(){Oc.$.N.call(this),WC(this)};Oc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function sf(){this.g=!0}sf.prototype.Ea=function(){this.g=!1};function W5(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var c="",g=o.split("&"),m=0;m<g.length;m++){var p=g[m].split("=");if(1<p.length){var w=p[0];p=p[1];var _=w.split("_");c=2<=_.length&&_[1]=="type"?c+(w+"="+p+"&"):c+(w+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+c})}function G5(t,e,n,r,i,o,c){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+c})}function ca(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+X5(t,n)+(r?" "+r:"")})}function $5(t,e){t.info(function(){return"TIMEOUT: "+e})}sf.prototype.info=function(){};function X5(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var c=1;c<i.length;c++)i[c]=""}}}}return nm(n)}catch{return e}}var bo={},bx=null;function of(){return bx=bx||new sn}bo.Ta="serverreachability";function GC(t){Nn.call(this,bo.Ta,t)}on(GC,Nn);function kc(t){const e=of();mn(e,new GC(e))}bo.STAT_EVENT="statevent";function $C(t,e){Nn.call(this,bo.STAT_EVENT,t),this.stat=e}on($C,Nn);function Vn(t){const e=of();mn(e,new $C(e,t))}bo.Ua="timingevent";function XC(t,e){Nn.call(this,bo.Ua,t),this.size=e}on(XC,Nn);function iu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ce.setTimeout(function(){t()},e)}var af={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},YC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function om(){}om.prototype.h=null;function Nx(t){return t.h||(t.h=t.i())}function KC(){}var su={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function am(){Nn.call(this,"d")}on(am,Nn);function lm(){Nn.call(this,"c")}on(lm,Nn);var ug;function lf(){}on(lf,om);lf.prototype.g=function(){return new XMLHttpRequest};lf.prototype.i=function(){return{}};ug=new lf;function ou(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Oc(this),this.P=Y5,t=sg?125:void 0,this.V=new rf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new qC}function qC(){this.i=null,this.g="",this.h=!1}var Y5=45e3,hg={},gd={};ie=ou.prototype;ie.setTimeout=function(t){this.P=t};function dg(t,e,n){t.L=1,t.v=uf(Li(e)),t.s=n,t.S=!0,QC(t,null)}function QC(t,e){t.G=Date.now(),au(t),t.A=Li(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),sA(n.i,"t",r),t.C=0,n=t.l.J,t.h=new qC,t.g=TA(t.l,n?e:null,!t.s),0<t.O&&(t.M=new H5(bn(t.Pa,t,t.g),t.O)),HC(t.U,t.g,"readystatechange",t.nb),e=t.I?DC(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),kc(),W5(t.j,t.u,t.A,t.m,t.W,t.s)}ie.nb=function(t){t=t.target;const e=this.M;e&&si(t)==3?e.l():this.Pa(t)};ie.Pa=function(t){try{if(t==this.g)e:{const w=si(this.g);var e=this.g.Ia();const _=this.g.da();if(!(3>w)&&(w!=3||sg||this.g&&(this.h.h||this.g.ja()||Dx(this.g)))){this.J||w!=4||e==7||(e==8||0>=_?kc(3):kc(2)),cf(this);var n=this.g.da();this.ca=n;t:if(ZC(this)){var r=Dx(this.g);t="";var i=r.length,o=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qs(this),Zl(this);var c="";break t}this.h.i=new Ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=n==200,G5(this.j,this.u,this.A,this.m,this.W,w,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,m=this.g;if((g=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sc(g)){var p=g;break t}}p=null}if(n=p)ca(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fg(this,n);else{this.i=!1,this.o=3,Vn(12),Qs(this),Zl(this);break e}}this.S?(JC(this,w,c),sg&&this.i&&w==3&&(HC(this.U,this.V,"tick",this.mb),this.V.start())):(ca(this.j,this.m,c,null),fg(this,c)),w==4&&Qs(this),this.i&&!this.J&&(w==4?_A(this.l,this):(this.i=!1,au(this)))}else pR(this.g),n==400&&0<c.indexOf("Unknown SID")?(this.o=3,Vn(12)):(this.o=0,Vn(13)),Qs(this),Zl(this)}}}catch{}finally{}};function ZC(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function JC(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=K5(t,n),i==gd){e==4&&(t.o=4,Vn(14),r=!1),ca(t.j,t.m,null,"[Incomplete Response]");break}else if(i==hg){t.o=4,Vn(15),ca(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ca(t.j,t.m,i,null),fg(t,i);ZC(t)&&i!=gd&&i!=hg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Vn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),gm(e),e.M=!0,Vn(11))):(ca(t.j,t.m,n,"[Invalid Chunked Response]"),Qs(t),Zl(t))}ie.mb=function(){if(this.g){var t=si(this.g),e=this.g.ja();this.C<e.length&&(cf(this),JC(this,t,e),this.i&&t!=4&&au(this))}};function K5(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?gd:(n=Number(e.substring(n,r)),isNaN(n)?hg:(r+=1,r+n>e.length?gd:(e=e.slice(r,r+n),t.C=r+n,e)))}ie.cancel=function(){this.J=!0,Qs(this)};function au(t){t.Y=Date.now()+t.P,eA(t,t.P)}function eA(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=iu(bn(t.lb,t),e)}function cf(t){t.B&&(Ce.clearTimeout(t.B),t.B=null)}ie.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?($5(this.j,this.A),this.L!=2&&(kc(),Vn(17)),Qs(this),this.o=2,Zl(this)):eA(this,this.Y-t)};function Zl(t){t.l.H==0||t.J||_A(t.l,t)}function Qs(t){cf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,im(t.V),WC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function fg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||gg(n.i,t))){if(!t.K&&gg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)yd(n),gf(n);else break e;fm(n),Vn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=iu(bn(n.ib,n),6e3));if(1>=lA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Zs(n,11)}else if((t.K||n.g==t)&&yd(n),!Sc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let p=i[e];if(n.V=p[0],p=p[1],n.H==2)if(p[0]=="c"){n.K=p[1],n.pa=p[2];const w=p[3];w!=null&&(n.ra=w,n.l.info("VER="+n.ra));const _=p[4];_!=null&&(n.Ga=_,n.l.info("SVER="+n.Ga));const I=p[5];I!=null&&typeof I=="number"&&0<I&&(r=1.5*I,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const b=t.g;if(b){const M=b.g?b.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(M){var o=r.i;o.g||M.indexOf("spdy")==-1&&M.indexOf("quic")==-1&&M.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(cm(o,o.h),o.h=null))}if(r.F){const R=b.g?b.g.getResponseHeader("X-HTTP-Session-Id"):null;R&&(r.Da=R,ht(r.I,r.F,R))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var c=t;if(r.wa=IA(r,r.J?r.pa:null,r.Y),c.K){cA(r.i,c);var g=c,m=r.L;m&&g.setTimeout(m),g.B&&(cf(g),au(g)),r.g=c}else EA(r);0<n.j.length&&pf(n)}else p[0]!="stop"&&p[0]!="close"||Zs(n,7);else n.H==3&&(p[0]=="stop"||p[0]=="close"?p[0]=="stop"?Zs(n,7):dm(n):p[0]!="noop"&&n.h&&n.h.Aa(p),n.A=0)}}kc(4)}catch{}}function q5(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Jd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Q5(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Jd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function tA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Jd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Q5(t),r=q5(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var nA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Z5(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ro(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ro){this.h=t.h,pd(this,t.j),this.s=t.s,this.g=t.g,md(this,t.m),this.l=t.l;var e=t.i,n=new Dc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Rx(this,n),this.o=t.o}else t&&(e=String(t).match(nA))?(this.h=!1,pd(this,e[1]||"",!0),this.s=Fl(e[2]||""),this.g=Fl(e[3]||"",!0),md(this,e[4]),this.l=Fl(e[5]||"",!0),Rx(this,e[6]||"",!0),this.o=Fl(e[7]||"")):(this.h=!1,this.i=new Dc(null,this.h))}ro.prototype.toString=function(){var t=[],e=this.j;e&&t.push(jl(e,Ox,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(jl(e,Ox,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(jl(n,n.charAt(0)=="/"?tR:eR,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",jl(n,rR)),t.join("")};function Li(t){return new ro(t)}function pd(t,e,n){t.j=n?Fl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function md(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Rx(t,e,n){e instanceof Dc?(t.i=e,iR(t.i,t.h)):(n||(e=jl(e,nR)),t.i=new Dc(e,t.h))}function ht(t,e,n){t.i.set(e,n)}function uf(t){return ht(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Fl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,J5),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function J5(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Ox=/[#\/\?@]/g,eR=/[#\?:]/g,tR=/[#\?]/g,nR=/[#\?@]/g,rR=/#/g;function Dc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ps(t){t.g||(t.g=new Map,t.h=0,t.i&&Z5(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ie=Dc.prototype;ie.add=function(t,e){Ps(this),this.i=null,t=Qa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function rA(t,e){Ps(t),e=Qa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function iA(t,e){return Ps(t),e=Qa(t,e),t.g.has(e)}ie.forEach=function(t,e){Ps(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ie.ta=function(){Ps(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};ie.Z=function(t){Ps(this);let e=[];if(typeof t=="string")iA(this,t)&&(e=e.concat(this.g.get(Qa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ie.set=function(t,e){return Ps(this),this.i=null,t=Qa(this,t),iA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ie.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function sA(t,e,n){rA(t,e),0<n.length&&(t.i=null,t.g.set(Qa(t,e),Kp(n)),t.h+=n.length)}ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=o;c[r]!==""&&(i+="="+encodeURIComponent(String(c[r]))),t.push(i)}}return this.i=t.join("&")};function Qa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function iR(t,e){e&&!t.j&&(Ps(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(rA(this,r),sA(this,i,n))},t)),t.j=e}var sR=class{constructor(t,e){this.g=t,this.map=e}};function oA(t){this.l=t||oR,Ce.PerformanceNavigationTiming?(t=Ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ce.g&&Ce.g.Ka&&Ce.g.Ka()&&Ce.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var oR=10;function aA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function lA(t){return t.h?1:t.g?t.g.size:0}function gg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function cm(t,e){t.g?t.g.add(e):t.h=e}function cA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}oA.prototype.cancel=function(){if(this.i=uA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function uA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Kp(t.i)}var aR=class{stringify(t){return Ce.JSON.stringify(t,void 0)}parse(t){return Ce.JSON.parse(t,void 0)}};function lR(){this.g=new aR}function cR(t,e,n){const r=n||"";try{tA(t,function(i,o){let c=i;nu(i)&&(c=nm(i)),e.push(r+o+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function uR(t,e){const n=new sf;if(Ce.Image){const r=new Image;r.onload=qu(Zu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=qu(Zu,n,r,"TestLoadImage: error",!1,e),r.onabort=qu(Zu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=qu(Zu,n,r,"TestLoadImage: timeout",!1,e),Ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Zu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function hf(t){this.l=t.ec||null,this.j=t.ob||!1}on(hf,om);hf.prototype.g=function(){return new df(this.l,this.j)};hf.prototype.i=function(t){return function(){return t}}({});function df(t,e){sn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=um,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}on(df,sn);var um=0;ie=df.prototype;ie.open=function(t,e){if(this.readyState!=um)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Mc(this)};ie.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lu(this)),this.readyState=um};ie.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Mc(this)),this.g&&(this.readyState=3,Mc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function hA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ie.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?lu(this):Mc(this),this.readyState==3&&hA(this)}};ie.Za=function(t){this.g&&(this.response=this.responseText=t,lu(this))};ie.Ya=function(t){this.g&&(this.response=t,lu(this))};ie.ka=function(){this.g&&lu(this)};function lu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Mc(t)}ie.setRequestHeader=function(t,e){this.v.append(t,e)};ie.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ie.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Mc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(df.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var hR=Ce.JSON.parse;function kt(t){sn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dA,this.L=this.M=!1}on(kt,sn);var dA="",dR=/^https?$/i,fR=["POST","PUT"];ie=kt.prototype;ie.Oa=function(t){this.M=t};ie.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ug.g(),this.C=this.u?Nx(this.u):Nx(ug),this.g.onreadystatechange=bn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){kx(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=Ce.FormData&&t instanceof Ce.FormData,!(0<=NC(fR,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of n)this.g.setRequestHeader(o,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{pA(this),0<this.B&&((this.L=gR(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bn(this.ua,this)):this.A=sm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){kx(this,o)}};function gR(t){return Ma&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ie.ua=function(){typeof Yp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mn(this,"timeout"),this.abort(8))};function kx(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,fA(t),ff(t)}function fA(t){t.F||(t.F=!0,mn(t,"complete"),mn(t,"error"))}ie.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,mn(this,"complete"),mn(this,"abort"),ff(this))};ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ff(this,!0)),kt.$.N.call(this)};ie.La=function(){this.s||(this.G||this.v||this.l?gA(this):this.kb())};ie.kb=function(){gA(this)};function gA(t){if(t.h&&typeof Yp<"u"&&(!t.C[1]||si(t)!=4||t.da()!=2)){if(t.v&&si(t)==4)sm(t.La,0,t);else if(mn(t,"readystatechange"),si(t)==4){t.h=!1;try{const c=t.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=c===0){var i=String(t.I).match(nA)[1]||null;!i&&Ce.self&&Ce.self.location&&(i=Ce.self.location.protocol.slice(0,-1)),r=!dR.test(i?i.toLowerCase():"")}n=r}if(n)mn(t,"complete"),mn(t,"success");else{t.m=6;try{var o=2<si(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",fA(t)}}finally{ff(t)}}}}function ff(t,e){if(t.g){pA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||mn(t,"ready");try{n.onreadystatechange=r}catch{}}}function pA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ce.clearTimeout(t.A),t.A=null)}ie.isActive=function(){return!!this.g};function si(t){return t.g?t.g.readyState:0}ie.da=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}};ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ie.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),hR(e)}};function Dx(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case dA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function pR(t){const e={};t=(t.g&&2<=si(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Sc(t[r]))continue;var n=V5(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}D5(e,function(r){return r.join(", ")})}ie.Ia=function(){return this.m};ie.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function mA(t){let e="";return Qp(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function hm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=mA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ht(t,e,n))}function Il(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function yA(t){this.Ga=0,this.j=[],this.l=new sf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Il("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Il("baseRetryDelayMs",5e3,t),this.hb=Il("retryDelaySeedMs",1e4,t),this.eb=Il("forwardChannelMaxRetries",2,t),this.xa=Il("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new oA(t&&t.concurrentRequestLimit),this.Ja=new lR,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ie=yA.prototype;ie.ra=8;ie.H=1;function dm(t){if(xA(t),t.H==3){var e=t.W++,n=Li(t.I);if(ht(n,"SID",t.K),ht(n,"RID",e),ht(n,"TYPE","terminate"),cu(t,n),e=new ou(t,t.l,e),e.L=2,e.v=uf(Li(n)),n=!1,Ce.navigator&&Ce.navigator.sendBeacon)try{n=Ce.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ce.Image&&(new Image().src=e.v,n=!0),n||(e.g=TA(e.l,null),e.g.ha(e.v)),e.G=Date.now(),au(e)}AA(t)}function gf(t){t.g&&(gm(t),t.g.cancel(),t.g=null)}function xA(t){gf(t),t.u&&(Ce.clearTimeout(t.u),t.u=null),yd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ce.clearTimeout(t.m),t.m=null)}function pf(t){if(!aA(t.i)&&!t.m){t.m=!0;var e=t.Na;Nc||UC(),Rc||(Nc(),Rc=!0),rm.add(e,t),t.C=0}}function mR(t,e){return lA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=iu(bn(t.Na,t,e),CA(t,t.C)),t.C++,!0)}ie.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ou(this,this.l,t);let o=this.s;if(this.U&&(o?(o=DC(o),MC(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=wA(this,i,e),n=Li(this.I),ht(n,"RID",t),ht(n,"CVER",22),this.F&&ht(n,"X-HTTP-Session-Id",this.F),cu(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(mA(o)))+"&"+e:this.o&&hm(n,this.o,o)),cm(this.i,i),this.bb&&ht(n,"TYPE","init"),this.P?(ht(n,"$req",e),ht(n,"SID","null"),i.aa=!0,dg(i,n,null)):dg(i,n,e),this.H=2}}else this.H==3&&(t?Mx(this,t):this.j.length==0||aA(this.i)||Mx(this))};function Mx(t,e){var n;e?n=e.m:n=t.W++;const r=Li(t.I);ht(r,"SID",t.K),ht(r,"RID",n),ht(r,"AID",t.V),cu(t,r),t.o&&t.s&&hm(r,t.o,t.s),n=new ou(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=wA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),cm(t.i,n),dg(n,r,e)}function cu(t,e){t.na&&Qp(t.na,function(n,r){ht(e,r,n)}),t.h&&tA({},function(n,r){ht(e,r,n)})}function wA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?bn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const c=["count="+n];o==-1?0<n?(o=i[0].g,c.push("ofs="+o)):o=0:c.push("ofs="+o);let g=!0;for(let m=0;m<n;m++){let p=i[m].g;const w=i[m].map;if(p-=o,0>p)o=Math.max(0,i[m].g-100),g=!1;else try{cR(w,c,"req"+p+"_")}catch{r&&r(w)}}if(g){r=c.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function EA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Nc||UC(),Rc||(Nc(),Rc=!0),rm.add(e,t),t.A=0}}function fm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=iu(bn(t.Ma,t),CA(t,t.A)),t.A++,!0)}ie.Ma=function(){if(this.u=null,vA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=iu(bn(this.jb,this),t)}};ie.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Vn(10),gf(this),vA(this))};function gm(t){t.B!=null&&(Ce.clearTimeout(t.B),t.B=null)}function vA(t){t.g=new ou(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Li(t.wa);ht(e,"RID","rpc"),ht(e,"SID",t.K),ht(e,"AID",t.V),ht(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ht(e,"TO",t.qa),ht(e,"TYPE","xmlhttp"),cu(t,e),t.o&&t.s&&hm(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=uf(Li(e)),n.s=null,n.S=!0,QC(n,t)}ie.ib=function(){this.v!=null&&(this.v=null,gf(this),fm(this),Vn(19))};function yd(t){t.v!=null&&(Ce.clearTimeout(t.v),t.v=null)}function _A(t,e){var n=null;if(t.g==e){yd(t),gm(t),t.g=null;var r=2}else if(gg(t.i,e))n=e.F,cA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=of(),mn(r,new XC(r,n)),pf(t)}else EA(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&mR(t,e)||r==2&&fm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Zs(t,5);break;case 4:Zs(t,10);break;case 3:Zs(t,6);break;default:Zs(t,2)}}}function CA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Zs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=bn(t.pb,t);n||(n=new ro("//www.google.com/images/cleardot.gif"),Ce.location&&Ce.location.protocol=="http"||pd(n,"https"),uf(n)),uR(n.toString(),r)}else Vn(2);t.H=0,t.h&&t.h.za(e),AA(t),xA(t)}ie.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Vn(2)):(this.l.info("Failed to ping google.com"),Vn(1))};function AA(t){if(t.H=0,t.ma=[],t.h){const e=uA(t.i);(e.length!=0||t.j.length!=0)&&(Ax(t.ma,e),Ax(t.ma,t.j),t.i.i.length=0,Kp(t.j),t.j.length=0),t.h.ya()}}function IA(t,e,n){var r=n instanceof ro?Li(n):new ro(n);if(r.g!="")e&&(r.g=e+"."+r.g),md(r,r.m);else{var i=Ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new ro(null);r&&pd(o,r),e&&(o.g=e),i&&md(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&ht(r,n,e),ht(r,"VER",t.ra),cu(t,r),r}function TA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new kt(new hf({ob:!0})):new kt(t.va),e.Oa(t.J),e}ie.isActive=function(){return!!this.h&&this.h.isActive(this)};function SA(){}ie=SA.prototype;ie.Ba=function(){};ie.Aa=function(){};ie.za=function(){};ie.ya=function(){};ie.isActive=function(){return!0};ie.Va=function(){};function xd(){if(Ma&&!(10<=Number(N5)))throw Error("Environmental error: no available transport.")}xd.prototype.g=function(t,e){return new fr(t,e)};function fr(t,e){sn.call(this),this.g=new yA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Sc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Sc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Za(this)}on(fr,sn);fr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Vn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=IA(t,null,t.Y),pf(t)};fr.prototype.close=function(){dm(this.g)};fr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=nm(t),t=n);e.j.push(new sR(e.fb++,t)),e.H==3&&pf(e)};fr.prototype.N=function(){this.g.h=null,delete this.j,dm(this.g),delete this.g,fr.$.N.call(this)};function bA(t){am.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}on(bA,am);function NA(){lm.call(this),this.status=1}on(NA,lm);function Za(t){this.g=t}on(Za,SA);Za.prototype.Ba=function(){mn(this.g,"a")};Za.prototype.Aa=function(t){mn(this.g,new bA(t))};Za.prototype.za=function(t){mn(this.g,new NA)};Za.prototype.ya=function(){mn(this.g,"b")};function yR(){this.blockSize=-1}function Ur(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}on(Ur,yR);Ur.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function W0(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],c=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(c<<7&4294967295|c>>>25),c=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(c<<12&4294967295|c>>>20),c=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(c<<17&4294967295|c>>>15),c=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(c<<22&4294967295|c>>>10),c=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(c<<7&4294967295|c>>>25),c=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(c<<12&4294967295|c>>>20),c=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(c<<17&4294967295|c>>>15),c=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(c<<22&4294967295|c>>>10),c=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(c<<7&4294967295|c>>>25),c=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(c<<12&4294967295|c>>>20),c=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(c<<17&4294967295|c>>>15),c=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(c<<22&4294967295|c>>>10),c=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(c<<7&4294967295|c>>>25),c=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(c<<12&4294967295|c>>>20),c=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(c<<17&4294967295|c>>>15),c=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(c<<22&4294967295|c>>>10),c=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(c<<5&4294967295|c>>>27),c=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(c<<9&4294967295|c>>>23),c=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(c<<14&4294967295|c>>>18),c=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(c<<20&4294967295|c>>>12),c=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(c<<5&4294967295|c>>>27),c=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(c<<9&4294967295|c>>>23),c=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(c<<14&4294967295|c>>>18),c=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(c<<20&4294967295|c>>>12),c=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(c<<5&4294967295|c>>>27),c=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(c<<9&4294967295|c>>>23),c=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(c<<14&4294967295|c>>>18),c=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(c<<20&4294967295|c>>>12),c=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(c<<5&4294967295|c>>>27),c=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(c<<9&4294967295|c>>>23),c=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(c<<14&4294967295|c>>>18),c=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(c<<20&4294967295|c>>>12),c=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(c<<4&4294967295|c>>>28),c=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(c<<11&4294967295|c>>>21),c=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(c<<16&4294967295|c>>>16),c=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(c<<23&4294967295|c>>>9),c=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(c<<4&4294967295|c>>>28),c=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(c<<11&4294967295|c>>>21),c=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(c<<16&4294967295|c>>>16),c=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(c<<23&4294967295|c>>>9),c=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(c<<4&4294967295|c>>>28),c=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(c<<11&4294967295|c>>>21),c=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(c<<16&4294967295|c>>>16),c=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(c<<23&4294967295|c>>>9),c=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(c<<4&4294967295|c>>>28),c=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(c<<11&4294967295|c>>>21),c=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(c<<16&4294967295|c>>>16),c=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(c<<23&4294967295|c>>>9),c=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(c<<6&4294967295|c>>>26),c=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(c<<10&4294967295|c>>>22),c=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(c<<15&4294967295|c>>>17),c=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(c<<21&4294967295|c>>>11),c=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(c<<6&4294967295|c>>>26),c=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(c<<10&4294967295|c>>>22),c=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(c<<15&4294967295|c>>>17),c=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(c<<21&4294967295|c>>>11),c=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(c<<6&4294967295|c>>>26),c=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(c<<10&4294967295|c>>>22),c=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(c<<15&4294967295|c>>>17),c=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(c<<21&4294967295|c>>>11),c=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(c<<6&4294967295|c>>>26),c=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(c<<10&4294967295|c>>>22),c=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(c<<15&4294967295|c>>>17),c=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Ur.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)W0(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){W0(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){W0(this,r),i=0;break}}this.h=i,this.i+=e};Ur.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function et(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var xR={};function pm(t){return-128<=t&&128>t?T5(t,function(e){return new et([e|0],0>e?-1:0)}):new et([t|0],0>t?-1:0)}function oi(t){if(isNaN(t)||!isFinite(t))return wa;if(0>t)return gn(oi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=pg;return new et(e,0)}function RA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return gn(RA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=oi(Math.pow(e,8)),r=wa,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+o),e);8>o?(o=oi(Math.pow(e,o)),r=r.R(o).add(oi(c))):(r=r.R(n),r=r.add(oi(c)))}return r}var pg=4294967296,wa=pm(0),mg=pm(1),Px=pm(16777216);ie=et.prototype;ie.ea=function(){if(Cr(this))return-gn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:pg+r)*e,e*=pg}return t};ie.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ti(this))return"0";if(Cr(this))return"-"+gn(this).toString(t);for(var e=oi(Math.pow(t,6)),n=this,r="";;){var i=Ed(n,e).g;n=wd(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ti(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};ie.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ti(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Cr(t){return t.h==-1}ie.X=function(t){return t=wd(this,t),Cr(t)?-1:Ti(t)?0:1};function gn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new et(n,~t.h).add(mg)}ie.abs=function(){return Cr(this)?gn(this):this};ie.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),c=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=c>>>16,o&=65535,c&=65535,n[i]=c<<16|o}return new et(n,n[n.length-1]&-2147483648?-1:0)};function wd(t,e){return t.add(gn(e))}ie.R=function(t){if(Ti(this)||Ti(t))return wa;if(Cr(this))return Cr(t)?gn(this).R(gn(t)):gn(gn(this).R(t));if(Cr(t))return gn(this.R(gn(t)));if(0>this.X(Px)&&0>t.X(Px))return oi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,c=this.D(r)&65535,g=t.D(i)>>>16,m=t.D(i)&65535;n[2*r+2*i]+=c*m,Ju(n,2*r+2*i),n[2*r+2*i+1]+=o*m,Ju(n,2*r+2*i+1),n[2*r+2*i+1]+=c*g,Ju(n,2*r+2*i+1),n[2*r+2*i+2]+=o*g,Ju(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new et(n,0)};function Ju(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Tl(t,e){this.g=t,this.h=e}function Ed(t,e){if(Ti(e))throw Error("division by zero");if(Ti(t))return new Tl(wa,wa);if(Cr(t))return e=Ed(gn(t),e),new Tl(gn(e.g),gn(e.h));if(Cr(e))return e=Ed(t,gn(e)),new Tl(gn(e.g),e.h);if(30<t.g.length){if(Cr(t)||Cr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=mg,r=e;0>=r.X(t);)n=Lx(n),r=Lx(r);var i=Vo(n,1),o=Vo(r,1);for(r=Vo(r,2),n=Vo(n,2);!Ti(r);){var c=o.add(r);0>=c.X(t)&&(i=i.add(n),o=c),r=Vo(r,1),n=Vo(n,1)}return e=wd(t,i.R(e)),new Tl(i,e)}for(i=wa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=oi(n),c=o.R(e);Cr(c)||0<c.X(t);)n-=r,o=oi(n),c=o.R(e);Ti(o)&&(o=mg),i=i.add(o),t=wd(t,c)}return new Tl(i,t)}ie.gb=function(t){return Ed(this,t).h};ie.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new et(n,this.h&t.h)};ie.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new et(n,this.h|t.h)};ie.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new et(n,this.h^t.h)};function Lx(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new et(n,t.h)}function Vo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new et(i,t.h)}xd.prototype.createWebChannel=xd.prototype.g;fr.prototype.send=fr.prototype.u;fr.prototype.open=fr.prototype.m;fr.prototype.close=fr.prototype.close;af.NO_ERROR=0;af.TIMEOUT=8;af.HTTP_ERROR=6;YC.COMPLETE="complete";KC.EventType=su;su.OPEN="a";su.CLOSE="b";su.ERROR="c";su.MESSAGE="d";sn.prototype.listen=sn.prototype.O;kt.prototype.listenOnce=kt.prototype.P;kt.prototype.getLastError=kt.prototype.Sa;kt.prototype.getLastErrorCode=kt.prototype.Ia;kt.prototype.getStatus=kt.prototype.da;kt.prototype.getResponseJson=kt.prototype.Wa;kt.prototype.getResponseText=kt.prototype.ja;kt.prototype.send=kt.prototype.ha;kt.prototype.setWithCredentials=kt.prototype.Oa;Ur.prototype.digest=Ur.prototype.l;Ur.prototype.reset=Ur.prototype.reset;Ur.prototype.update=Ur.prototype.j;et.prototype.add=et.prototype.add;et.prototype.multiply=et.prototype.R;et.prototype.modulo=et.prototype.gb;et.prototype.compare=et.prototype.X;et.prototype.toNumber=et.prototype.ea;et.prototype.toString=et.prototype.toString;et.prototype.getBits=et.prototype.D;et.fromNumber=oi;et.fromString=RA;var wR=function(){return new xd},ER=function(){return of()},G0=af,vR=YC,_R=bo,Bx={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},eh=KC,CR=kt,AR=Ur,Ea=et;const Fx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ja="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new Op("@firebase/firestore");function Sl(){return yo.logLevel}function de(t,...e){if(yo.logLevel<=Le.DEBUG){const n=e.map(mm);yo.debug(`Firestore (${Ja}): ${t}`,...n)}}function Bi(t,...e){if(yo.logLevel<=Le.ERROR){const n=e.map(mm);yo.error(`Firestore (${Ja}): ${t}`,...n)}}function Pa(t,...e){if(yo.logLevel<=Le.WARN){const n=e.map(mm);yo.warn(`Firestore (${Ja}): ${t}`,...n)}}function mm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t="Unexpected state"){const e=`FIRESTORE (${Ja}) INTERNAL ASSERTION FAILED: `+t;throw Bi(e),new Error(e)}function qt(t,e){t||be()}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(In.UNAUTHENTICATED))}shutdown(){}}class TR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class SR{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let o=new io;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new io,e.enqueueRetryable(()=>i(this.currentUser))};const c=()=>{const m=o;e.enqueueRetryable(async()=>{await m.promise,await i(this.currentUser)})},g=m=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(m=>g(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?g(m):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new io)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string"),new OA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new In(e)}}class bR{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=In.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class NR{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new bR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qt(typeof n.token=="string"),this.R=n.token,new RR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=kR(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function La(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new rn(0,0))}static max(){return new Ie(new rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(),r===void 0?r=e.length-n:r>e.length-n&&be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),c=n.get(i);if(o<c)return-1;if(o>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class vt extends Pc{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const MR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends Pc{construct(e,n,r){return new jn(e,n,r)}static isValidIdentifier(e){return MR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ue(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const g=e[i];if(g==="\\"){if(i+1===e.length)throw new ue(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ue(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else g==="`"?(c=!c,i++):g!=="."||c?(r+=g,i++):(o(),i++)}if(o(),c)throw new ue(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(n)}static emptyPath(){return new jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(vt.fromString(e))}static fromName(e){return new we(vt.fromString(e).popFirst(5))}static empty(){return new we(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new vt(e.slice()))}}function PR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new rn(n+1,0):new rn(n,r));return new Ts(i,we.empty(),e)}function LR(t){return new Ts(t.readTime,t.key,-1)}class Ts{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ts(Ie.min(),we.empty(),-1)}static max(){return new Ts(Ie.max(),we.empty(),-1)}}function BR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ym(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==FR)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,o=0,c=!1;e.forEach(g=>{++i,g.next(()=>{++o,c&&o===i&&n()},m=>r(m))}),c=!0,o===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const o=e.length,c=new Array(o);let g=0;for(let m=0;m<o;m++){const p=m;n(e[p]).next(w=>{c[p]=w,++g,g===o&&r(c)},w=>i(w))}})}static doWhile(e,n){return new Q((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function uu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}xm.ae=-1;function mf(t){return t==null}function vd(t){return t===0&&1/t==-1/0}function VR(t){return typeof t=="number"&&Number.isInteger(t)&&!vd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??dn.RED,this.left=i??dn.EMPTY,this.right=o??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new dn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,r,i,o){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vx(this.data.getIterator())}getIteratorFrom(e){return new Vx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rn(this.comparator);return n.data=e,n}}class Vx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new us([])}unionWith(e){let n=new Rn(jn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new us(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return La(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new DA("Invalid base64 string: "+o):o}}(e);return new Dn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let c=0;c<i.length;++c)o+=String.fromCharCode(i[c]);return o}(e);return new Dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dn.EMPTY_BYTE_STRING=new Dn("");const UR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(t){if(qt(!!t),typeof t=="string"){let e=0;const n=UR.exec(t);if(qt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xo(t){return typeof t=="string"?Dn.fromBase64String(t):Dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Em(t){const e=t.mapValue.fields.__previous_value__;return wm(e)?Em(e):e}function Lc(t){const e=Ss(t.mapValue.fields.__local_write_time__.timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n,r,i,o,c,g,m,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=g,this.longPollingOptions=m,this.useFetchStreams=p}}class Bc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Bc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Bc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wm(t)?4:HR(t)?9007199254740991:10:be()}function pi(t,e){if(t===e)return!0;const n=wo(t);if(n!==wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lc(t).isEqual(Lc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const c=Ss(i.timestampValue),g=Ss(o.timestampValue);return c.seconds===g.seconds&&c.nanos===g.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return xo(i.bytesValue).isEqual(xo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Vt(i.geoPointValue.latitude)===Vt(o.geoPointValue.latitude)&&Vt(i.geoPointValue.longitude)===Vt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Vt(i.integerValue)===Vt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const c=Vt(i.doubleValue),g=Vt(o.doubleValue);return c===g?vd(c)===vd(g):isNaN(c)&&isNaN(g)}return!1}(t,e);case 9:return La(t.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:return function(i,o){const c=i.mapValue.fields||{},g=o.mapValue.fields||{};if(jx(c)!==jx(g))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(g[m]===void 0||!pi(c[m],g[m])))return!1;return!0}(t,e);default:return be()}}function Fc(t,e){return(t.values||[]).find(n=>pi(n,e))!==void 0}function Ba(t,e){if(t===e)return 0;const n=wo(t),r=wo(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(o,c){const g=Vt(o.integerValue||o.doubleValue),m=Vt(c.integerValue||c.doubleValue);return g<m?-1:g>m?1:g===m?0:isNaN(g)?isNaN(m)?0:-1:1}(t,e);case 3:return Ux(t.timestampValue,e.timestampValue);case 4:return Ux(Lc(t),Lc(e));case 5:return qe(t.stringValue,e.stringValue);case 6:return function(o,c){const g=xo(o),m=xo(c);return g.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(o,c){const g=o.split("/"),m=c.split("/");for(let p=0;p<g.length&&p<m.length;p++){const w=qe(g[p],m[p]);if(w!==0)return w}return qe(g.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,c){const g=qe(Vt(o.latitude),Vt(c.latitude));return g!==0?g:qe(Vt(o.longitude),Vt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,c){const g=o.values||[],m=c.values||[];for(let p=0;p<g.length&&p<m.length;++p){const w=Ba(g[p],m[p]);if(w)return w}return qe(g.length,m.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,c){if(o===nh.mapValue&&c===nh.mapValue)return 0;if(o===nh.mapValue)return 1;if(c===nh.mapValue)return-1;const g=o.fields||{},m=Object.keys(g),p=c.fields||{},w=Object.keys(p);m.sort(),w.sort();for(let _=0;_<m.length&&_<w.length;++_){const I=qe(m[_],w[_]);if(I!==0)return I;const b=Ba(g[m[_]],p[w[_]]);if(b!==0)return b}return qe(m.length,w.length)}(t.mapValue,e.mapValue);default:throw be()}}function Ux(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=Ss(t),r=Ss(e),i=qe(n.seconds,r.seconds);return i!==0?i:qe(n.nanos,r.nanos)}function Fa(t){return yg(t)}function yg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ss(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return we.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=yg(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const c of r)o?o=!1:i+=",",i+=`${c}:${yg(n.fields[c])}`;return i+"}"}(t.mapValue):be()}function zx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xg(t){return!!t&&"integerValue"in t}function vm(t){return!!t&&"arrayValue"in t}function Hx(t){return!!t&&"nullValue"in t}function Wx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $0(t){return!!t&&"mapValue"in t}function Jl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return hu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Jl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.value=e}static empty(){return new ri({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(n)}setAll(e){let n=jn.emptyPath(),r={},i=[];e.forEach((c,g)=>{if(!n.isImmediateParentOf(g)){const m=this.getFieldsMap(n);this.applyChanges(m,r,i),r={},i=[],n=g.popLast()}c?r[g.lastSegment()]=Jl(c):i.push(g.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());$0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){hu(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new ri(Jl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n,r,i,o,c,g){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=c,this.documentState=g}static newInvalidDocument(e){return new Sn(e,0,Ie.min(),Ie.min(),Ie.min(),ri.empty(),0)}static newFoundDocument(e,n,r,i){return new Sn(e,1,n,Ie.min(),r,i,0)}static newNoDocument(e,n){return new Sn(e,2,n,Ie.min(),Ie.min(),ri.empty(),0)}static newUnknownDocument(e,n){return new Sn(e,3,n,Ie.min(),Ie.min(),ri.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ri.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n){this.position=e,this.inclusive=n}}function Gx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],c=t.position[i];if(o.field.isKeyField()?r=we.comparator(we.fromName(c.referenceValue),n.key):r=Ba(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function $x(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n="asc"){this.field=e,this.dir=n}}function WR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{}class Ht extends MA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $R(e,n,r):n==="array-contains"?new KR(e,r):n==="in"?new qR(e,r):n==="not-in"?new QR(e,r):n==="array-contains-any"?new ZR(e,r):new Ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new XR(e,r):new YR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ba(n,this.value)):n!==null&&wo(this.value)===wo(n)&&this.matchesComparison(Ba(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class zr extends MA{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new zr(e,n)}matches(e){return PA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function PA(t){return t.op==="and"}function LA(t){return GR(t)&&PA(t)}function GR(t){for(const e of t.filters)if(e instanceof zr)return!1;return!0}function wg(t){if(t instanceof Ht)return t.field.canonicalString()+t.op.toString()+Fa(t.value);if(LA(t))return t.filters.map(e=>wg(e)).join(",");{const e=t.filters.map(n=>wg(n)).join(",");return`${t.op}(${e})`}}function BA(t,e){return t instanceof Ht?function(r,i){return i instanceof Ht&&r.op===i.op&&r.field.isEqual(i.field)&&pi(r.value,i.value)}(t,e):t instanceof zr?function(r,i){return i instanceof zr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,c,g)=>o&&BA(c,i.filters[g]),!0):!1}(t,e):void be()}function FA(t){return t instanceof Ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Fa(n.value)}`}(t):t instanceof zr?function(n){return n.op.toString()+" {"+n.getFilters().map(FA).join(" ,")+"}"}(t):"Filter"}class $R extends Ht{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class XR extends Ht{constructor(e,n){super(e,"in",n),this.keys=jA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class YR extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=jA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>we.fromName(r.referenceValue))}class KR extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vm(n)&&Fc(n.arrayValue,this.value)}}class qR extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fc(this.value.arrayValue,n)}}class QR extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fc(this.value.arrayValue,n)}}class ZR extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n=null,r=[],i=[],o=null,c=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=g,this.he=null}}function Xx(t,e=null,n=[],r=[],i=null,o=null,c=null){return new JR(t,e,n,r,i,o,c)}function _m(t){const e=He(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>wg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),mf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fa(r)).join(",")),e.he=n}return e.he}function Cm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!WR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$x(t.startAt,e.startAt)&&$x(t.endAt,e.endAt)}function Eg(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n=null,r=[],i=[],o=null,c="F",g=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=g,this.endAt=m,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function e9(t,e,n,r,i,o,c,g){return new el(t,e,n,r,i,o,c,g)}function VA(t){return new el(t)}function Yx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Am(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function yf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function UA(t){return t.collectionGroup!==null}function ec(t){const e=He(t);if(e.Pe===null){e.Pe=[];const n=yf(e),r=Am(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new va(n)),e.Pe.push(new va(jn.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.Pe.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new va(jn.keyField(),o))}}}return e.Pe}function fi(t){const e=He(t);return e.Ie||(e.Ie=t9(e,ec(t))),e.Ie}function t9(t,e){if(t.limitType==="F")return Xx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new va(i.field,o)});const n=t.endAt?new _d(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _d(t.startAt.position,t.startAt.inclusive):null;return Xx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vg(t,e){e.getFirstInequalityField(),yf(t);const n=t.filters.concat([e]);return new el(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cd(t,e,n){return new el(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xf(t,e){return Cm(fi(t),fi(e))&&t.limitType===e.limitType}function zA(t){return`${_m(fi(t))}|lt:${t.limitType}`}function $o(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>FA(i)).join(", ")}]`),mf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Fa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Fa(i)).join(",")),`Target(${r})`}(fi(t))}; limitType=${t.limitType})`}function wf(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):we.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ec(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(c,g,m){const p=Gx(c,g,m);return c.inclusive?p<=0:p<0}(r.startAt,ec(r),i)||r.endAt&&!function(c,g,m){const p=Gx(c,g,m);return c.inclusive?p>=0:p>0}(r.endAt,ec(r),i))}(t,e)}function n9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HA(t){return(e,n)=>{let r=!1;for(const i of ec(t)){const o=r9(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function r9(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):function(o,c,g){const m=c.data.field(o),p=g.data.field(o);return m!==null&&p!==null?Ba(m,p):be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hu(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return kA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=new Bt(we.comparator);function bs(){return i9}const WA=new Bt(we.comparator);function Vl(...t){let e=WA;for(const n of t)e=e.insert(n.key,n);return e}function s9(t){let e=WA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Js(){return tc()}function GA(){return tc()}function tc(){return new tl(t=>t.toString(),(t,e)=>t.isEqual(e))}const o9=new Rn(we.comparator);function Ue(...t){let e=o9;for(const n of t)e=e.add(n);return e}const a9=new Rn(qe);function l9(){return a9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vd(e)?"-0":e}}function XA(t){return{integerValue:""+t}}function c9(t,e){return VR(e)?XA(e):$A(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this._=void 0}}function u9(t,e,n){return t instanceof _g?function(i,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&wm(o)&&(o=Em(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}}(n,e):t instanceof Ad?YA(t,e):t instanceof Id?KA(t,e):function(i,o){const c=d9(i,o),g=Kx(c)+Kx(i.Te);return xg(c)&&xg(i.Te)?XA(g):$A(i.serializer,g)}(t,e)}function h9(t,e,n){return t instanceof Ad?YA(t,e):t instanceof Id?KA(t,e):n}function d9(t,e){return t instanceof Cg?function(r){return xg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class _g extends Ef{}class Ad extends Ef{constructor(e){super(),this.elements=e}}function YA(t,e){const n=qA(e);for(const r of t.elements)n.some(i=>pi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Id extends Ef{constructor(e){super(),this.elements=e}}function KA(t,e){let n=qA(e);for(const r of t.elements)n=n.filter(i=>!pi(i,r));return{arrayValue:{values:n}}}class Cg extends Ef{constructor(e,n){super(),this.serializer=e,this.Te=n}}function Kx(t){return Vt(t.integerValue||t.doubleValue)}function qA(t){return vm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function f9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ad&&i instanceof Ad||r instanceof Id&&i instanceof Id?La(r.elements,i.elements,pi):r instanceof Cg&&i instanceof Cg?pi(r.Te,i.Te):r instanceof _g&&i instanceof _g}(t.transform,e.transform)}class so{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new so}static exists(e){return new so(void 0,e)}static updateTime(e){return new so(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Im{}function QA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new p9(t.key,so.none()):new Tm(t.key,t.data,so.none());{const n=t.data,r=ri.empty();let i=new Rn(jn.comparator);for(let o of e.fields)if(!i.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),i=i.add(o)}return new vf(t.key,r,new us(i.toArray()),so.none())}}function g9(t,e,n){t instanceof Tm?function(i,o,c){const g=i.value.clone(),m=Qx(i.fieldTransforms,o,c.transformResults);g.setAll(m),o.convertToFoundDocument(c.version,g).setHasCommittedMutations()}(t,e,n):t instanceof vf?function(i,o,c){if(!Ah(i.precondition,o))return void o.convertToUnknownDocument(c.version);const g=Qx(i.fieldTransforms,o,c.transformResults),m=o.data;m.setAll(ZA(i)),m.setAll(g),o.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):function(i,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function nc(t,e,n,r){return t instanceof Tm?function(o,c,g,m){if(!Ah(o.precondition,c))return g;const p=o.value.clone(),w=Zx(o.fieldTransforms,m,c);return p.setAll(w),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof vf?function(o,c,g,m){if(!Ah(o.precondition,c))return g;const p=Zx(o.fieldTransforms,m,c),w=c.data;return w.setAll(ZA(o)),w.setAll(p),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),g===null?null:g.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(o,c,g){return Ah(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):g}(t,e,n)}function qx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&La(r,i,(o,c)=>f9(o,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tm extends Im{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vf extends Im{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ZA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Qx(t,e,n){const r=new Map;qt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],c=o.transform,g=e.data.field(o.field);r.set(o.field,h9(c,g,n[i]))}return r}function Zx(t,e,n){const r=new Map;for(const i of t){const o=i.transform,c=n.data.field(i.field);r.set(i.field,u9(o,c,e))}return r}class p9 extends Im{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&g9(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=GA();return this.mutations.forEach(i=>{const o=e.get(i.key),c=o.overlayedDocument;let g=this.applyToLocalView(c,o.mutatedFields);g=n.has(i.key)?null:g;const m=QA(c,g);m!==null&&r.set(i.key,m),c.isValidDocument()||c.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&La(this.mutations,e.mutations,(n,r)=>qx(n,r))&&La(this.baseMutations,e.baseMutations,(n,r)=>qx(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,Fe;function JA(t){if(t===void 0)return Bi("GRPC error has no .code"),ne.UNKNOWN;switch(t){case jt.OK:return ne.OK;case jt.CANCELLED:return ne.CANCELLED;case jt.UNKNOWN:return ne.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ne.INTERNAL;case jt.UNAVAILABLE:return ne.UNAVAILABLE;case jt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case jt.NOT_FOUND:return ne.NOT_FOUND;case jt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case jt.ABORTED:return ne.ABORTED;case jt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case jt.DATA_LOSS:return ne.DATA_LOSS;default:return be()}}(Fe=jt||(jt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=new Ea([4294967295,4294967295],0);function Jx(t){const e=w9().encode(t),n=new AR;return n.update(e),new Uint8Array(n.digest())}function ew(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ea([n,r],0),new Ea([i,o],0)]}class Sm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(r<0)throw new Ul(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=Ea.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(Ea.fromNumber(r)));return i.compare(E9)===1&&(i=new Ea([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=Jx(e),[r,i]=ew(n);for(let o=0;o<this.hashCount;o++){const c=this.Ve(r,i,o);if(!this.me(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Sm(o,i,n);return r.forEach(g=>c.insert(g)),c}insert(e){if(this.Ae===0)return;const n=Jx(e),[r,i]=ew(n);for(let o=0;o<this.hashCount;o++){const c=this.Ve(r,i,o);this.fe(c)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _f(Ie.min(),i,new Bt(qe),bs(),Ue())}}class du{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new du(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class e3{constructor(e,n){this.targetId=e,this.ye=n}}class t3{constructor(e,n,r=Dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tw{constructor(){this.we=0,this.Se=rw(),this.be=Dn.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=Ue(),n=Ue(),r=Ue();return this.Se.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:be()}}),new du(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=rw()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class v9{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=bs(),this.Ue=nw(),this.We=new Bt(qe)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const o=i.target;if(Eg(o))if(r===0){const c=new we(o.path);this.je(n,c,Sn.newNoDocument(c,Ie.min()))}else qt(r===1);else{const c=this.tt(n);if(c!==r){const g=this.nt(e),m=g?this.rt(g,e,c):1;if(m!==0){this.Ze(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,p)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let c,g;try{c=xo(r).toUint8Array()}catch(m){if(m instanceof DA)return Pa("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{g=new Sm(c,i,o)}catch(m){return Pa(m instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return g.Ae===0?null:g}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const c=this.Qe.st(),g=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(g)||(this.je(n,o,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((o,c)=>{const g=this.et(c);if(g){if(o.current&&Eg(g.target)){const m=new we(g.target.path);this.$e.get(m)!==null||this.ut(c,m)||this.je(c,m,Sn.newNoDocument(m,e))}o.Fe&&(n.set(c,o.xe()),o.Oe())}});let r=Ue();this.Ue.forEach((o,c)=>{let g=!0;c.forEachWhile(m=>{const p=this.et(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(r=r.add(o))}),this.$e.forEach((o,c)=>c.setReadTime(e));const i=new _f(e,n,this.We,this.$e,r);return this.$e=bs(),this.Ue=nw(),this.We=new Bt(qe),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new tw,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Rn(qe),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new tw),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function nw(){return new Bt(we.comparator)}function rw(){return new Bt(we.comparator)}const _9=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),C9=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),A9=(()=>({and:"AND",or:"OR"}))();class I9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ag(t,e){return t.useProto3Json||mf(e)?e:{value:e}}function Ig(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _a(t){return qt(!!t),Ie.fromTimestamp(function(n){const r=Ss(n);return new rn(r.seconds,r.nanos)}(t))}function r3(t,e){return function(r){return new vt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function i3(t){const e=vt.fromString(t);return qt(l3(e)),e}function X0(t,e){const n=i3(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(s3(n))}function Tg(t,e){return r3(t.databaseId,e)}function T9(t){const e=i3(t);return e.length===4?vt.emptyPath():s3(e)}function iw(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function s3(t){return qt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function S9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,w){return p.useProto3Json?(qt(w===void 0||typeof w=="string"),Dn.fromBase64String(w||"")):(qt(w===void 0||w instanceof Uint8Array),Dn.fromUint8Array(w||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,g=c&&function(p){const w=p.code===void 0?ne.UNKNOWN:JA(p.code);return new ue(w,p.message||"")}(c);n=new t3(r,i,o,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=X0(t,r.document.name),o=_a(r.document.updateTime),c=r.document.createTime?_a(r.document.createTime):Ie.min(),g=new ri({mapValue:{fields:r.document.fields}}),m=Sn.newFoundDocument(i,o,c,g),p=r.targetIds||[],w=r.removedTargetIds||[];n=new Ih(p,w,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=X0(t,r.document),o=r.readTime?_a(r.readTime):Ie.min(),c=Sn.newNoDocument(i,o),g=r.removedTargetIds||[];n=new Ih([],g,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=X0(t,r.document),o=r.removedTargetIds||[];n=new Ih([],o,i,null)}else{if(!("filter"in e))return be();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,c=new x9(i,o),g=r.targetId;n=new e3(g,c)}}return n}function b9(t,e){return{documents:[Tg(t,e.path)]}}function N9(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Tg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Tg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(m.length!==0)return a3(zr.create(m,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(m){if(m.length!==0)return m.map(p=>function(_){return{field:Xo(_.field),direction:k9(_.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=Ag(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),n}function R9(t){let e=T9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qt(r===1);const w=n.from[0];w.allDescendants?i=w.collectionId:e=e.child(w.collectionId)}let o=[];n.where&&(o=function(_){const I=o3(_);return I instanceof zr&&LA(I)?I.getFilters():[I]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(I=>function(M){return new va(Yo(M.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(I))}(n.orderBy));let g=null;n.limit&&(g=function(_){let I;return I=typeof _=="object"?_.value:_,mf(I)?null:I}(n.limit));let m=null;n.startAt&&(m=function(_){const I=!!_.before,b=_.values||[];return new _d(b,I)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const I=!_.before,b=_.values||[];return new _d(b,I)}(n.endAt)),e9(e,i,c,o,g,"F",m,p)}function O9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function o3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yo(n.unaryFilter.field);return Ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Yo(n.unaryFilter.field);return Ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Yo(n.unaryFilter.field);return Ht.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Yo(n.unaryFilter.field);return Ht.create(c,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):t.fieldFilter!==void 0?function(n){return Ht.create(Yo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zr.create(n.compositeFilter.filters.map(r=>o3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(t):be()}function k9(t){return _9[t]}function D9(t){return C9[t]}function M9(t){return A9[t]}function Xo(t){return{fieldPath:t.canonicalString()}}function Yo(t){return jn.fromServerFormat(t.fieldPath)}function a3(t){return t instanceof Ht?function(n){if(n.op==="=="){if(Wx(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NAN"}};if(Hx(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Wx(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NAN"}};if(Hx(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(n.field),op:D9(n.op),value:n.value}}}(t):t instanceof zr?function(n){const r=n.getFilters().map(i=>a3(i));return r.length===1?r[0]:{compositeFilter:{op:M9(n.op),filters:r}}}(t):be()}function l3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,r,i,o=Ie.min(),c=Ie.min(),g=Dn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=g,this.expectedCount=m}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.ht=e}}function L9(t){const e=R9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(){this.an=new F9}addToCollectionParentIndex(e,n){return this.an.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Ts.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class F9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rn(vt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rn(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new ja(0)}static Ln(){return new ja(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(){this.changes=new tl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&nc(r.mutation,i,us.empty(),rn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ue()){const i=Js();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let c=Vl();return o.forEach((g,m)=>{c=c.insert(g,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=Js();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((c,g)=>{n.set(c,g)})})}computeViews(e,n,r,i){let o=bs();const c=tc(),g=function(){return tc()}();return n.forEach((m,p)=>{const w=r.get(p.key);i.has(p.key)&&(w===void 0||w.mutation instanceof vf)?o=o.insert(p.key,p):w!==void 0?(c.set(p.key,w.mutation.getFieldMask()),nc(w.mutation,p,w.mutation.getFieldMask(),rn.now())):c.set(p.key,us.empty())}),this.recalculateAndSaveOverlays(e,o).next(m=>(m.forEach((p,w)=>c.set(p,w)),n.forEach((p,w)=>{var _;return g.set(p,new V9(w,(_=c.get(p))!==null&&_!==void 0?_:null))}),g))}recalculateAndSaveOverlays(e,n){const r=tc();let i=new Bt((c,g)=>c-g),o=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const g of c)g.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let w=r.get(m)||us.empty();w=g.applyToLocalView(p,w),r.set(m,w);const _=(i.get(g.batchId)||Ue()).add(m);i=i.insert(g.batchId,_)})}).next(()=>{const c=[],g=i.getReverseIterator();for(;g.hasNext();){const m=g.getNext(),p=m.key,w=m.value,_=GA();w.forEach(I=>{if(!o.has(I)){const b=QA(n.get(I),r.get(I));b!==null&&_.set(I,b),o=o.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return Q.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(c){return we.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Q.resolve(Js());let g=-1,m=o;return c.next(p=>Q.forEach(p,(w,_)=>(g<_.largestBatchId&&(g=_.largestBatchId),o.get(w)?Q.resolve():this.remoteDocumentCache.getEntry(e,w).next(I=>{m=m.insert(w,I)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,m,p,Ue())).next(w=>({batchId:g,changes:s9(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(r=>{let i=Vl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let c=Vl();return this.indexManager.getCollectionParents(e,o).next(g=>Q.forEach(g,m=>{const p=function(_,I){return new el(I,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,m.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(w=>{w.forEach((_,I)=>{c=c.insert(_,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(c=>{o.forEach((m,p)=>{const w=p.getKey();c.get(w)===null&&(c=c.insert(w,Sn.newInvalidDocument(w)))});let g=Vl();return c.forEach((m,p)=>{const w=o.get(m);w!==void 0&&nc(w.mutation,p,us.empty(),rn.now()),wf(n,p)&&(g=g.insert(m,p))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return Q.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_a(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:L9(i.bundledQuery),readTime:_a(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(){this.overlays=new Bt(we.comparator),this.Pr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Js();return Q.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.It(e,n,o)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Pr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=Js(),o=n.length+1,c=new we(n.child("")),g=this.overlays.getIteratorFrom(c);for(;g.hasNext();){const m=g.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&m.largestBatchId>r&&i.set(m.getKey(),m)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Bt((p,w)=>p-w);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let w=o.get(p.largestBatchId);w===null&&(w=Js(),o=o.insert(p.largestBatchId,w)),w.set(p.getKey(),p)}}const g=Js(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,w)=>g.set(p,w)),!(g.size()>=i)););return Q.resolve(g)}It(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new y9(n,r));let o=this.Pr.get(n);o===void 0&&(o=Ue(),this.Pr.set(n,o)),this.Pr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.Ir=new Rn(en.dr),this.Tr=new Rn(en.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new en(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new en(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new we(new vt([])),r=new en(n,e),i=new en(n,e+1),o=[];return this.Tr.forEachInRange([r,i],c=>{this.Rr(c),o.push(c.key)}),o}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new we(new vt([])),r=new en(n,e),i=new en(n,e+1);let o=Ue();return this.Tr.forEachInRange([r,i],c=>{o=o.add(c.key)}),o}containsKey(e){const n=new en(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return we.comparator(e.key,n.key)||qe(e.yr,n.yr)}static Er(e,n){return qe(e.yr,n.yr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Rn(en.dr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new m9(o,n,r,i);this.mutationQueue.push(c);for(const g of i)this.Sr=this.Sr.add(new en(g.key,o)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Q.resolve(c)}lookupMutationBatch(e,n){return Q.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),o=i<0?0:i;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new en(n,0),i=new en(n,Number.POSITIVE_INFINITY),o=[];return this.Sr.forEachInRange([r,i],c=>{const g=this.br(c.yr);o.push(g)}),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rn(qe);return n.forEach(i=>{const o=new en(i,0),c=new en(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([o,c],g=>{r=r.add(g.yr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;we.isDocumentKey(o)||(o=o.child(""));const c=new en(new we(o),0);let g=new Rn(qe);return this.Sr.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(g=g.add(m.yr)),!0)},c),Q.resolve(this.Cr(g))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){qt(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return Q.forEach(n.mutations,i=>{const o=new en(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new en(n,0),i=this.Sr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e){this.Fr=e,this.docs=function(){return new Bt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,c=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(n))}getEntries(e,n){let r=bs();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Sn.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=bs();const c=n.path,g=new we(c.child("")),m=this.docs.getIteratorFrom(g);for(;m.hasNext();){const{key:p,value:{document:w}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||BR(LR(w),r)<=0||(i.has(w.key)||wf(n,w))&&(o=o.insert(w.key,w.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(e,n,r,i){be()}Mr(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $9(this)}getSize(e){return Q.resolve(this.size)}}class $9 extends j9{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e){this.persistence=e,this.Or=new tl(n=>_m(n),Cm),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Nr=0,this.Br=new bm,this.targetCount=0,this.Lr=ja.Bn()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),Q.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ja(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Qn(n),Q.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Or.forEach((c,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.Or.delete(c),o.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),Q.waitFor(o).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(c=>{o.push(i.markPotentiallyOrphaned(e,c))}),Q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e,n){this.kr={},this.overlays={},this.qr=new xm(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new X9(this),this.indexManager=new B9,this.remoteDocumentCache=function(i){return new G9(i)}(r=>this.referenceDelegate.$r(r)),this.serializer=new P9(n),this.Ur=new z9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new H9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new W9(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const i=new K9(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(o=>this.referenceDelegate.Gr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}zr(e,n){return Q.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class K9 extends jR{constructor(e){super(),this.currentSequenceNumber=e}}class Nm{constructor(e){this.persistence=e,this.jr=new bm,this.Hr=null}static Jr(e){return new Nm(e)}get Yr(){if(this.Hr)return this.Hr;throw be()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Yr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Yr,r=>{const i=we.fromPath(r);return this.Zr(e,i).next(o=>{o||n.removeEntry(i,Ie.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return Q.or([()=>Q.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(e,n){let r=Ue(),i=Ue();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Rm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Hi(e,n).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.Ji(e,n,i,r).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new q9;return this.Yi(e,n,c).next(g=>{if(o.result=g,this.Wi)return this.Zi(e,n,c,g.size)})}).next(()=>o.result)}Zi(e,n,r,i){return r.documentReadCount<this.Gi?(Sl()<=Le.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",$o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),Q.resolve()):(Sl()<=Le.DEBUG&&de("QueryEngine","Query:",$o(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(Sl()<=Le.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",$o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fi(n))):Q.resolve())}Hi(e,n){if(Yx(n))return Q.resolve(null);let r=fi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Cd(n,null,"F"),r=fi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=Ue(...o);return this.ji.getDocuments(e,c).next(g=>this.indexManager.getMinOffset(e,r).next(m=>{const p=this.Xi(n,g);return this.es(n,p,c,m.readTime)?this.Hi(e,Cd(n,null,"F")):this.ts(e,p,n,m)}))})))}Ji(e,n,r,i){return Yx(n)||i.isEqual(Ie.min())?Q.resolve(null):this.ji.getDocuments(e,r).next(o=>{const c=this.Xi(n,o);return this.es(n,c,r,i)?Q.resolve(null):(Sl()<=Le.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$o(n)),this.ts(e,c,n,PR(i,-1)).next(g=>g))})}Xi(e,n){let r=new Rn(HA(e));return n.forEach((i,o)=>{wf(e,o)&&(r=r.add(o))}),r}es(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Yi(e,n,r){return Sl()<=Le.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",$o(n)),this.ji.getDocumentsMatchingQuery(e,n,Ts.min(),r)}ts(e,n,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,n,r,i){this.persistence=e,this.ns=n,this.serializer=i,this.rs=new Bt(qe),this.ss=new tl(o=>_m(o),Cm),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U9(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function J9(t,e,n,r){return new Z9(t,e,n,r)}async function c3(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],g=[];let m=Ue();for(const p of i){c.push(p.batchId);for(const w of p.mutations)m=m.add(w.key)}for(const p of o){g.push(p.batchId);for(const w of p.mutations)m=m.add(w.key)}return n.localDocuments.getDocuments(r,m).next(p=>({cs:p,removedBatchIds:c,addedBatchIds:g}))})})}function u3(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function eO(t,e){const n=He(t),r=e.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const g=[];e.targetChanges.forEach((w,_)=>{const I=i.get(_);if(!I)return;g.push(n.Kr.removeMatchingKeys(o,w.removedDocuments,_).next(()=>n.Kr.addMatchingKeys(o,w.addedDocuments,_)));let b=I.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?b=b.withResumeToken(Dn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):w.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(w.resumeToken,r)),i=i.insert(_,b),function(R,F,k){return R.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(I,b,w)&&g.push(n.Kr.updateTargetData(o,b))});let m=bs(),p=Ue();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(o,w))}),g.push(tO(o,c,e.documentUpdates).next(w=>{m=w.ls,p=w.hs})),!r.isEqual(Ie.min())){const w=n.Kr.getLastRemoteSnapshotVersion(o).next(_=>n.Kr.setTargetsMetadata(o,o.currentSequenceNumber,r));g.push(w)}return Q.waitFor(g).next(()=>c.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,m,p)).next(()=>m)}).then(o=>(n.rs=i,o))}function tO(t,e,n){let r=Ue(),i=Ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let c=bs();return n.forEach((g,m)=>{const p=o.get(g);m.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(g)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(g,m.readTime),c=c.insert(g,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(g,m)):de("LocalStore","Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",m.version)}),{ls:c,hs:i}})}function nO(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,e).next(o=>o?(i=o,Q.resolve(i)):n.Kr.allocateTargetId(r).next(c=>(i=new hs(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}async function Sg(t,e,n){const r=He(t),i=r.rs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,i))}catch(c){if(!uu(c))throw c;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}function sw(t,e,n){const r=He(t);let i=Ie.min(),o=Ue();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,w){const _=He(m),I=_.ss.get(w);return I!==void 0?Q.resolve(_.rs.get(I)):_.Kr.getTargetData(p,w)}(r,c,fi(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(c,g.targetId).next(m=>{o=m})}).next(()=>r.ns.getDocumentsMatchingQuery(c,e,n?i:Ie.min(),n?o:Ue())).next(g=>(rO(r,n9(e),g),{documents:g,Ps:o})))}function rO(t,e,n){let r=t.os.get(e)||Ie.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.os.set(e,r)}class ow{constructor(){this.activeTargetIds=l9()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iO{constructor(){this.ro=new ow,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new ow,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{so(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh=null;function Y0(){return rh===null?rh=function(){return 268435456+Math.round(2147483648*Math.random())}():rh++,"0x"+rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class lO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get So(){return!1}bo(n,r,i,o,c){const g=Y0(),m=this.Do(n,r);de("RestConnection",`Sending RPC '${n}' ${g}:`,m,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(p,o,c),this.vo(n,m,p,i).then(w=>(de("RestConnection",`Received RPC '${n}' ${g}: `,w),w),w=>{throw Pa("RestConnection",`RPC '${n}' ${g} failed with error: `,w,"url: ",m,"request:",i),w})}Fo(n,r,i,o,c,g){return this.bo(n,r,i,o,c)}Co(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ja}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,c)=>n[c]=o),i&&i.headers.forEach((o,c)=>n[c]=o)}Do(n,r){const i=oO[n];return`${this.po}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const o=Y0();return new Promise((c,g)=>{const m=new CR;m.setWithCredentials(!0),m.listenOnce(vR.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case G0.NO_ERROR:const w=m.getResponseJson();de(Cn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(w)),c(w);break;case G0.TIMEOUT:de(Cn,`RPC '${e}' ${o} timed out`),g(new ue(ne.DEADLINE_EXCEEDED,"Request time out"));break;case G0.HTTP_ERROR:const _=m.getStatus();if(de(Cn,`RPC '${e}' ${o} failed with status:`,_,"response text:",m.getResponseText()),_>0){let I=m.getResponseJson();Array.isArray(I)&&(I=I[0]);const b=I==null?void 0:I.error;if(b&&b.status&&b.message){const M=function(F){const k=F.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(k)>=0?k:ne.UNKNOWN}(b.status);g(new ue(M,b.message))}else g(new ue(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else g(new ue(ne.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{de(Cn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(i);de(Cn,`RPC '${e}' ${o} sending request:`,i),m.send(n,"POST",p,r,15)})}Mo(e,n,r){const i=Y0(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=wR(),g=ER(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Co(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const w=o.join("");de(Cn,`Creating RPC '${e}' stream ${i}: ${w}`,m);const _=c.createWebChannel(w,m);let I=!1,b=!1;const M=new aO({ho:F=>{b?de(Cn,`Not sending because RPC '${e}' stream ${i} is closed:`,F):(I||(de(Cn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),I=!0),de(Cn,`RPC '${e}' stream ${i} sending:`,F),_.send(F))},Po:()=>_.close()}),R=(F,k,S)=>{F.listen(k,O=>{try{S(O)}catch(B){setTimeout(()=>{throw B},0)}})};return R(_,eh.EventType.OPEN,()=>{b||de(Cn,`RPC '${e}' stream ${i} transport opened.`)}),R(_,eh.EventType.CLOSE,()=>{b||(b=!0,de(Cn,`RPC '${e}' stream ${i} transport closed`),M.mo())}),R(_,eh.EventType.ERROR,F=>{b||(b=!0,Pa(Cn,`RPC '${e}' stream ${i} transport errored:`,F),M.mo(new ue(ne.UNAVAILABLE,"The operation could not be completed")))}),R(_,eh.EventType.MESSAGE,F=>{var k;if(!b){const S=F.data[0];qt(!!S);const O=S,B=O.error||((k=O[0])===null||k===void 0?void 0:k.error);if(B){de(Cn,`RPC '${e}' stream ${i} received error:`,B);const X=B.status;let G=function($){const se=jt[$];if(se!==void 0)return JA(se)}(X),j=B.message;G===void 0&&(G=ne.INTERNAL,j="Unknown error status: "+X+" with message "+B.message),b=!0,M.mo(new ue(G,j)),_.close()}else de(Cn,`RPC '${e}' stream ${i} received:`,S),M.fo(S)}}),R(g,_R.STAT_EVENT,F=>{F.stat===Bx.PROXY?de(Cn,`RPC '${e}' stream ${i} detected buffering proxy`):F.stat===Bx.NOPROXY&&de(Cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.Vo()},0),M}}function K0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(t){return new I9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n,r=1e3,i=1.5,o=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=i,this.No=o,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n,r,i,o,c,g,m){this._i=e,this.Uo=r,this.Wo=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=g,this.listener=m,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new h3(e,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,e!==4?this.Ho.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Bi(n.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{e(()=>{const i=new ue(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uO extends cO{constructor(e,n,r,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=o}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=S9(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ie.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?_a(c.readTime):Ie.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=iw(this.serializer),n.addTarget=function(o,c){let g;const m=c.target;if(g=Eg(m)?{documents:b9(o,m)}:{query:N9(o,m)},g.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){g.resumeToken=n3(o,c.resumeToken);const p=Ag(o,c.expectedCount);p!==null&&(g.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ie.min())>0){g.readTime=Ig(o,c.snapshotVersion.toTimestamp());const p=Ag(o,c.expectedCount);p!==null&&(g.expectedCount=p)}return g}(this.serializer,e);const r=O9(this.serializer,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=iw(this.serializer),n.removeTarget=e,this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new ue(ne.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.bo(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ue(ne.UNKNOWN,i.toString())})}Fo(e,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Fo(e,n,r,o,c,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(ne.UNKNOWN,o.toString())})}terminate(){this.R_=!0}}class dO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,e==="Online"&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(Bi(n),this.p_=!1):de("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=o,this.x_.so(c=>{r.enqueueAndForget(async()=>{gu(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await async function(m){const p=He(m);p.F_.add(4),await fu(p),p.O_.set("Unknown"),p.F_.delete(4),await Af(p)}(this))})}),this.O_=new dO(r,i)}}async function Af(t){if(gu(t))for(const e of t.M_)await e(!0)}async function fu(t){for(const e of t.M_)await e(!1)}function d3(t,e){const n=He(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),Dm(n)?km(n):nl(n).Yo()&&Om(n,e))}function f3(t,e){const n=He(t),r=nl(n);n.v_.delete(e),r.Yo()&&g3(n,e),n.v_.size===0&&(r.Yo()?r.e_():gu(n)&&n.O_.set("Unknown"))}function Om(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nl(t).l_(e)}function g3(t,e){t.N_.Le(e),nl(t).h_(e)}function km(t){t.N_=new v9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),nl(t).start(),t.O_.y_()}function Dm(t){return gu(t)&&!nl(t).Jo()&&t.v_.size>0}function gu(t){return He(t).F_.size===0}function p3(t){t.N_=void 0}async function gO(t){t.v_.forEach((e,n)=>{Om(t,e)})}async function pO(t,e){p3(t),Dm(t)?(t.O_.b_(e),km(t)):t.O_.set("Unknown")}async function mO(t,e,n){if(t.O_.set("Online"),e instanceof t3&&e.state===2&&e.cause)try{await async function(i,o){const c=o.cause;for(const g of o.targetIds)i.v_.has(g)&&(await i.remoteSyncer.rejectListen(g,c),i.v_.delete(g),i.N_.removeTarget(g))}(t,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lw(t,r)}else if(e instanceof Ih?t.N_.Ge(e):e instanceof e3?t.N_.Xe(e):t.N_.He(e),!n.isEqual(Ie.min()))try{const r=await u3(t.localStore);n.compareTo(r)>=0&&await function(o,c){const g=o.N_._t(c);return g.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const w=o.v_.get(p);w&&o.v_.set(p,w.withResumeToken(m.resumeToken,c))}}),g.targetMismatches.forEach((m,p)=>{const w=o.v_.get(m);if(!w)return;o.v_.set(m,w.withResumeToken(Dn.EMPTY_BYTE_STRING,w.snapshotVersion)),g3(o,m);const _=new hs(w.target,m,p,w.sequenceNumber);Om(o,_)}),o.remoteSyncer.applyRemoteEvent(g)}(t,n)}catch(r){de("RemoteStore","Failed to raise snapshot:",r),await lw(t,r)}}async function lw(t,e,n){if(!uu(e))throw e;t.F_.add(1),await fu(t),t.O_.set("Offline"),n||(n=()=>u3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de("RemoteStore","Retrying IndexedDB access"),await n(),t.F_.delete(1),await Af(t)})}async function cw(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=gu(n);n.F_.add(3),await fu(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),await Af(n)}async function yO(t,e){const n=He(t);e?(n.F_.delete(2),await Af(n)):e||(n.F_.add(2),await fu(n),n.O_.set("Unknown"))}function nl(t){return t.B_||(t.B_=function(n,r,i){const o=He(n);return o.V_(),new uO(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Io:gO.bind(null,t),Eo:pO.bind(null,t),c_:mO.bind(null,t)}),t.M_.push(async e=>{e?(t.B_.Xo(),Dm(t)?km(t):t.O_.set("Unknown")):(await t.B_.stop(),p3(t))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const c=Date.now()+r,g=new Mm(e,n,c,i,o);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function m3(t,e){if(Bi("AsyncQueue",`${e}: ${t}`),uu(t))return new ue(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=Vl(),this.sortedSet=new Bt(this.comparator)}static emptySet(e){return new Ca(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ca)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ca;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.k_=new Bt(we.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?e.type!==0&&r.type===3?this.k_=this.k_.insert(n,e):e.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.k_=this.k_.remove(n):e.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):be():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Va{constructor(e,n,r,i,o,c,g,m,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=g,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,o){const c=[];return n.forEach(g=>{c.push({type:0,doc:g})}),new Va(e,n,Ca.emptySet(n),c,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.Q_=void 0,this.listeners=[]}}class wO{constructor(){this.queries=new tl(e=>zA(e),xf),this.onlineState="Unknown",this.K_=new Set}}async function EO(t,e){const n=He(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new xO),i)try{o.Q_=await n.onListen(r)}catch(c){const g=m3(c,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(g)}n.queries.set(r,o),o.listeners.push(e),e.U_(n.onlineState),o.Q_&&e.W_(o.Q_)&&Pm(n)}async function vO(t,e){const n=He(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const c=o.listeners.indexOf(e);c>=0&&(o.listeners.splice(c,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function _O(t,e){const n=He(t);let r=!1;for(const i of e){const o=i.query,c=n.queries.get(o);if(c){for(const g of c.listeners)g.W_(i)&&(r=!0);c.Q_=i}}r&&Pm(n)}function CO(t,e,n){const r=He(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function Pm(t){t.K_.forEach(e=>{e.next()})}class AO{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Va(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.key=e}}class x3{constructor(e){this.key=e}}class IO{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Ue(),this.mutatedKeys=Ue(),this.ua=HA(e),this.ca=new Ca(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new uw,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,c=i,g=!1;const m=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((w,_)=>{const I=i.get(w),b=wf(this.query,_)?_:null,M=!!I&&this.mutatedKeys.has(I.key),R=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let F=!1;I&&b?I.data.isEqual(b.data)?M!==R&&(r.track({type:3,doc:b}),F=!0):this.Ia(I,b)||(r.track({type:2,doc:b}),F=!0,(m&&this.ua(b,m)>0||p&&this.ua(b,p)<0)&&(g=!0)):!I&&b?(r.track({type:0,doc:b}),F=!0):I&&!b&&(r.track({type:1,doc:I}),F=!0,(m||p)&&(g=!0)),F&&(b?(c=c.add(b),o=R?o.add(w):o.delete(w)):(c=c.delete(w),o=o.delete(w)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),o=o.delete(w.key),r.track({type:1,doc:w})}return{ca:c,Pa:r,es:g,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.q_();o.sort((p,w)=>function(I,b){const M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return M(I)-M(b)}(p.type,w.type)||this.ua(p.doc,w.doc)),this.da(r);const c=n?this.Ta():[],g=this.aa.size===0&&this.current?1:0,m=g!==this._a;return this._a=g,o.length!==0||m?{snapshot:new Va(this.query,e.ca,i,o,e.mutatedKeys,g===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:c}:{Ea:c}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new uw,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=Ue(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new x3(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new y3(r))}),n}Ra(e){this.oa=e.Ps,this.aa=Ue();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Va.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class TO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class SO{constructor(e){this.key=e,this.ma=!1}}class bO{constructor(e,n,r,i,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.fa={},this.ga=new tl(g=>zA(g),xf),this.pa=new Map,this.ya=new Set,this.wa=new Bt(we.comparator),this.Sa=new Map,this.ba=new bm,this.Da={},this.Ca=new Map,this.va=ja.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function NO(t,e){const n=LO(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const c=await nO(n.localStore,fi(e)),g=n.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=await RO(n,e,r,g==="current",c.resumeToken),n.isPrimaryClient&&d3(n.remoteStore,c)}return i}async function RO(t,e,n,r,i){t.Ma=(_,I,b)=>async function(R,F,k,S){let O=F.view.ha(k);O.es&&(O=await sw(R.localStore,F.query,!1).then(({documents:G})=>F.view.ha(G,O)));const B=S&&S.targetChanges.get(F.targetId),X=F.view.applyChanges(O,R.isPrimaryClient,B);return dw(R,F.targetId,X.Ea),X.snapshot}(t,_,I,b);const o=await sw(t.localStore,e,!0),c=new IO(e,o.Ps),g=c.ha(o.documents),m=du.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=c.applyChanges(g,t.isPrimaryClient,m);dw(t,n,p.Ea);const w=new TO(e,n,c);return t.ga.set(e,w),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),p.snapshot}async function OO(t,e){const n=He(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!xf(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Sg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),f3(n.remoteStore,r.targetId),bg(n,r.targetId)}).catch(ym)):(bg(n,r.targetId),await Sg(n.localStore,r.targetId,!0))}async function w3(t,e){const n=He(t);try{const r=await eO(n.localStore,e);e.targetChanges.forEach((i,o)=>{const c=n.Sa.get(o);c&&(qt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.ma=!0:i.modifiedDocuments.size>0?qt(c.ma):i.removedDocuments.size>0&&(qt(c.ma),c.ma=!1))}),await v3(n,r,e)}catch(r){await ym(r)}}function hw(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,c)=>{const g=c.view.U_(e);g.snapshot&&i.push(g.snapshot)}),function(c,g){const m=He(c);m.onlineState=g;let p=!1;m.queries.forEach((w,_)=>{for(const I of _.listeners)I.U_(g)&&(p=!0)}),p&&Pm(m)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kO(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let c=new Bt(we.comparator);c=c.insert(o,Sn.newNoDocument(o,Ie.min()));const g=Ue().add(o),m=new _f(Ie.min(),new Map,new Bt(qe),c,g);await w3(r,m),r.wa=r.wa.remove(o),r.Sa.delete(e),Lm(r)}else await Sg(r.localStore,e,!1).then(()=>bg(r,e,n)).catch(ym)}function bg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||E3(t,r)})}function E3(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(f3(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Lm(t))}function dw(t,e,n){for(const r of n)r instanceof y3?(t.ba.addReference(r.key,e),DO(t,r)):r instanceof x3?(de("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||E3(t,r.key)):be()}function DO(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(de("SyncEngine","New document in limbo: "+n),t.ya.add(r),Lm(t))}function Lm(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new we(vt.fromString(e)),r=t.va.next();t.Sa.set(r,new SO(n)),t.wa=t.wa.insert(n,r),d3(t.remoteStore,new hs(fi(VA(n.path)),r,"TargetPurposeLimboResolution",xm.ae))}}async function v3(t,e,n){const r=He(t),i=[],o=[],c=[];r.ga.isEmpty()||(r.ga.forEach((g,m)=>{c.push(r.Ma(m,e,n).then(p=>{if((p||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,p!=null&&p.fromCache?"not-current":"current"),p){i.push(p);const w=Rm.$i(m.targetId,p);o.push(w)}}))}),await Promise.all(c),r.fa.c_(i),await async function(m,p){const w=He(m);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Q.forEach(p,I=>Q.forEach(I.Qi,b=>w.persistence.referenceDelegate.addReference(_,I.targetId,b)).next(()=>Q.forEach(I.Ki,b=>w.persistence.referenceDelegate.removeReference(_,I.targetId,b)))))}catch(_){if(!uu(_))throw _;de("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of p){const I=_.targetId;if(!_.fromCache){const b=w.rs.get(I),M=b.snapshotVersion,R=b.withLastLimboFreeSnapshotVersion(M);w.rs=w.rs.insert(I,R)}}}(r.localStore,o))}async function MO(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=await c3(n.localStore,e);n.currentUser=e,function(o,c){o.Ca.forEach(g=>{g.forEach(m=>{m.reject(new ue(ne.CANCELLED,c))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await v3(n,r.cs)}}function PO(t,e){const n=He(t),r=n.Sa.get(e);if(r&&r.ma)return Ue().add(r.key);{let i=Ue();const o=n.pa.get(e);if(!o)return i;for(const c of o){const g=n.ga.get(c);i=i.unionWith(g.view.la)}return i}}function LO(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=w3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kO.bind(null,e),e.fa.c_=_O.bind(null,e.eventManager),e.fa.xa=CO.bind(null,e.eventManager),e}class fw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Cf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return J9(this.persistence,new Q9,e.initialUser,this.serializer)}createPersistence(e){return new Y9(Nm.Jr,this.serializer)}createSharedClientState(e){return new iO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class BO{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MO.bind(null,this.syncEngine),await yO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wO}()}createDatastore(e){const n=Cf(e.databaseInfo.databaseId),r=function(o){return new lO(o)}(e.databaseInfo);return function(o,c,g,m){return new hO(o,c,g,m)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,c,g){return new fO(r,i,o,c,g)}(this.localStore,this.datastore,e.asyncQueue,n=>hw(this.syncEngine,n,0),function(){return aw.C()?new aw:new sO}())}createSyncEngine(e,n){return function(i,o,c,g,m,p,w){const _=new bO(i,o,c,g,m,p);return w&&(_.Fa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=He(n);de("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await fu(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=In.UNAUTHENTICATED,this.clientId=DR.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{de("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(de("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ue(ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=m3(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function q0(t,e){t.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await c3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function gw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await UO(t);de("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>cw(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>cw(e.remoteStore,o)),t._onlineComponents=e}function VO(t){return t.name==="FirebaseError"?t.code===ne.FAILED_PRECONDITION||t.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function UO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await q0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!VO(n))throw n;Pa("Error using user provided cache. Falling back to memory cache: "+n),await q0(t,new fw)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await q0(t,new fw);return t._offlineComponents}async function zO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await gw(t,t._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await gw(t,new BO))),t._onlineComponents}async function HO(t){const e=await zO(t),n=e.eventManager;return n.onListen=NO.bind(null,e.syncEngine),n.onUnlisten=OO.bind(null,e.syncEngine),n}function WO(t,e,n={}){const r=new io;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,g,m,p){const w=new FO({next:I=>{c.enqueueAndForget(()=>vO(o,_)),I.fromCache&&m.source==="server"?p.reject(new ue(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(I)},error:I=>p.reject(I)}),_=new AO(g,w,{includeMetadataChanges:!0,Z_:!0});return EO(o,_)}(await HO(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t,e,n){if(!n)throw new ue(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $O(t,e,n,r){if(e===!0&&r===!0)throw new ue(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mw(t){if(we.isDocumentKey(t))throw new ue(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function If(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be()}function Ng(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=If(t);throw new ue(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function XO(t,e){if(e<=0)throw new ue(ne.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$O("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ue(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ue(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new IR;switch(r.type){case"firstParty":return new NR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=pw.get(n);r&&(de("ComponentProvider","Removing Datastore"),pw.delete(n),r.terminate())}(this),Promise.resolve()}}function YO(t,e,n,r={}){var i;const o=(t=Ng(t,Bm))._getSettings(),c=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==c&&Pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),r.mockUserToken){let g,m;if(typeof r.mockUserToken=="string")g=r.mockUserToken,m=In.MOCK_USER;else{g=D_(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ue(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new In(p)}t._authCredentials=new TR(new OA(g,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ls(this.firestore,e,this._query)}}class Vi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vi(this.firestore,e,this._key)}}class Aa extends Ls{constructor(e,n,r){super(e,n,VA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vi(this.firestore,null,new we(e))}withConverter(e){return new Aa(this.firestore,e,this._path)}}function Fm(t,e,...n){if(t=xn(t),GO("collection","path",e),t instanceof Bm){const r=vt.fromString(e,...n);return mw(r),new Aa(t,null,r)}{if(!(t instanceof Vi||t instanceof Aa))throw new ue(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return mw(r),new Aa(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new h3(this,"async_queue_retry"),this.ou=()=>{const n=K0();n&&de("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=K0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=K0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new io;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!uu(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{this.nu=r,this.ru=!1;const i=function(c){let g=c.message||"";return c.stack&&(g=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),g}(r);throw Bi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const i=Mm.createAndSchedule(this,e,n,r,o=>this.cu(o));return this.tu.push(i),i}_u(){this.nu&&be()}verifyOperationInProgress(){}async lu(){let e;do e=this.Za,await e;while(e!==this.Za)}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}class C3 extends Bm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new KO}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||A3(this),this._firestoreClient.terminate()}}function qO(t,e){const n=typeof t=="object"?t:Dp(),r=typeof t=="string"?t:e||"(default)",i=Yd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=R_("firestore");o&&YO(i,...o)}return i}function QO(t){return t._firestoreClient||A3(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function A3(t){var e,n,r;const i=t._freezeSettings(),o=function(g,m,p,w){return new zR(g,m,p,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,_3(w.experimentalLongPollingOptions),w.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new jO(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ua(Dn.fromBase64String(e))}catch(n){throw new ue(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ua(Dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=/^__.*__$/;function S3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Vm{constructor(e,n,r,i,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.du(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new Vm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return Rg(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(e.length===0)throw this.gu("Document fields must not be empty");if(S3(this.Tu)&&ZO.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class JO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cf(e)}wu(e,n,r,i=!1){return new Vm({Tu:e,methodName:n,yu:r,path:jn.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ek(t){const e=t._freezeSettings(),n=Cf(t._databaseId);return new JO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tk(t,e,n,r=!1){return Um(n,t.wu(r?4:3,e))}function Um(t,e){if(b3(t=xn(t)))return rk("Unsupported field value:",e,t),nk(t,e);if(t instanceof T3)return function(r,i){if(!S3(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&e.Tu!==4)throw e.gu("Nested arrays are not supported");return function(r,i){const o=[];let c=0;for(const g of r){let m=Um(g,i.fu(c));m==null&&(m={nullValue:"NULL_VALUE"}),o.push(m),c++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=xn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return c9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=rn.fromDate(r);return{timestampValue:Ig(i.serializer,o)}}if(r instanceof rn){const o=new rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ig(i.serializer,o)}}if(r instanceof jm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ua)return{bytesValue:n3(i.serializer,r._byteString)};if(r instanceof Vi){const o=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw i.gu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:r3(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${If(r)}`)}(t,e)}function nk(t,e){const n={};return kA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hu(t,(r,i)=>{const o=Um(i,e.Au(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function b3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rn||t instanceof jm||t instanceof Ua||t instanceof Vi||t instanceof T3)}function rk(t,e,n){if(!b3(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=If(n);throw r==="an object"?e.gu(t+" a custom object"):e.gu(t+" "+r)}}const ik=new RegExp("[~\\*/\\[\\]]");function sk(t,e,n){if(e.search(ik)>=0)throw Rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new I3(...e.split("."))._internalPath}catch{throw Rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rg(t,e,n,r,i){const o=r&&!r.isEmpty(),c=i!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let m="";return(o||c)&&(m+=" (found",o&&(m+=` in field ${r}`),c&&(m+=` in document ${i}`),m+=")"),new ue(ne.INVALID_ARGUMENT,g+t+m)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ok(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ok extends N3{data(){return super.data()}}function zm(t,e){return typeof e=="string"?sk(t,e):e instanceof I3?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hm{}class Wm extends Hm{}function lk(t,e,...n){let r=[];e instanceof Hm&&r.push(e),r=r.concat(n),function(o){const c=o.filter(m=>m instanceof $m).length,g=o.filter(m=>m instanceof Gm).length;if(c>1||c>0&&g>0)throw new ue(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Gm extends Wm{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Gm(e,n,r)}_apply(e){const n=this._parse(e);return R3(e._query,n),new Ls(e.firestore,e.converter,vg(e._query,n))}_parse(e){const n=ek(e.firestore);return function(o,c,g,m,p,w,_){let I;if(p.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ue(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){ww(_,w);const b=[];for(const M of _)b.push(xw(m,o,M));I={arrayValue:{values:b}}}else I=xw(m,o,_)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||ww(_,w),I=tk(g,c,_,w==="in"||w==="not-in");return Ht.create(p,w,I)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class $m extends Hm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $m(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let c=i;const g=o.getFlattenedFilters();for(const m of g)R3(c,m),c=vg(c,m)}(e._query,n),new Ls(e.firestore,e.converter,vg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xm extends Wm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Xm(e,n)}_apply(e){const n=function(i,o,c){if(i.startAt!==null)throw new ue(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ue(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new va(o,c);return function(p,w){if(Am(p)===null){const _=yf(p);_!==null&&O3(p,_,w.field)}}(i,g),g}(e._query,this._field,this._direction);return new Ls(e.firestore,e.converter,function(i,o){const c=i.explicitOrderBy.concat([o]);return new el(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function ck(t,e="asc"){const n=e,r=zm("orderBy",t);return Xm._create(r,n)}class Ym extends Wm{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ym(e,n,r)}_apply(e){return new Ls(e.firestore,e.converter,Cd(e._query,this._limit,this._limitType))}}function uk(t){return XO("limit",t),Ym._create("limit",t,"F")}function xw(t,e,n){if(typeof(n=xn(n))=="string"){if(n==="")throw new ue(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UA(e)&&n.indexOf("/")!==-1)throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vt.fromString(n));if(!we.isDocumentKey(r))throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zx(t,new we(r))}if(n instanceof Vi)return zx(t,n._key);throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${If(n)}.`)}function ww(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function R3(t,e){if(e.isInequality()){const r=yf(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new ue(ne.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=Am(t);o!==null&&O3(t,i,o)}const n=function(i,o){for(const c of i)for(const g of c.getFlattenedFilters())if(o.indexOf(g.op)>=0)return g.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function O3(t,e,n){if(!n.isEqual(e))throw new ue(ne.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class hk{convertValue(e,n="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hu(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new jm(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Em(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lc(e));default:return null}}convertTimestamp(e){const n=Ss(e);return new rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);qt(l3(r));const i=new Bc(r.get(1),r.get(3)),o=new we(r.popFirst(5));return i.isEqual(n)||Bi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dk extends N3{constructor(e,n,r,i,o,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Th extends dk{data(e={}){return super.data(e)}}class fk{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ih(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Th(this._firestore,this._userDataWriter,r.key,r,new ih(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map(g=>{const m=new Th(i._firestore,i._userDataWriter,g.doc.key,g.doc,new ih(i._snapshot.mutatedKeys.has(g.doc.key),i._snapshot.fromCache),i.query.converter);return g.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(g=>o||g.type!==3).map(g=>{const m=new Th(i._firestore,i._userDataWriter,g.doc.key,g.doc,new ih(i._snapshot.mutatedKeys.has(g.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,w=-1;return g.type!==0&&(p=c.indexOf(g.doc.key),c=c.delete(g.doc.key)),g.type!==1&&(c=c.add(g.doc),w=c.indexOf(g.doc.key)),{type:gk(g.type),doc:m,oldIndex:p,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}class pk extends hk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ua(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vi(this.firestore,null,n)}}function Km(t){t=Ng(t,Ls);const e=Ng(t.firestore,C3),n=QO(e),r=new pk(e);return ak(t._query),WO(n,t._query).then(i=>new fk(e,r,t,i))}(function(e,n=!0){(function(i){Ja=i})(Co),go(new Is("firestore",(r,{instanceIdentifier:i,options:o})=>{const c=r.getProvider("app").getImmediate(),g=new C3(new SR(r.getProvider("auth-internal")),new OR(r.getProvider("app-check-internal")),function(p,w){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ue(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bc(p.options.projectId,w)}(c,i),c);return o=Object.assign({useFetchStreams:n},o),g._setSettings(o),g},"PUBLIC").setMultipleInstances(!0)),ui(Fx,"4.2.0",e),ui(Fx,"4.2.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="firebasestorage.googleapis.com",D3="storageBucket",mk=2*60*1e3,yk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt extends mi{constructor(e,n,r=0){super(Q0(e),`Firebase Storage: ${n} (${Q0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Q0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Dt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Dt||(Dt={}));function Q0(t){return"storage/"+t}function qm(){const t="An unknown error occurred, please check the error payload for server response.";return new Mt(Dt.UNKNOWN,t)}function xk(t){return new Mt(Dt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function wk(t){return new Mt(Dt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ek(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mt(Dt.UNAUTHENTICATED,t)}function vk(){return new Mt(Dt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function _k(t){return new Mt(Dt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Ck(){return new Mt(Dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ak(){return new Mt(Dt.CANCELED,"User canceled the upload/download.")}function Ik(t){return new Mt(Dt.INVALID_URL,"Invalid URL '"+t+"'.")}function Tk(t){return new Mt(Dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Sk(){return new Mt(Dt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+D3+"' property when initializing the app?")}function bk(){return new Mt(Dt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Nk(){return new Mt(Dt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Rk(t){return new Mt(Dt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Og(t){return new Mt(Dt.INVALID_ARGUMENT,t)}function M3(){return new Mt(Dt.APP_DELETED,"The Firebase app was deleted.")}function Ok(t){return new Mt(Dt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rc(t,e){return new Mt(Dt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function bl(t){throw new Mt(Dt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=cr.makeFromUrl(e,n)}catch{return new cr(e,"")}if(r.path==="")return r;throw Tk(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const c="(/(.*))?$",g=new RegExp("^gs://"+i+c,"i"),m={bucket:1,path:3};function p(B){B.path_=decodeURIComponent(B.path)}const w="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",b=new RegExp(`^https?://${_}/${w}/b/${i}/o${I}`,"i"),M={bucket:1,path:3},R=n===k3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,F="([^?#]*)",k=new RegExp(`^https?://${R}/${i}/${F}`,"i"),O=[{regex:g,indices:m,postModify:o},{regex:b,indices:M,postModify:p},{regex:k,indices:{bucket:1,path:2},postModify:p}];for(let B=0;B<O.length;B++){const X=O[B],G=X.regex.exec(e);if(G){const j=G[X.indices.bucket];let Z=G[X.indices.path];Z||(Z=""),r=new cr(j,Z),X.postModify(r);break}}if(r==null)throw Ik(e);return r}}class kk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t,e,n){let r=1,i=null,o=null,c=!1,g=0;function m(){return g===2}let p=!1;function w(...F){p||(p=!0,e.apply(null,F))}function _(F){i=setTimeout(()=>{i=null,t(b,m())},F)}function I(){o&&clearTimeout(o)}function b(F,...k){if(p){I();return}if(F){I(),w.call(null,F,...k);return}if(m()||c){I(),w.call(null,F,...k);return}r<64&&(r*=2);let O;g===1?(g=2,O=0):O=(r+Math.random())*1e3,_(O)}let M=!1;function R(F){M||(M=!0,I(),!p&&(i!==null?(F||(g=2),clearTimeout(i),_(0)):F||(g=1)))}return _(0),o=setTimeout(()=>{c=!0,R(!0)},n),R}function Mk(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t){return t!==void 0}function Lk(t){return typeof t=="object"&&!Array.isArray(t)}function Qm(t){return typeof t=="string"||t instanceof String}function Ew(t){return Zm()&&t instanceof Blob}function Zm(){return typeof Blob<"u"&&!XS()}function vw(t,e,n,r){if(r<e)throw Og(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Og(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function P3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(oo||(oo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n,r,i,o,c,g,m,p,w,_,I=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=g,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=w,this.connectionFactory_=_,this.retry=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,M)=>{this.resolve_=b,this.reject_=M,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new sh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=g=>{const m=g.loaded,p=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const g=o.getErrorCode()===oo.NO_ERROR,m=o.getStatus();if(!g||Bk(m,this.additionalRetryCodes_)&&this.retry){const w=o.getErrorCode()===oo.ABORT;r(!1,new sh(!1,null,w));return}const p=this.successCodes_.indexOf(m)!==-1;r(!0,new sh(p,o))})},n=(r,i)=>{const o=this.resolve_,c=this.reject_,g=i.connection;if(i.wasSuccessCode)try{const m=this.callback_(g,g.getResponse());Pk(m)?o(m):o()}catch(m){c(m)}else if(g!==null){const m=qm();m.serverResponse=g.getErrorText(),this.errorCallback_?c(this.errorCallback_(g,m)):c(m)}else if(i.canceled){const m=this.appDelete_?M3():Ak();c(m)}else{const m=Ck();c(m)}};this.canceled_?n(!1,new sh(!1,null,!0)):this.backoffId_=Dk(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Mk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function jk(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Vk(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Uk(t,e){e&&(t["X-Firebase-GMPID"]=e)}function zk(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Hk(t,e,n,r,i,o,c=!0){const g=P3(t.urlParams),m=t.url+g,p=Object.assign({},t.headers);return Uk(p,e),jk(p,n),Vk(p,o),zk(p,r),new Fk(m,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Gk(...t){const e=Wk();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Zm())return new Blob(t);throw new Mt(Dt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $k(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t){if(typeof atob>"u")throw Rk("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Z0{constructor(e,n){this.data=e,this.contentType=n||null}}function Yk(t,e){switch(t){case ai.RAW:return new Z0(L3(e));case ai.BASE64:case ai.BASE64URL:return new Z0(B3(t,e));case ai.DATA_URL:return new Z0(qk(e),Qk(e))}throw qm()}function L3(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,c=t.charCodeAt(++n);r=65536|(o&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Kk(t){let e;try{e=decodeURIComponent(t)}catch{throw rc(ai.DATA_URL,"Malformed data URL.")}return L3(e)}function B3(t,e){switch(t){case ai.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw rc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ai.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw rc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Xk(e)}catch(i){throw i.message.includes("polyfill")?i:rc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class F3{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw rc(ai.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Zk(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function qk(t){const e=new F3(t);return e.base64?B3(ai.BASE64,e.rest):Kk(e.rest)}function Qk(t){return new F3(t).contentType}function Zk(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n){let r=0,i="";Ew(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Ew(this.data_)){const r=this.data_,i=$k(r,e,n);return i===null?null:new os(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new os(r,!0)}}static getBlob(...e){if(Zm()){const n=e.map(r=>r instanceof os?r.data_:r);return new os(Gk.apply(null,n))}else{const n=e.map(c=>Qm(c)?Yk(ai.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(c=>{for(let g=0;g<c.length;g++)i[o++]=c[g]}),new os(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t){let e;try{e=JSON.parse(t)}catch{return null}return Lk(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function eD(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function V3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t,e){return e}class Ln{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||tD}}let oh=null;function nD(t){return!Qm(t)||t.length<2?t:V3(t)}function U3(){if(oh)return oh;const t=[];t.push(new Ln("bucket")),t.push(new Ln("generation")),t.push(new Ln("metageneration")),t.push(new Ln("name","fullPath",!0));function e(o,c){return nD(c)}const n=new Ln("name");n.xform=e,t.push(n);function r(o,c){return c!==void 0?Number(c):c}const i=new Ln("size");return i.xform=r,t.push(i),t.push(new Ln("timeCreated")),t.push(new Ln("updated")),t.push(new Ln("md5Hash",null,!0)),t.push(new Ln("cacheControl",null,!0)),t.push(new Ln("contentDisposition",null,!0)),t.push(new Ln("contentEncoding",null,!0)),t.push(new Ln("contentLanguage",null,!0)),t.push(new Ln("contentType",null,!0)),t.push(new Ln("metadata","customMetadata",!0)),oh=t,oh}function rD(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new cr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function iD(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const c=n[o];r[c.local]=c.xform(r,e[c.server])}return rD(r,t),r}function z3(t,e,n){const r=j3(e);return r===null?null:iD(t,r,n)}function sD(t,e,n,r){const i=j3(e);if(i===null||!Qm(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const c=encodeURIComponent;return o.split(",").map(p=>{const w=t.bucket,_=t.fullPath,I="/b/"+c(w)+"/o/"+c(_),b=Jm(I,n,r),M=P3({alt:"media",token:p});return b+M})[0]}function oD(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class H3{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t){if(!t)throw qm()}function aD(t,e){function n(r,i){const o=z3(t,i,e);return W3(o!==null),o}return n}function lD(t,e){function n(r,i){const o=z3(t,i,e);return W3(o!==null),sD(o,i,t.host,t._protocol)}return n}function G3(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=vk():i=Ek():n.getStatus()===402?i=wk(t.bucket):n.getStatus()===403?i=_k(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function cD(t){const e=G3(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=xk(t.path)),o.serverResponse=i.serverResponse,o}return n}function uD(t,e,n){const r=e.fullServerUrl(),i=Jm(r,t.host,t._protocol),o="GET",c=t.maxOperationRetryTime,g=new H3(i,o,lD(t,n),c);return g.errorHandler=cD(e),g}function hD(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function dD(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=hD(null,e)),r}function fD(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function g(){let O="";for(let B=0;B<2;B++)O=O+Math.random().toString().slice(2);return O}const m=g();c["Content-Type"]="multipart/related; boundary="+m;const p=dD(e,r,i),w=oD(p,n),_="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,I=`\r
--`+m+"--",b=os.getBlob(_,r,I);if(b===null)throw bk();const M={name:p.fullPath},R=Jm(o,t.host,t._protocol),F="POST",k=t.maxUploadRetryTime,S=new H3(R,F,aD(t,n),k);return S.urlParams=M,S.headers=c,S.body=b.uploadData(),S.errorHandler=G3(e),S}class gD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=oo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=oo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=oo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw bl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class pD extends gD{initXhr(){this.xhr_.responseType="text"}}function $3(){return new pD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this._service=e,n instanceof cr?this._location=n:this._location=cr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Eo(e,n)}get root(){const e=new cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return V3(this._location.path)}get storage(){return this._service}get parent(){const e=Jk(this._location.path);if(e===null)return null;const n=new cr(this._location.bucket,e);return new Eo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Ok(e)}}function mD(t,e,n){t._throwIfRoot("uploadBytes");const r=fD(t.storage,t._location,U3(),new os(e,!0),n);return t.storage.makeRequestWithTokens(r,$3).then(i=>({metadata:i,ref:t}))}function yD(t){t._throwIfRoot("getDownloadURL");const e=uD(t.storage,t._location,U3());return t.storage.makeRequestWithTokens(e,$3).then(n=>{if(n===null)throw Nk();return n})}function xD(t,e){const n=eD(t._location.path,e),r=new cr(t._location.bucket,n);return new Eo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){return/^[A-Za-z]+:\/\//.test(t)}function ED(t,e){return new Eo(t,e)}function X3(t,e){if(t instanceof e2){const n=t;if(n._bucket==null)throw Sk();const r=new Eo(n,n._bucket);return e!=null?X3(r,e):r}else return e!==void 0?xD(t,e):t}function vD(t,e){if(e&&wD(e)){if(t instanceof e2)return ED(t,e);throw Og("To use ref(service, url), the first argument must be a Storage instance.")}else return X3(t,e)}function _w(t,e){const n=e==null?void 0:e[D3];return n==null?null:cr.makeFromBucketSpec(n,t)}function _D(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:D_(i,t.app.options.projectId))}class e2{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=k3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mk,this._maxUploadRetryTime=yk,this._requests=new Set,i!=null?this._bucket=cr.makeFromBucketSpec(i,this._host):this._bucket=_w(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cr.makeFromBucketSpec(this._url,e):this._bucket=_w(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Eo(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new kk(M3());{const c=Hk(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Cw="@firebase/storage",Aw="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="storage";function CD(t,e,n){return t=xn(t),mD(t,e,n)}function Iw(t){return t=xn(t),yD(t)}function Tw(t,e){return t=xn(t),vD(t,e)}function AD(t=Dp(),e){t=xn(t);const r=Yd(t,Y3).getImmediate({identifier:e}),i=R_("storage");return i&&ID(r,...i),r}function ID(t,e,n,r={}){_D(t,e,n,r)}function TD(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new e2(n,r,i,e,Co)}function SD(){go(new Is(Y3,TD,"PUBLIC").setMultipleInstances(!0)),ui(Cw,Aw,""),ui(Cw,Aw,"esm2017")}SD();const bD={apiKey:"AIzaSyB6EJ5vCZobIXDM6BUCIq3lxCvP0RoxV6k",authDomain:"crypto-pwa-151b7.firebaseapp.com",projectId:"crypto-pwa-151b7",storageBucket:"crypto-pwa-151b7.appspot.com",messagingSenderId:"412192815150",appId:"1:412192815150:web:3cf3ebb61f5554f1b047bf",measurementId:"G-E21Z4T6SP4"},t2=L_(bD),K3=Hp(t2),n2=qO(t2),Sw=AD(t2),q3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAHuElEQVR4nOVba2wc1RWehDdNgKASyg9aJAQUxKM8ilDpiwpQeO3MOl47hCQQoLRV2rQgILSRmMfu4ji2Z3Ztk8SNSXhVqUx2ZuOEiICQJfKgpSbYc8+dSRa5KZCQqn8Irxaq0ovOxuu9O97HeONNMutPOtZ6dubec76ZOfc7994VhGMEWZanhwxtkagrCwXGpglTDSFdeVgyVIYmGurvhKmEcJs8WzSUQzkCJEP5JKzHzhOmCiRDXZcPftR0tVeYCpCS2rWioX7lJSB7rEO+XqhrMDZN1NXt4+5+jgRd2VXXCTFkaItKBT9mCW2BUI8ItbbOlHT1QP6RzyfBgoSoqwci3fIMod4gGUord6f/2ZiMJnP/RzpjCclQP+QIaRHqCVIyeqGkK1/kArz76RWLI53xWJ6AeGxed8v9XEL8UmqXLxbqBaKubs4FF05of3mfsdO8BOCxcELbwb0Km4R6QDih3sIPdYt72n/IGDvVSwAee/CPHTd4hsjbhCDjoZ6ekyRd2ZMLaG5SW4eBliIAbW4iup4jzMU2hKBC1NVHuUf64+Uv9n6nEgHLN6w7X9LVj7in4BGhHvR+pDP2WC7IcgSgNXXGHw98nSAV6n13h+vO9EvAAMAMyVAhsHWC5NH7i1a1hvgAKxGAtnB16+3BrBNYod4PJ7R+b3B+CEBrSGhbAlcnhDi9j4Jm6fOrLq+WgN+8sPoyXkAd93VCyKP3I12x1mKB+SUArbEz1sYRenBOUj5DCIreb9uWmn2kBPQM9H8zEHWC5NH787tb7isV1EQIQAtEnSAW0fuTRcAxrxNSjnONSegKk1BqAn0l7bozy+n9B9bqN5YLaKIE+KkTtmYyZ5gEXjvsI7RatnvtEQXdt+v900yAn5tAhy2gjLc0QGMpvd+QiD5TKZhqCMgOi0nt2VJ1gmnTJq+f6DvGgLFMmACTwBveBrONEtjXB/AtP3p/sgkoVyekHOc8i8A/Svh8wAJ4aGBg4ERfwTPGplkAhzgmPzMBnkvZzh19ACeX1PtdTz3qJ5BqCahUJ6BvFiF3mQDPm0A/H0cGoX81HcdfAk0BzDEJfckk9Ld9gyNnVqP3a0EA1glhQ6WV6oQttj0rDfCwBfCvQiLg0EZCbhSOht5nNSBgonUCJkcLIFrwRBD6qUnIpTXX+7UioJo6wRp2r/DkiLeyX8iMTTdtugAN3/3J1Pu1JKCaOmEjpRcVPgnkBzh8LMgdSAHc44cASVf+Pnb3DW142Yb1FxxtApb1Pfdt7Ju7ESN+fDcBesfitelSAf/ksz2s9UWAob7LJT8m6uqnka64snbXK2fXmoA/bd8+K5KMP4kjAO8D+lQVARalP+KGu8/Tw+4lFQlIRi8UdWWrxwG0/ajba0UA1heSoX7g7Vc01G0NCe2iSn5vtO3v8q/ARhwN8L03CX0nLxroeylCrvLD5txk9Nawodpeh+Y9/dQvJ5uA5u4VvypCOMz1OXVuAXzPAvpB/v2Ht8e+3GTbV1oA/+aGiS9RT3s1fzFszWROGXXu4FhAyfiTlQJq6oprufPxc0XCuuIKX2rP62pZgn378A+HwZUYE/+kpxzn8kKGCPmpSeCTQuUEH5qEPta3O3NOuU4YY6dg3d7UFft9JBmL4ntaKaBFPW23ibryP7R716ycU+l8a2DgLGw70hl/AvvCPsv5lBoamm0R+rhF6EGPLP44TemPi16UHnYvMYH+rYiW/sIC2GBRenv/4ODpRQiYPtEsjrZkXdcVaNVci316/dg2NPQN9NEE+DN/x3kpjENhOeIELBgsgF94mSsgg9DXTYAnsOTsGRzMVmSMsZOrDKQay9Yj2Hfatq/L+oI+ZW/UeJ+zTzJWhX3sBMEv1u/bd6pF6AMW0KGijXL54vA58MIm6v5hs+uGXstkrn5zZOTcyQoY28I2sW3swyL0xdEy/b/lfDMJ7DZter+fXFEWmCRHJ0TeMQn8vywhhYUHJtaRNNCdaXCsNNBUGpzerFGnvcByxw+fg+fuxGsLknMlI/AVBm0R2oLSV6gF+nZnzkkRZ15WUBDIYKf+CZlkw74J7EUBZxHaXClZ1wT9g4On43uYBlhsEdphAX3VAuqYQD+arEBH23IsoNtMQtuxL+yzWEI+LsBGE6L93qFZr+7de+nLe/b8rJ/S5n7Xnd/vOEuyRunyAssdx3Mobd7iujfhtdgGn/gCAVblsDjRYe+4BmPspEkMPnibJMJJrRHrhGpK3Zw1JmPxw7WG1iAEDZKen7dbuKr1zokGv2BN213c5KctBA2Srq6pdsIUz5US6thag2goq4WgIdwmz+bn8L1bZMpZJBlbxq81RFbKY+sQgYJkqI9MdNEEFz8Kt9EG+McUP5HlE0VdJcW2yfla/tIVJ9Db5BAhXb652EZJPwug4Q55jlAPkAylv9LSeXYJ3NB2cq+MJdQLJJxENdT/8JulK22C8DPJGSiIhtJSavvMuG0wuhoT6g2RbnmGZCj7uYnTldyw186Jnv11+YMJBC5f8Y85zgd6l7jEDm2+ULdgbJqkq2OJrsGIbkbjFN+OQGyGPBKEdfmaUj+bCyfU7wtTAZKu9o5f5VF6hKmCsKdOwM+RZPzoz+cdS4QNdWl+bV/9tTAVIRpKs6RrTcfSia8B3hWdB0cEaU0AAAAASUVORK5CYII=",Bs=""+new URL("splash4-d4cbaf6a.jpg",import.meta.url).href,vi={boxWidth:"xl:max-w-[1280px] w-full",heading2:"font-poppins font-semibold xs:text-[48px] text-[40px] text-white xs:leading-[76.8px] leading-[66.8px] w-full",paragraph:"font-poppins font-normal text-dimWhite text-[18px] leading-[30.8px]",heading1:"font-poppins font-semibold xs:text-[30px]  text-[40px] text-white xs:leading-[65.8px] leading-[66.8px] w-full",flexCenter:"flex justify-center items-center",flexStart:"flex justify-center items-start",paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-12 py-4",marginX:"sm:mx-16 mx-6",marginY:"sm:my-16 my-6"},Q3=()=>{const[t,e]=Y.useState(""),[n,r]=Y.useState(""),i=qa(),o=async()=>{event==null||event.preventDefault(),await o6(K3,t,n).then(c=>{const g=c.user;console.log(g),i("/home")}).catch(c=>{console.log(c.message)})};return E.jsx("div",{children:E.jsx("div",{className:"min-h-screen grid bg-primary",children:E.jsx("div",{className:"flex flex-col sm:flex-row items-center md:items-start sm:justify-center md:justify-start flex-auto min-w-0",children:E.jsx("div",{className:"w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white bg-no-repeat bg-cover ",style:{backgroundImage:`url(${Bs})`},children:E.jsx("div",{className:"lg:text-left text-center",children:E.jsx("div",{className:"flex items-center justify-center",children:E.jsxs("div",{className:"bg-primary flex flex-col w-90 border-2 border-primary-500 rounded-3xl px-8 py-10",children:[E.jsxs("div",{className:"text-center m-10",children:[E.jsx("img",{className:"mx-auto w-38 rounded-full",src:q3,alt:"logo"}),E.jsx("h4",{className:vi.heading1,children:"ZenithPay"})]}),E.jsxs("form",{onClick:o,children:[E.jsx("p",{className:"mb-4 text-white",children:"Please Register your wallet"}),E.jsxs("div",{className:"mb-4 flex flex-col",children:[E.jsx("label",{htmlFor:"email",className:"text-left mb-2",children:"Username"}),E.jsx("input",{type:"text",name:"email",onChange:c=>e(c.target.value),className:" rounded-lg py-3 px-3 bg-black   placeholder-white-500 text-white",id:"exampleFormControlInput1",placeholder:"Username"})]}),E.jsxs("div",{className:"mb-4 flex flex-col",children:[E.jsx("label",{htmlFor:"password",className:"text-left mb-2",children:"Password"}),E.jsx("input",{type:"text",name:"password",onChange:c=>r(c.target.value),className:" rounded-lg py-3 px-3 bg-black   placeholder-white-500 text-white",id:"exampleFormControlInput11",placeholder:"Password"})]}),E.jsxs("div",{className:"mb-12 pb-1 pt-1 text-center",children:[E.jsx("button",{className:" text w-full white bg-black border-2 border-primary-500 py-3 px-4 rounded-xl",type:"button","data-te-ripple-init":!0,"data-te-ripple-color":"light",children:"Create Your Wallet"}),E.jsx("br",{}),E.jsx("button",{className:" text w-full white bg-green-950 mt-4 py-3 px-4 rounded-xl",children:E.jsx(Fr,{to:"/Login",children:"Already Registered ? Login"})})]})]})]})})})})})})})},Z3=Y.createContext(void 0),ND=({children:t})=>{const[e,n]=Y.useState(null),r=Hp(),i=qa(),o=async()=>{console.log("signing out"),await oC(r),i("/createWallet")};Y.useEffect(()=>{const p=tg(r,w=>{n(w?{email:w.email}:null)});return()=>p()},[r]);const c=(p,w)=>{Q3()},g=()=>{},m=()=>{o()};return E.jsx(Z3.Provider,{value:{user:e,login:g,signup:c,logout:m},children:t})},RD=()=>{const t=Y.useContext(Z3);if(!t)throw new Error("useAuth must be used with auth provider");return t},OD=""+new URL("close-945782e8.svg",import.meta.url).href,kD=""+new URL("menu-e0613cf3.svg",import.meta.url).href;function DD(){const[t,e]=Y.useState(!1),{user:n,logout:r}=RD();return E.jsxs("nav",{className:"w-full flex py-6  justify-between space-x-10 items-center navbar",children:[E.jsx("img",{src:BS,alt:"BitWallet",className:"w-[39px] h-[39px] rounded-full "}),E.jsx("ul",{className:"list-none sm:flex hidden justify-end items-center flex-1 space-x-4",children:n?E.jsxs(E.Fragment,{children:[E.jsx("li",{className:"font-poppins text-primary-500 hover:text-white  font-small cursor-pointer text-[16px]  space-x-4",children:E.jsx(Ku,{to:"/home",children:E.jsx("label",{children:"Home"})})}),E.jsx("li",{className:"font-poppins active:text-white text-primary-500 hover:text-white active:text-white  font-small cursor-pointer text-[16px]  space-x-4",children:E.jsx(Ku,{to:"/profile",children:E.jsx("label",{children:"Profile"})})}),E.jsx("li",{className:`font-poppins text-primary-500  hover:text-white  font-small cursor-pointer text-[16px]\r
                                `,children:"Settings"}),E.jsx("li",{className:`font-poppins text-primary-500 hover:text-white  font-small cursor-pointer text-[16px]\r
                                `,children:E.jsx("button",{onClick:r,children:"logout"})})]}):E.jsxs(E.Fragment,{children:[E.jsx("li",{className:`font-poppins text-primary-500 hover:text-white  font-small cursor-pointer text-[16px]\r
                                `,children:"Register"}),E.jsx("li",{className:`font-poppins text-primary-500 hover:text-white active:text-white font-small cursor-pointer text-[16px]\r
                                `,children:"Login"})]})}),E.jsxs("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[E.jsx("img",{src:t?OD:kD,alt:"menu",className:"w-[28px] h-[28px] object-contain",onClick:()=>e(!t)}),E.jsx("div",{className:`${t?"flex":"hidden"} p-6 bg-black  absolute top-20 right-0 mx-4 my-2 min-w-[140px] rounded-xl sidebar`,children:E.jsx("ul",{className:"list-none flex justify-end items-start flex-1 flex-col m-3",children:n?E.jsxs(E.Fragment,{children:[E.jsx("li",{className:`font-poppins text-primary-500 hover:text-white font-medium cursor-pointer text-[16px] pr-4 pb-4 ml-0\r
                              `,children:E.jsx(Ku,{to:"/home",children:E.jsx("label",{children:"Home"})})}),E.jsx("li",{className:`font-poppins  text-primary-500 hover:text-white font-medium cursor-pointer text-[16px] pr-4 pb-4 ml-0\r
                              `,children:E.jsx(Ku,{to:"/profile",children:E.jsx("label",{children:"Profile"})})}),E.jsx("li",{className:`font-poppins text-primary-500 hover:text-white font-medium cursor-pointer text-[16px] pr-4 pb-4 ml-0\r
                              `,children:"Settings"}),E.jsx("li",{className:`font-poppins text-primary-500 hover:text-white font-medium cursor-pointer text-[16px] pr-4 pb-4 ml-0\r
                              `,children:E.jsx("button",{onClick:r,children:"logout"})})]}):E.jsxs(E.Fragment,{children:[E.jsx("li",{className:`font-poppins text-primary-500 font-medium cursor-pointer text-[16px] pr-4 pb-4 ml-0\r
                              `,children:"Register"}),E.jsx("li",{className:`font-poppins text-primary-500 font-medium cursor-pointer text-[16px] pr-4 pb-4 ml-0\r
                              `,children:"Login"})]})})})]})]})}const bw=""+new URL("ethereum-3cbb176d.png",import.meta.url).href,Nw=""+new URL("BTC-344bb644.png",import.meta.url).href,MD=()=>E.jsx("div",{className:" w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white  ",children:E.jsxs("div",{className:"m-10",children:[E.jsx("div",{className:"transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y",children:E.jsxs("div",{className:"p-5 text-primary-500 rounded bg-black",children:[E.jsx("div",{className:"mt-3 text-3xl text-base font-bold leading-8",children:"Your Wallet Balance"}),E.jsx("div",{className:"flex justify-between ",children:E.jsx("div",{className:"mt-3 text-3xl leading-8 text-white",children:"$ 6, 200.34"})})]})}),E.jsxs("div",{className:"grid grid-cols-12 gap-6 mt-5",children:[E.jsx("a",{className:"transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",href:"#",children:E.jsxs("div",{className:"p-5 text-white rounded bg-black",children:[E.jsxs("div",{className:"flex justify-between ",children:[E.jsx("img",{src:Nw,alt:Nw,className:"h-12 w-12 flex-none rounded-full bg-primary"}),E.jsx("div",{className:"mt-3 text-3xl leading-8 text-white",children:"Bitcoin"}),E.jsx("div",{className:"mt-3 text-3xl text-base font-bold leading-8",children:"$ 6, 200.34"})]}),E.jsx("div",{className:"ml-2 w-full flex-1",children:E.jsx("div",{children:E.jsx("div",{className:"mt-1 text-base ",children:"BTC"})})})]})}),E.jsx("a",{className:"transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",href:"#",children:E.jsxs("div",{className:"p-5 text-white rounded bg-black ",children:[E.jsxs("div",{className:"flex justify-between ",children:[E.jsx("img",{src:bw,alt:bw,className:"h-12 w-12 flex-none rounded-full bg-primary"}),E.jsx("div",{className:"mt-3 text-3xl  leading-8 text-white",children:"Ethereum"}),E.jsx("div",{className:"mt-3 text-3xl text-base font-bold leading-8",children:"$ 2,123.02"})]}),E.jsx("div",{className:"ml-2 w-full flex-1",children:E.jsx("div",{children:E.jsx("div",{className:"mt-1 text-base ",children:"ETH"})})})]})})]})]})}),PD=()=>E.jsx("div",{className:" w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white  ",children:E.jsxs("div",{className:"w-full",children:[E.jsx("h2",{className:"text-primary-500",children:"Recent Transactions"}),E.jsxs("ul",{role:"list",className:"divide-ymt-10",children:[E.jsxs("li",{className:"flex justify-between gap-x-6 py-5",children:[E.jsx("div",{className:"flex min-w-0 gap-x-4",children:E.jsxs("div",{className:"min-w-0 flex-auto",children:[E.jsx("p",{className:"text-sm font-semibold leading-6 text-white",children:"Samantha J borkins"}),E.jsxs("p",{children:[" ",E.jsxs("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#2f5da7",children:[E.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),E.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),E.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",E.jsx("path",{d:"M7 17L17 7M17 7H8M17 7V16",stroke:"#2f5da7","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," "]})]})]})]})}),E.jsx("div",{className:"shrink-0 sm:flex sm:flex-col sm:items-end",children:E.jsx("p",{className:"text-sm leading-6 text-white",children:"0.05 BTC"})})]}),E.jsxs("li",{className:"flex justify-between gap-x-6 py-5",children:[E.jsx("div",{className:"flex min-w-0 gap-x-4",children:E.jsxs("div",{className:"min-w-0 flex-auto",children:[E.jsx("p",{className:"text-sm font-semibold leading-6 text-white",children:"John Smith"}),E.jsxs("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#2f5da7",children:[E.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),E.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),E.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",E.jsx("title",{})," ",E.jsxs("g",{id:"Complete",children:[" ",E.jsxs("g",{id:"arrow-down-left",children:[" ",E.jsxs("g",{children:[" ",E.jsx("polyline",{"data-name":"Right",fill:"none",id:"Right-2",points:"5.3 11.6 5.3 18.7 12.4 18.7",stroke:"#2f5da7","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})," ",E.jsx("line",{fill:"none",stroke:"#2f5da7","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",x1:"18.7",x2:"6.9",y1:"5.3",y2:"17.1"})," "]})," "]})," "]})," "]})]})]})}),E.jsx("div",{className:"shrink-0 sm:flex sm:flex-col sm:items-end",children:E.jsx("p",{className:"text-sm leading-6 text-red-400",children:"1.00 BNB"})})]})]})]})}),LD=()=>E.jsxs("div",{children:[E.jsx(MD,{}),E.jsx(PD,{})]});function BD(){return E.jsx("div",{className:" w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white bg-no-repeat bg-cover ",style:{backgroundImage:`url(${Bs})`},children:E.jsx("div",{className:" w-full h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white  ",children:E.jsx("div",{className:"flex flex-col sm:flex-row items-center md:items-start sm:justify-center md:justify-start flex-auto min-w-0",children:E.jsx("div",{className:"lg:text-left text-center",children:E.jsx("div",{className:"flex items-center justify-center ",children:E.jsxs("div",{className:"bg-primary flex flex-col  w-70 border-2 border-primary-500 rounded-3xl px-8 py-10",children:[E.jsx("h2",{className:vi.heading1,children:"Send Ethereum"}),E.jsxs("form",{className:"flex flex-col space-y-8 mt-10",children:[E.jsx("label",{className:"font-bold text-lg text-white",children:"Send To:"}),E.jsx("input",{type:"text",placeholder:"Send to",className:"border rounded-lg py-3 px-3 mt-4 bg-black border-primary-500 placeholder-white-500 text-white"}),E.jsx(Fr,{to:"/BarcodeScanner",children:E.jsx("div",{style:{position:"relative",display:"inline-block",left:"40%"},children:E.jsxs("svg",{viewBox:"0 0 1024 1024",height:"30px",className:"icon",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fill:"#000000",children:[E.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),E.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),E.jsxs("g",{id:"SVGRepo_iconCarrier",children:[E.jsx("path",{d:"M234.510695 141.605388h132.553218c12.769898 0 23.103972-10.344313 23.103972-23.103972s-10.333051-23.103972-23.103972-23.103973H234.510695c-76.441231 0-138.62281 62.18158-138.62281 138.622811v554.491241c0 76.441231 62.18158 138.62281 138.62281 138.62281h132.553218c12.769898 0 23.103972-10.345337 23.103972-23.103972 0-12.758635-10.333051-23.103972-23.103972-23.103973H234.510695c-50.967988 0-92.414866-41.458141-92.414866-92.414865V234.020254c-0.001024-50.956725 41.445854-92.414866 92.414866-92.414866zM789.000912 95.397443H656.447694c-12.769898 0-23.103972 10.344313-23.103972 23.103973s10.333051 23.103972 23.103972 23.103972h132.553218c50.967988 0 92.414866 41.458141 92.414865 92.414866v554.491241c0 50.956725-41.446878 92.414866-92.414865 92.414865H656.447694c-12.769898 0-23.103972 10.344313-23.103972 23.103973 0 12.758635 10.333051 23.103972 23.103972 23.103972h132.553218c76.441231 0 138.62281-62.18158 138.62281-138.62281V234.020254c0-76.441231-62.18158-138.62281-138.62281-138.622811z",fill:"#22C67F"}),E.jsx("path",{d:"M731.241493 545.921321H269.166141c-19.139488 0-34.655447-15.515958-34.655446-34.655447s15.515958-34.655447 34.655446-34.655446H731.241493c19.139488 0 34.655447 15.515958 34.655447 34.655446s-15.514934 34.655447-34.655447 34.655447z",fill:"#74E8AE"})]})]})})}),E.jsx("label",{className:"font-bold text-lg text-white",children:"Amount"}),E.jsx("input",{type:"text",placeholder:"amount",className:"border rounded-lg py-3 px-3 bg-black border-primary-500 placeholder-white-500 text-white"}),E.jsx("button",{className:"border border-primary-500 bg-green-950 text-white rounded-lg py-3 font-semibold",children:"Continue"})]})]})})})})})})}function FD(){return E.jsx("div",{className:" w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white bg-no-repeat bg-cover ",style:{backgroundImage:`url(${Bs})`},children:E.jsx("div",{className:" w-full h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white  ",children:E.jsx("div",{className:"flex flex-col sm:flex-row items-center md:items-start sm:justify-center md:justify-start flex-auto min-w-0",children:E.jsx("div",{children:E.jsx("div",{className:"lg:text-left text-center",children:E.jsx("div",{className:"flex items-center justify-center",children:E.jsxs("div",{className:"bg-primary flex flex-col w-70 border-2 border-primary-500 rounded-3xl px-8 py-10",children:[E.jsx("h2",{className:vi.heading1,children:"Swap"}),E.jsxs("form",{className:"flex flex-col space-y-8 mt-10",children:[E.jsx("label",{className:"font-bold text-lg text-white",children:"From :"}),E.jsx("input",{type:"text",placeholder:"amount",className:"border rounded-lg py-3 px-3 mt-4 bg-black border-primary-500  placeholder-white-500 text-white"}),E.jsx("label",{className:"font-bold text-lg text-white",children:"To:"}),E.jsx("input",{type:"text",placeholder:"amount",className:"border rounded-lg py-3 px-3 bg-black border-primary-500  placeholder-white-500 text-white"}),E.jsx("button",{className:"border border-primary-500 bg-green-950 text-white rounded-lg py-3 font-semibold",children:"Continue"})]})]})})})})})})})}const J3=()=>E.jsx("div",{className:"mb-3",children:E.jsxs("div",{className:" mb-4 flex w-full flex-wrap items-stretch",children:[E.jsx("input",{type:"search",className:" m-0 block w-[4px] h-10 min-w-0 flex-auto rounded border border-solid border-neutral-300 bg-white bg-clip-padding px-3 py-[0.25rem] font-normal leading-[1.6] text-black outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-purple-900 focus:text-black focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none dark:border-purple-900 dark:text-black dark:placeholder:text-black dark:focus:border-primary",placeholder:"Search","aria-label":"Search","aria-describedby":"button-addon2"}),E.jsx("span",{className:"input-group-text flex items-center whitespace-nowrap rounded px-3 py-1.5 text-center text-base font-normal text-neutral-700 dark:text-neutral-200",id:"basic-addon2",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"white",className:"h-5 w-5",children:E.jsx("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})})})]})}),jD=()=>{const[t,e]=Y.useState([]);return Y.useEffect(()=>{(async()=>{try{const r=await Km(Fm(n2,"cryptocurrencies")),i=[];r.forEach(o=>{const c=o.data();i.push({...c})}),e(i)}catch(r){console.error("Error fetching data:",r)}})()},[]),E.jsxs("div",{className:" w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white  ",children:[E.jsx("div",{className:"",children:E.jsx(J3,{})}),E.jsxs("div",{className:"w-full",children:[E.jsx("h2",{className:"text-primary-500",children:"Cryptocurrencies"}),E.jsx("ul",{role:"list",className:"divide-ymt-10",children:t.map(n=>E.jsxs("li",{className:"flex justify-between gap-x-6 py-5",children:[E.jsxs("div",{className:"flex min-w-0 gap-x-4",children:[E.jsx("img",{src:n.image,alt:n.name,className:"h-12 w-12 flex-none rounded-full bg-primary"}),E.jsxs("div",{className:"min-w-0 flex-auto",children:[E.jsx(Fr,{to:`/buy2/${n.name}`,children:E.jsx("p",{className:"text-sm font-semibold leading-6 text-white",children:n.name})}),E.jsxs("p",{children:[" ",n.symbol]})]})]}),E.jsx("div",{className:"shrink-0 sm:flex sm:flex-col sm:items-end",children:E.jsxs("p",{className:"text-sm leading-6 text-white",children:["$ ",n.price]})})]},n.id))})]})]})};function VD(){const{cryptoName:t}=IC();return E.jsx("div",{className:" w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white bg-no-repeat bg-cover ",style:{backgroundImage:`url(${Bs})`},children:E.jsx("div",{className:" w-full h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white  ",children:E.jsx("div",{className:"flex flex-col sm:flex-row items-center md:items-start sm:justify-center md:justify-start flex-auto min-w-0",children:E.jsx("div",{className:"lg:text-left text-center",children:E.jsx("div",{className:"flex items-center justify-center",children:E.jsx("div",{className:"bg-primary flex flex-col w-70 border-2 border-primary-500 rounded-3xl px-8 py-10",children:E.jsxs("form",{className:"flex flex-col space-y-8 mt-10",children:[E.jsxs("details",{className:"dropdown mb-10",children:[E.jsx("summary",{className:"m-1  bg-black  py-2 px-4 rounded-2xl ",children:"Currency"}),E.jsxs("ul",{className:"p-2 shadow menu dropdown-content z-[1] bg-black rounded-box w-52",children:[E.jsx("li",{children:E.jsx("a",{className:"hover:bg-white hover:text-black",children:"USD"})}),E.jsx("li",{children:E.jsx("a",{className:"hover:bg-white hover:text-black",children:"EURO"})}),E.jsx("li",{children:E.jsx("a",{className:"hover:bg-white hover:text-black",children:"YEN"})}),E.jsx("li",{children:E.jsx("a",{className:"hover:bg-white hover:text-black",children:"EUD"})})]})]}),E.jsx("div",{className:"text-xl font-bold",children:E.jsx("p",{children:t})}),E.jsxs("details",{className:"dropdown mb-2 w-full ",children:[E.jsx("summary",{className:"m-1 bg-black text-sm  py-2 px-4 rounded-2xl ",children:"Select Payment Method"}),E.jsxs("ul",{className:"p-2 shadow menu dropdown-content z-[1] bg-black rounded-box w-52",children:[E.jsx(Fr,{to:"/card",children:E.jsx("li",{children:E.jsx("a",{className:"hover:bg-white hover:text-black",children:"MasterCard"})})}),E.jsx(Fr,{to:"/card",children:E.jsx("li",{children:E.jsx("a",{className:"hover:bg-white hover:text-black",children:"Debit/Credit Card"})})}),E.jsx("li",{children:E.jsx("a",{className:"hover:bg-white hover:text-black",children:"PayPal"})}),E.jsx("li",{children:E.jsx("a",{className:"hover:bg-white hover:text-black",children:"Apple Pay"})})]})]}),E.jsx("input",{type:"text",placeholder:"amount",className:"border rounded-lg py-3 px-3 bg-black border-primary-500 placeholder-white-500 text-white"}),E.jsx("button",{className:"border border-primary-500 bg-green-950 text-white rounded-lg py-3 font-semibold",children:"Continue"})]})})})})})})})}const UD=()=>{const[t,e]=Y.useState(""),[n,r]=Y.useState(""),i=qa(),o=async()=>{event==null||event.preventDefault();try{const g=(await a6(K3,t,n)).user;console.log(g),i("/home")}catch(c){console.log(c)}};return E.jsx("div",{children:E.jsx("div",{className:" min-h-screen grid bg-primary",children:E.jsx("div",{className:"flex flex-col sm:flex-row items-center md:items-start sm:justify-center md:justify-start flex-auto min-w-0",children:E.jsx("div",{className:" w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white bg-no-repeat bg-cover ",style:{backgroundImage:`url(${Bs})`},children:E.jsx("div",{className:"lg:text-left text-center",children:E.jsx("div",{className:"flex items-center justify-center",children:E.jsxs("div",{className:"bg-primary flex flex-col w-90 border-2 border-primary-500 rounded-3xl px-8 py-10",children:[E.jsxs("div",{className:"text-center m-10",children:[E.jsx("img",{className:"mx-auto w-38 rounded-full",src:q3,alt:"logo"}),E.jsx("h4",{className:vi.heading1,children:"ZenithPay"})]}),E.jsxs("form",{children:[E.jsx("p",{className:"mb-4 text-white",children:"Please login to your account"}),E.jsxs("div",{className:"mb-4 flex flex-col",children:[E.jsx("label",{htmlFor:"email",className:"text-left mb-2",children:"Username"}),E.jsx("input",{type:"text",onChange:c=>e(c.target.value),id:"",placeholder:"Email",className:" rounded-lg py-3 px-3 bg-black   placeholder-white-500 text-white"})]}),E.jsxs("div",{className:"mb-4 flex flex-col",children:[E.jsx("label",{htmlFor:"password",className:" text-left mb-2 ",children:"Password"}),E.jsx("input",{type:"password",onChange:c=>r(c.target.value),id:"",placeholder:"Password",className:" rounded-lg py-3 px-3 bg-black placeholder-white-500 text-white"})]}),E.jsxs("div",{className:"mb-12 pt-1 text-center",children:[E.jsx("button",{className:" text w-full white bg-black border-2 border-primary-500 py-3 px-4 rounded-xl",type:"button",onClick:o,"data-te-ripple-init":!0,"data-te-ripple-color":"light",children:"Log in"}),E.jsx("br",{}),E.jsx("button",{className:" text-white bg-green-950 w-full mt-4  py-3 px-4 rounded-xl",children:E.jsx(Fr,{to:"/CreateWallet",children:"No account? Register here"})})]})]})]})})})})})})})},zD={black:"#000",white:"#fff"},jc=zD,HD={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Uo=HD,WD={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},zo=WD,GD={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ho=GD,$D={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Wo=$D,XD={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Go=XD,YD={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Nl=YD,KD={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},qD=KD;function Se(){return Se=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Se.apply(this,arguments)}function Ko(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function eI(t){if(!Ko(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=eI(t[n])}),e}function Ni(t,e,n={clone:!0}){const r=n.clone?Se({},t):t;return Ko(t)&&Ko(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Ko(e[i])&&i in t&&Ko(t[i])?r[i]=Ni(t[i],e[i],n):n.clone?r[i]=Ko(e[i])?eI(e[i]):e[i]:r[i]=e[i])}),r}function za(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function Ri(t){if(typeof t!="string")throw new Error(za(7));return t.charAt(0).toUpperCase()+t.slice(1)}function tI(t,e){const n=Se({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=Se({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},o=e[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=Se({},o),Object.keys(i).forEach(c=>{n[r][c]=tI(i[c],o[c])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function nI(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((o,c)=>{if(c){const g=e(c);g!==""&&o.push(g),n&&n[c]&&o.push(n[c])}return o},[]).join(" ")}),r}const Rw=t=>t,QD=()=>{let t=Rw;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Rw}}},ZD=QD(),JD=ZD,eM={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function r2(t,e,n="Mui"){const r=eM[e];return r?`${n}-${r}`:`${JD.generate(t)}-${e}`}function rI(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=r2(t,i,n)}),r}const iI="$$material";function yi(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sI(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var tM=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,nM=sI(function(t){return tM.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function rM(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function iM(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var sM=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(iM(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=rM(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),An="-ms-",Td="-moz-",Xe="-webkit-",oI="comm",i2="rule",s2="decl",oM="@import",aI="@keyframes",aM="@layer",lM=Math.abs,Tf=String.fromCharCode,cM=Object.assign;function uM(t,e){return fn(t,0)^45?(((e<<2^fn(t,0))<<2^fn(t,1))<<2^fn(t,2))<<2^fn(t,3):0}function lI(t){return t.trim()}function hM(t,e){return(t=e.exec(t))?t[0]:t}function Ye(t,e,n){return t.replace(e,n)}function kg(t,e){return t.indexOf(e)}function fn(t,e){return t.charCodeAt(e)|0}function Vc(t,e,n){return t.slice(e,n)}function Jr(t){return t.length}function o2(t){return t.length}function ah(t,e){return e.push(t),t}function dM(t,e){return t.map(e).join("")}var Sf=1,Ha=1,cI=0,tr=0,Ut=0,rl="";function bf(t,e,n,r,i,o,c){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Sf,column:Ha,length:c,return:""}}function Rl(t,e){return cM(bf("",null,null,"",null,null,0),t,{length:-t.length},e)}function fM(){return Ut}function gM(){return Ut=tr>0?fn(rl,--tr):0,Ha--,Ut===10&&(Ha=1,Sf--),Ut}function hr(){return Ut=tr<cI?fn(rl,tr++):0,Ha++,Ut===10&&(Ha=1,Sf++),Ut}function gi(){return fn(rl,tr)}function Sh(){return tr}function pu(t,e){return Vc(rl,t,e)}function Uc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function uI(t){return Sf=Ha=1,cI=Jr(rl=t),tr=0,[]}function hI(t){return rl="",t}function bh(t){return lI(pu(tr-1,Dg(t===91?t+2:t===40?t+1:t)))}function pM(t){for(;(Ut=gi())&&Ut<33;)hr();return Uc(t)>2||Uc(Ut)>3?"":" "}function mM(t,e){for(;--e&&hr()&&!(Ut<48||Ut>102||Ut>57&&Ut<65||Ut>70&&Ut<97););return pu(t,Sh()+(e<6&&gi()==32&&hr()==32))}function Dg(t){for(;hr();)switch(Ut){case t:return tr;case 34:case 39:t!==34&&t!==39&&Dg(Ut);break;case 40:t===41&&Dg(t);break;case 92:hr();break}return tr}function yM(t,e){for(;hr()&&t+Ut!==47+10;)if(t+Ut===42+42&&gi()===47)break;return"/*"+pu(e,tr-1)+"*"+Tf(t===47?t:hr())}function xM(t){for(;!Uc(gi());)hr();return pu(t,tr)}function wM(t){return hI(Nh("",null,null,null,[""],t=uI(t),0,[0],t))}function Nh(t,e,n,r,i,o,c,g,m){for(var p=0,w=0,_=c,I=0,b=0,M=0,R=1,F=1,k=1,S=0,O="",B=i,X=o,G=r,j=O;F;)switch(M=S,S=hr()){case 40:if(M!=108&&fn(j,_-1)==58){kg(j+=Ye(bh(S),"&","&\f"),"&\f")!=-1&&(k=-1);break}case 34:case 39:case 91:j+=bh(S);break;case 9:case 10:case 13:case 32:j+=pM(M);break;case 92:j+=mM(Sh()-1,7);continue;case 47:switch(gi()){case 42:case 47:ah(EM(yM(hr(),Sh()),e,n),m);break;default:j+="/"}break;case 123*R:g[p++]=Jr(j)*k;case 125*R:case 59:case 0:switch(S){case 0:case 125:F=0;case 59+w:k==-1&&(j=Ye(j,/\f/g,"")),b>0&&Jr(j)-_&&ah(b>32?kw(j+";",r,n,_-1):kw(Ye(j," ","")+";",r,n,_-2),m);break;case 59:j+=";";default:if(ah(G=Ow(j,e,n,p,w,i,g,O,B=[],X=[],_),o),S===123)if(w===0)Nh(j,e,G,G,B,o,_,g,X);else switch(I===99&&fn(j,3)===110?100:I){case 100:case 108:case 109:case 115:Nh(t,G,G,r&&ah(Ow(t,G,G,0,0,i,g,O,i,B=[],_),X),i,X,_,g,r?B:X);break;default:Nh(j,G,G,G,[""],X,0,g,X)}}p=w=b=0,R=k=1,O=j="",_=c;break;case 58:_=1+Jr(j),b=M;default:if(R<1){if(S==123)--R;else if(S==125&&R++==0&&gM()==125)continue}switch(j+=Tf(S),S*R){case 38:k=w>0?1:(j+="\f",-1);break;case 44:g[p++]=(Jr(j)-1)*k,k=1;break;case 64:gi()===45&&(j+=bh(hr())),I=gi(),w=_=Jr(O=j+=xM(Sh())),S++;break;case 45:M===45&&Jr(j)==2&&(R=0)}}return o}function Ow(t,e,n,r,i,o,c,g,m,p,w){for(var _=i-1,I=i===0?o:[""],b=o2(I),M=0,R=0,F=0;M<r;++M)for(var k=0,S=Vc(t,_+1,_=lM(R=c[M])),O=t;k<b;++k)(O=lI(R>0?I[k]+" "+S:Ye(S,/&\f/g,I[k])))&&(m[F++]=O);return bf(t,e,n,i===0?i2:g,m,p,w)}function EM(t,e,n){return bf(t,e,n,oI,Tf(fM()),Vc(t,2,-2),0)}function kw(t,e,n,r){return bf(t,e,n,s2,Vc(t,0,r),Vc(t,r+1,-1),r)}function Ia(t,e){for(var n="",r=o2(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function vM(t,e,n,r){switch(t.type){case aM:if(t.children.length)break;case oM:case s2:return t.return=t.return||t.value;case oI:return"";case aI:return t.return=t.value+"{"+Ia(t.children,r)+"}";case i2:t.value=t.props.join(",")}return Jr(n=Ia(t.children,r))?t.return=t.value+"{"+n+"}":""}function _M(t){var e=o2(t);return function(n,r,i,o){for(var c="",g=0;g<e;g++)c+=t[g](n,r,i,o)||"";return c}}function CM(t){return function(e){e.root||(e=e.return)&&t(e)}}var AM=function(e,n,r){for(var i=0,o=0;i=o,o=gi(),i===38&&o===12&&(n[r]=1),!Uc(o);)hr();return pu(e,tr)},IM=function(e,n){var r=-1,i=44;do switch(Uc(i)){case 0:i===38&&gi()===12&&(n[r]=1),e[r]+=AM(tr-1,n,r);break;case 2:e[r]+=bh(i);break;case 4:if(i===44){e[++r]=gi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Tf(i)}while(i=hr());return e},TM=function(e,n){return hI(IM(uI(e),n))},Dw=new WeakMap,SM=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Dw.get(r))&&!i){Dw.set(e,!0);for(var o=[],c=TM(n,o),g=r.props,m=0,p=0;m<c.length;m++)for(var w=0;w<g.length;w++,p++)e.props[p]=o[m]?c[m].replace(/&\f/g,g[w]):g[w]+" "+c[m]}}},bM=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function dI(t,e){switch(uM(t,e)){case 5103:return Xe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Xe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Xe+t+Td+t+An+t+t;case 6828:case 4268:return Xe+t+An+t+t;case 6165:return Xe+t+An+"flex-"+t+t;case 5187:return Xe+t+Ye(t,/(\w+).+(:[^]+)/,Xe+"box-$1$2"+An+"flex-$1$2")+t;case 5443:return Xe+t+An+"flex-item-"+Ye(t,/flex-|-self/,"")+t;case 4675:return Xe+t+An+"flex-line-pack"+Ye(t,/align-content|flex-|-self/,"")+t;case 5548:return Xe+t+An+Ye(t,"shrink","negative")+t;case 5292:return Xe+t+An+Ye(t,"basis","preferred-size")+t;case 6060:return Xe+"box-"+Ye(t,"-grow","")+Xe+t+An+Ye(t,"grow","positive")+t;case 4554:return Xe+Ye(t,/([^-])(transform)/g,"$1"+Xe+"$2")+t;case 6187:return Ye(Ye(Ye(t,/(zoom-|grab)/,Xe+"$1"),/(image-set)/,Xe+"$1"),t,"")+t;case 5495:case 3959:return Ye(t,/(image-set\([^]*)/,Xe+"$1$`$1");case 4968:return Ye(Ye(t,/(.+:)(flex-)?(.*)/,Xe+"box-pack:$3"+An+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Xe+t+t;case 4095:case 3583:case 4068:case 2532:return Ye(t,/(.+)-inline(.+)/,Xe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Jr(t)-1-e>6)switch(fn(t,e+1)){case 109:if(fn(t,e+4)!==45)break;case 102:return Ye(t,/(.+:)(.+)-([^]+)/,"$1"+Xe+"$2-$3$1"+Td+(fn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~kg(t,"stretch")?dI(Ye(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(fn(t,e+1)!==115)break;case 6444:switch(fn(t,Jr(t)-3-(~kg(t,"!important")&&10))){case 107:return Ye(t,":",":"+Xe)+t;case 101:return Ye(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Xe+(fn(t,14)===45?"inline-":"")+"box$3$1"+Xe+"$2$3$1"+An+"$2box$3")+t}break;case 5936:switch(fn(t,e+11)){case 114:return Xe+t+An+Ye(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Xe+t+An+Ye(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Xe+t+An+Ye(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Xe+t+An+t+t}return t}var NM=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case s2:e.return=dI(e.value,e.length);break;case aI:return Ia([Rl(e,{value:Ye(e.value,"@","@"+Xe)})],i);case i2:if(e.length)return dM(e.props,function(o){switch(hM(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ia([Rl(e,{props:[Ye(o,/:(read-\w+)/,":"+Td+"$1")]})],i);case"::placeholder":return Ia([Rl(e,{props:[Ye(o,/:(plac\w+)/,":"+Xe+"input-$1")]}),Rl(e,{props:[Ye(o,/:(plac\w+)/,":"+Td+"$1")]}),Rl(e,{props:[Ye(o,/:(plac\w+)/,An+"input-$1")]})],i)}return""})}},RM=[NM],OM=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(R){var F=R.getAttribute("data-emotion");F.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var i=e.stylisPlugins||RM,o={},c,g=[];c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(R){for(var F=R.getAttribute("data-emotion").split(" "),k=1;k<F.length;k++)o[F[k]]=!0;g.push(R)});var m,p=[SM,bM];{var w,_=[vM,CM(function(R){w.insert(R)})],I=_M(p.concat(i,_)),b=function(F){return Ia(wM(F),I)};m=function(F,k,S,O){w=S,b(F?F+"{"+k.styles+"}":k.styles),O&&(M.inserted[k.name]=!0)}}var M={key:n,sheet:new sM({key:n,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:m};return M.sheet.hydrate(g),M},kM=!0;function DM(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var fI=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||kM===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},MM=function(e,n,r){fI(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function PM(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var LM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},BM=/[A-Z]|^ms/g,FM=/_EMO_([^_]+?)_([^]*?)_EMO_/g,gI=function(e){return e.charCodeAt(1)===45},Mw=function(e){return e!=null&&typeof e!="boolean"},J0=sI(function(t){return gI(t)?t:t.replace(BM,"-$&").toLowerCase()}),Pw=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(FM,function(r,i,o){return ei={name:i,styles:o,next:ei},i})}return LM[e]!==1&&!gI(e)&&typeof n=="number"&&n!==0?n+"px":n};function zc(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ei={name:n.name,styles:n.styles,next:ei},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)ei={name:r.name,styles:r.styles,next:ei},r=r.next;var i=n.styles+";";return i}return jM(t,e,n)}case"function":{if(t!==void 0){var o=ei,c=n(t);return ei=o,zc(t,e,c)}break}}if(e==null)return n;var g=e[n];return g!==void 0?g:n}function jM(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=zc(t,e,n[i])+";";else for(var o in n){var c=n[o];if(typeof c!="object")e!=null&&e[c]!==void 0?r+=o+"{"+e[c]+"}":Mw(c)&&(r+=J0(o)+":"+Pw(o,c)+";");else if(Array.isArray(c)&&typeof c[0]=="string"&&(e==null||e[c[0]]===void 0))for(var g=0;g<c.length;g++)Mw(c[g])&&(r+=J0(o)+":"+Pw(o,c[g])+";");else{var m=zc(t,e,c);switch(o){case"animation":case"animationName":{r+=J0(o)+":"+m+";";break}default:r+=o+"{"+m+"}"}}}return r}var Lw=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ei,VM=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";ei=void 0;var c=e[0];c==null||c.raw===void 0?(i=!1,o+=zc(r,n,c)):o+=c[0];for(var g=1;g<e.length;g++)o+=zc(r,n,e[g]),i&&(o+=c[g]);Lw.lastIndex=0;for(var m="",p;(p=Lw.exec(o))!==null;)m+="-"+p[1];var w=PM(o)+m;return{name:w,styles:o,next:ei}},UM=function(e){return e()},zM=t1["useInsertionEffect"]?t1["useInsertionEffect"]:!1,HM=zM||UM,pI=Y.createContext(typeof HTMLElement<"u"?OM({key:"css"}):null);pI.Provider;var WM=function(e){return Y.forwardRef(function(n,r){var i=Y.useContext(pI);return e(n,i,r)})},mI=Y.createContext({}),GM=nM,$M=function(e){return e!=="theme"},Bw=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?GM:$M},Fw=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(c){return e.__emotion_forwardProp(c)&&o(c)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},XM=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return fI(n,r,i),HM(function(){return MM(n,r,i)}),null},YM=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,c;n!==void 0&&(o=n.label,c=n.target);var g=Fw(e,n,r),m=g||Bw(i),p=!m("as");return function(){var w=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&_.push("label:"+o+";"),w[0]==null||w[0].raw===void 0)_.push.apply(_,w);else{_.push(w[0][0]);for(var I=w.length,b=1;b<I;b++)_.push(w[b],w[0][b])}var M=WM(function(R,F,k){var S=p&&R.as||i,O="",B=[],X=R;if(R.theme==null){X={};for(var G in R)X[G]=R[G];X.theme=Y.useContext(mI)}typeof R.className=="string"?O=DM(F.registered,B,R.className):R.className!=null&&(O=R.className+" ");var j=VM(_.concat(B),F.registered,X);O+=F.key+"-"+j.name,c!==void 0&&(O+=" "+c);var Z=p&&g===void 0?Bw(S):m,$={};for(var se in R)p&&se==="as"||Z(se)&&($[se]=R[se]);return $.className=O,$.ref=k,Y.createElement(Y.Fragment,null,Y.createElement(XM,{cache:F,serialized:j,isStringTag:typeof S=="string"}),Y.createElement(S,$))});return M.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",M.defaultProps=e.defaultProps,M.__emotion_real=M,M.__emotion_base=i,M.__emotion_styles=_,M.__emotion_forwardProp=g,Object.defineProperty(M,"toString",{value:function(){return"."+c}}),M.withComponent=function(R,F){return t(R,Se({},n,F,{shouldForwardProp:Fw(M,F,!0)})).apply(void 0,_)},M}},KM=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Mg=YM.bind();KM.forEach(function(t){Mg[t]=Mg(t)});/**
 * @mui/styled-engine v5.14.10
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function qM(t,e){return Mg(t,e)}const QM=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},ZM=["values","unit","step"],JM=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>Se({},n,{[r.key]:r.val}),{})};function e7(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=yi(t,ZM),o=JM(e),c=Object.keys(o);function g(I){return`@media (min-width:${typeof e[I]=="number"?e[I]:I}${n})`}function m(I){return`@media (max-width:${(typeof e[I]=="number"?e[I]:I)-r/100}${n})`}function p(I,b){const M=c.indexOf(b);return`@media (min-width:${typeof e[I]=="number"?e[I]:I}${n}) and (max-width:${(M!==-1&&typeof e[c[M]]=="number"?e[c[M]]:b)-r/100}${n})`}function w(I){return c.indexOf(I)+1<c.length?p(I,c[c.indexOf(I)+1]):g(I)}function _(I){const b=c.indexOf(I);return b===0?g(c[1]):b===c.length-1?m(c[b]):p(I,c[c.indexOf(I)+1]).replace("@media","@media not all and")}return Se({keys:c,values:o,up:g,down:m,between:p,only:w,not:_,unit:n},i)}const t7={borderRadius:4},n7=t7;function ic(t,e){return e?Ni(t,e,{clone:!1}):t}const a2={xs:0,sm:600,md:900,lg:1200,xl:1536},jw={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${a2[t]}px)`};function Fi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||jw;return e.reduce((c,g,m)=>(c[o.up(o.keys[m])]=n(e[m]),c),{})}if(typeof e=="object"){const o=r.breakpoints||jw;return Object.keys(e).reduce((c,g)=>{if(Object.keys(o.values||a2).indexOf(g)!==-1){const m=o.up(g);c[m]=n(e[g],g)}else{const m=g;c[m]=e[m]}return c},{})}return n(e)}function r7(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function i7(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Nf(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Sd(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Nf(t,n)||r,e&&(i=e(i,r,t)),i}function Qe(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=c=>{if(c[e]==null)return null;const g=c[e],m=c.theme,p=Nf(m,r)||{};return Fi(c,g,_=>{let I=Sd(p,i,_);return _===I&&typeof _=="string"&&(I=Sd(p,i,`${e}${_==="default"?"":Ri(_)}`,_)),n===!1?I:{[n]:I}})};return o.propTypes={},o.filterProps=[e],o}function s7(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const o7={m:"margin",p:"padding"},a7={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Vw={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l7=s7(t=>{if(t.length>2)if(Vw[t])t=Vw[t];else return[t];const[e,n]=t.split(""),r=o7[e],i=a7[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),l2=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],c2=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...l2,...c2];function mu(t,e,n,r){var i;const o=(i=Nf(t,e,!1))!=null?i:n;return typeof o=="number"?c=>typeof c=="string"?c:o*c:Array.isArray(o)?c=>typeof c=="string"?c:o[c]:typeof o=="function"?o:()=>{}}function yI(t){return mu(t,"spacing",8)}function yu(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function c7(t,e){return n=>t.reduce((r,i)=>(r[i]=yu(e,n),r),{})}function u7(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=l7(n),o=c7(i,r),c=t[n];return Fi(t,c,o)}function xI(t,e){const n=yI(t.theme);return Object.keys(t).map(r=>u7(t,e,r,n)).reduce(ic,{})}function bt(t){return xI(t,l2)}bt.propTypes={};bt.filterProps=l2;function Nt(t){return xI(t,c2)}Nt.propTypes={};Nt.filterProps=c2;function h7(t=8){if(t.mui)return t;const e=yI({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const c=e(o);return typeof c=="number"?`${c}px`:c}).join(" ");return n.mui=!0,n}function Rf(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?ic(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function ii(t){return typeof t!="number"?t:`${t}px solid`}const d7=Qe({prop:"border",themeKey:"borders",transform:ii}),f7=Qe({prop:"borderTop",themeKey:"borders",transform:ii}),g7=Qe({prop:"borderRight",themeKey:"borders",transform:ii}),p7=Qe({prop:"borderBottom",themeKey:"borders",transform:ii}),m7=Qe({prop:"borderLeft",themeKey:"borders",transform:ii}),y7=Qe({prop:"borderColor",themeKey:"palette"}),x7=Qe({prop:"borderTopColor",themeKey:"palette"}),w7=Qe({prop:"borderRightColor",themeKey:"palette"}),E7=Qe({prop:"borderBottomColor",themeKey:"palette"}),v7=Qe({prop:"borderLeftColor",themeKey:"palette"}),Of=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=mu(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:yu(e,r)});return Fi(t,t.borderRadius,n)}return null};Of.propTypes={};Of.filterProps=["borderRadius"];Rf(d7,f7,g7,p7,m7,y7,x7,w7,E7,v7,Of);const kf=t=>{if(t.gap!==void 0&&t.gap!==null){const e=mu(t.theme,"spacing",8),n=r=>({gap:yu(e,r)});return Fi(t,t.gap,n)}return null};kf.propTypes={};kf.filterProps=["gap"];const Df=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=mu(t.theme,"spacing",8),n=r=>({columnGap:yu(e,r)});return Fi(t,t.columnGap,n)}return null};Df.propTypes={};Df.filterProps=["columnGap"];const Mf=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=mu(t.theme,"spacing",8),n=r=>({rowGap:yu(e,r)});return Fi(t,t.rowGap,n)}return null};Mf.propTypes={};Mf.filterProps=["rowGap"];const _7=Qe({prop:"gridColumn"}),C7=Qe({prop:"gridRow"}),A7=Qe({prop:"gridAutoFlow"}),I7=Qe({prop:"gridAutoColumns"}),T7=Qe({prop:"gridAutoRows"}),S7=Qe({prop:"gridTemplateColumns"}),b7=Qe({prop:"gridTemplateRows"}),N7=Qe({prop:"gridTemplateAreas"}),R7=Qe({prop:"gridArea"});Rf(kf,Df,Mf,_7,C7,A7,I7,T7,S7,b7,N7,R7);function Ta(t,e){return e==="grey"?e:t}const O7=Qe({prop:"color",themeKey:"palette",transform:Ta}),k7=Qe({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ta}),D7=Qe({prop:"backgroundColor",themeKey:"palette",transform:Ta});Rf(O7,k7,D7);function or(t){return t<=1&&t!==0?`${t*100}%`:t}const M7=Qe({prop:"width",transform:or}),u2=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const o=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||a2[n];return o?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:or(n)}};return Fi(t,t.maxWidth,e)}return null};u2.filterProps=["maxWidth"];const P7=Qe({prop:"minWidth",transform:or}),L7=Qe({prop:"height",transform:or}),B7=Qe({prop:"maxHeight",transform:or}),F7=Qe({prop:"minHeight",transform:or});Qe({prop:"size",cssProperty:"width",transform:or});Qe({prop:"size",cssProperty:"height",transform:or});const j7=Qe({prop:"boxSizing"});Rf(M7,u2,P7,L7,B7,F7,j7);const V7={border:{themeKey:"borders",transform:ii},borderTop:{themeKey:"borders",transform:ii},borderRight:{themeKey:"borders",transform:ii},borderBottom:{themeKey:"borders",transform:ii},borderLeft:{themeKey:"borders",transform:ii},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Of},color:{themeKey:"palette",transform:Ta},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ta},backgroundColor:{themeKey:"palette",transform:Ta},p:{style:Nt},pt:{style:Nt},pr:{style:Nt},pb:{style:Nt},pl:{style:Nt},px:{style:Nt},py:{style:Nt},padding:{style:Nt},paddingTop:{style:Nt},paddingRight:{style:Nt},paddingBottom:{style:Nt},paddingLeft:{style:Nt},paddingX:{style:Nt},paddingY:{style:Nt},paddingInline:{style:Nt},paddingInlineStart:{style:Nt},paddingInlineEnd:{style:Nt},paddingBlock:{style:Nt},paddingBlockStart:{style:Nt},paddingBlockEnd:{style:Nt},m:{style:bt},mt:{style:bt},mr:{style:bt},mb:{style:bt},ml:{style:bt},mx:{style:bt},my:{style:bt},margin:{style:bt},marginTop:{style:bt},marginRight:{style:bt},marginBottom:{style:bt},marginLeft:{style:bt},marginX:{style:bt},marginY:{style:bt},marginInline:{style:bt},marginInlineStart:{style:bt},marginInlineEnd:{style:bt},marginBlock:{style:bt},marginBlockStart:{style:bt},marginBlockEnd:{style:bt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:kf},rowGap:{style:Mf},columnGap:{style:Df},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:or},maxWidth:{style:u2},minWidth:{transform:or},height:{transform:or},maxHeight:{transform:or},minHeight:{transform:or},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},h2=V7;function U7(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function z7(t,e){return typeof t=="function"?t(e):t}function H7(){function t(n,r,i,o){const c={[n]:r,theme:i},g=o[n];if(!g)return{[n]:r};const{cssProperty:m=n,themeKey:p,transform:w,style:_}=g;if(r==null)return null;if(p==="typography"&&r==="inherit")return{[n]:r};const I=Nf(i,p)||{};return _?_(c):Fi(c,r,M=>{let R=Sd(I,w,M);return M===R&&typeof M=="string"&&(R=Sd(I,w,`${n}${M==="default"?"":Ri(M)}`,M)),m===!1?R:{[m]:R}})}function e(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const c=(r=o.unstable_sxConfig)!=null?r:h2;function g(m){let p=m;if(typeof m=="function")p=m(o);else if(typeof m!="object")return m;if(!p)return null;const w=r7(o.breakpoints),_=Object.keys(w);let I=w;return Object.keys(p).forEach(b=>{const M=z7(p[b],o);if(M!=null)if(typeof M=="object")if(c[b])I=ic(I,t(b,M,o,c));else{const R=Fi({theme:o},M,F=>({[b]:F}));U7(R,M)?I[b]=e({sx:M,theme:o}):I=ic(I,R)}else I=ic(I,t(b,M,o,c))}),i7(_,I)}return Array.isArray(i)?i.map(g):g(i)}return e}const wI=H7();wI.filterProps=["sx"];const d2=wI,W7=["breakpoints","palette","spacing","shape"];function f2(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=t,c=yi(t,W7),g=e7(n),m=h7(i);let p=Ni({breakpoints:g,direction:"ltr",components:{},palette:Se({mode:"light"},r),spacing:m,shape:Se({},n7,o)},c);return p=e.reduce((w,_)=>Ni(w,_),p),p.unstable_sxConfig=Se({},h2,c==null?void 0:c.unstable_sxConfig),p.unstable_sx=function(_){return d2({sx:_,theme:this})},p}function G7(t){return Object.keys(t).length===0}function $7(t=null){const e=Y.useContext(mI);return!e||G7(e)?t:e}const X7=f2();function Y7(t=X7){return $7(t)}function EI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=EI(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function vI(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=EI(t))&&(r&&(r+=" "),r+=e);return r}const K7=["variant"];function Uw(t){return t.length===0}function _I(t){const{variant:e}=t,n=yi(t,K7);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=Uw(r)?t[i]:Ri(t[i]):r+=`${Uw(r)?i:Ri(i)}${Ri(t[i].toString())}`}),r}const q7=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Q7(t){return Object.keys(t).length===0}function Z7(t){return typeof t=="string"&&t.charCodeAt(0)>96}const J7=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,eP=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const o=_I(i.props);r[o]=i.style}),r},tP=(t,e,n,r)=>{var i;const{ownerState:o={}}=t,c=[],g=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return g&&g.forEach(m=>{let p=!0;Object.keys(m.props).forEach(w=>{o[w]!==m.props[w]&&t[w]!==m.props[w]&&(p=!1)}),p&&c.push(e[_I(m.props)])}),c};function Rh(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const nP=f2(),rP=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Ol({defaultTheme:t,theme:e,themeId:n}){return Q7(e)?t:e[n]||e}function iP(t){return t?(e,n)=>n[t]:null}function sP(t={}){const{themeId:e,defaultTheme:n=nP,rootShouldForwardProp:r=Rh,slotShouldForwardProp:i=Rh}=t,o=c=>d2(Se({},c,{theme:Ol(Se({},c,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(c,g={})=>{QM(c,B=>B.filter(X=>!(X!=null&&X.__mui_systemSx)));const{name:m,slot:p,skipVariantsResolver:w,skipSx:_,overridesResolver:I=iP(rP(p))}=g,b=yi(g,q7),M=w!==void 0?w:p&&p!=="Root"&&p!=="root"||!1,R=_||!1;let F,k=Rh;p==="Root"||p==="root"?k=r:p?k=i:Z7(c)&&(k=void 0);const S=qM(c,Se({shouldForwardProp:k,label:F},b)),O=(B,...X)=>{const G=X?X.map(se=>typeof se=="function"&&se.__emotion_real!==se?Me=>se(Se({},Me,{theme:Ol(Se({},Me,{defaultTheme:n,themeId:e}))})):se):[];let j=B;m&&I&&G.push(se=>{const Me=Ol(Se({},se,{defaultTheme:n,themeId:e})),pe=J7(m,Me);if(pe){const Oe={};return Object.entries(pe).forEach(([yt,W])=>{Oe[yt]=typeof W=="function"?W(Se({},se,{theme:Me})):W}),I(se,Oe)}return null}),m&&!M&&G.push(se=>{const Me=Ol(Se({},se,{defaultTheme:n,themeId:e}));return tP(se,eP(m,Me),Me,m)}),R||G.push(o);const Z=G.length-X.length;if(Array.isArray(B)&&Z>0){const se=new Array(Z).fill("");j=[...B,...se],j.raw=[...B.raw,...se]}else typeof B=="function"&&B.__emotion_real!==B&&(j=se=>B(Se({},se,{theme:Ol(Se({},se,{defaultTheme:n,themeId:e}))})));const $=S(j,...G);return c.muiName&&($.muiName=c.muiName),$};return S.withConfig&&(O.withConfig=S.withConfig),O}}function oP(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:tI(e.components[n].defaultProps,r)}function aP({props:t,name:e,defaultTheme:n,themeId:r}){let i=Y7(n);return r&&(i=i[r]||i),oP({theme:i,name:e,props:t})}function CI(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function lP(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Wa(t){if(t.type)return t;if(t.charAt(0)==="#")return Wa(lP(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(za(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(za(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}function g2(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function cP(t){t=Wa(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),c=(p,w=(p+n/30)%12)=>i-o*Math.max(Math.min(w-3,9-w,1),-1);let g="rgb";const m=[Math.round(c(0)*255),Math.round(c(8)*255),Math.round(c(4)*255)];return t.type==="hsla"&&(g+="a",m.push(e[3])),g2({type:g,values:m})}function zw(t){t=Wa(t);let e=t.type==="hsl"||t.type==="hsla"?Wa(cP(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function uP(t,e){const n=zw(t),r=zw(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function hP(t,e){if(t=Wa(t),e=CI(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return g2(t)}function dP(t,e){if(t=Wa(t),e=CI(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return g2(t)}function fP(t,e){return Se({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const gP=["mode","contrastThreshold","tonalOffset"],Hw={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:jc.white,default:jc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},e1={text:{primary:jc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:jc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Ww(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=dP(t.main,i):e==="dark"&&(t.dark=hP(t.main,o)))}function pP(t="light"){return t==="dark"?{main:Ho[200],light:Ho[50],dark:Ho[400]}:{main:Ho[700],light:Ho[400],dark:Ho[800]}}function mP(t="light"){return t==="dark"?{main:zo[200],light:zo[50],dark:zo[400]}:{main:zo[500],light:zo[300],dark:zo[700]}}function yP(t="light"){return t==="dark"?{main:Uo[500],light:Uo[300],dark:Uo[700]}:{main:Uo[700],light:Uo[400],dark:Uo[800]}}function xP(t="light"){return t==="dark"?{main:Wo[400],light:Wo[300],dark:Wo[700]}:{main:Wo[700],light:Wo[500],dark:Wo[900]}}function wP(t="light"){return t==="dark"?{main:Go[400],light:Go[300],dark:Go[700]}:{main:Go[800],light:Go[500],dark:Go[900]}}function EP(t="light"){return t==="dark"?{main:Nl[400],light:Nl[300],dark:Nl[700]}:{main:"#ed6c02",light:Nl[500],dark:Nl[900]}}function vP(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=yi(t,gP),o=t.primary||pP(e),c=t.secondary||mP(e),g=t.error||yP(e),m=t.info||xP(e),p=t.success||wP(e),w=t.warning||EP(e);function _(R){return uP(R,e1.text.primary)>=n?e1.text.primary:Hw.text.primary}const I=({color:R,name:F,mainShade:k=500,lightShade:S=300,darkShade:O=700})=>{if(R=Se({},R),!R.main&&R[k]&&(R.main=R[k]),!R.hasOwnProperty("main"))throw new Error(za(11,F?` (${F})`:"",k));if(typeof R.main!="string")throw new Error(za(12,F?` (${F})`:"",JSON.stringify(R.main)));return Ww(R,"light",S,r),Ww(R,"dark",O,r),R.contrastText||(R.contrastText=_(R.main)),R},b={dark:e1,light:Hw};return Ni(Se({common:Se({},jc),mode:e,primary:I({color:o,name:"primary"}),secondary:I({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:I({color:g,name:"error"}),warning:I({color:w,name:"warning"}),info:I({color:m,name:"info"}),success:I({color:p,name:"success"}),grey:qD,contrastThreshold:n,getContrastText:_,augmentColor:I,tonalOffset:r},b[e]),i)}const _P=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function CP(t){return Math.round(t*1e5)/1e5}const Gw={textTransform:"uppercase"},$w='"Roboto", "Helvetica", "Arial", sans-serif';function AP(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=$w,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:c=400,fontWeightMedium:g=500,fontWeightBold:m=700,htmlFontSize:p=16,allVariants:w,pxToRem:_}=n,I=yi(n,_P),b=i/14,M=_||(k=>`${k/p*b}rem`),R=(k,S,O,B,X)=>Se({fontFamily:r,fontWeight:k,fontSize:M(S),lineHeight:O},r===$w?{letterSpacing:`${CP(B/S)}em`}:{},X,w),F={h1:R(o,96,1.167,-1.5),h2:R(o,60,1.2,-.5),h3:R(c,48,1.167,0),h4:R(c,34,1.235,.25),h5:R(c,24,1.334,0),h6:R(g,20,1.6,.15),subtitle1:R(c,16,1.75,.15),subtitle2:R(g,14,1.57,.1),body1:R(c,16,1.5,.15),body2:R(c,14,1.43,.15),button:R(g,14,1.75,.4,Gw),caption:R(c,12,1.66,.4),overline:R(c,12,2.66,1,Gw),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ni(Se({htmlFontSize:p,pxToRem:M,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:c,fontWeightMedium:g,fontWeightBold:m},F),I,{clone:!1})}const IP=.2,TP=.14,SP=.12;function pt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${IP})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${TP})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${SP})`].join(",")}const bP=["none",pt(0,2,1,-1,0,1,1,0,0,1,3,0),pt(0,3,1,-2,0,2,2,0,0,1,5,0),pt(0,3,3,-2,0,3,4,0,0,1,8,0),pt(0,2,4,-1,0,4,5,0,0,1,10,0),pt(0,3,5,-1,0,5,8,0,0,1,14,0),pt(0,3,5,-1,0,6,10,0,0,1,18,0),pt(0,4,5,-2,0,7,10,1,0,2,16,1),pt(0,5,5,-3,0,8,10,1,0,3,14,2),pt(0,5,6,-3,0,9,12,1,0,3,16,2),pt(0,6,6,-3,0,10,14,1,0,4,18,3),pt(0,6,7,-4,0,11,15,1,0,4,20,3),pt(0,7,8,-4,0,12,17,2,0,5,22,4),pt(0,7,8,-4,0,13,19,2,0,5,24,4),pt(0,7,9,-4,0,14,21,2,0,5,26,4),pt(0,8,9,-5,0,15,22,2,0,6,28,5),pt(0,8,10,-5,0,16,24,2,0,6,30,5),pt(0,8,11,-5,0,17,26,2,0,6,32,5),pt(0,9,11,-5,0,18,28,2,0,7,34,6),pt(0,9,12,-6,0,19,29,2,0,7,36,6),pt(0,10,13,-6,0,20,31,3,0,8,38,7),pt(0,10,13,-6,0,21,33,3,0,8,40,7),pt(0,10,14,-6,0,22,35,3,0,8,42,7),pt(0,11,14,-7,0,23,36,3,0,9,44,8),pt(0,11,15,-7,0,24,38,3,0,9,46,8)],NP=bP,RP=["duration","easing","delay"],OP={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},kP={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Xw(t){return`${Math.round(t)}ms`}function DP(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function MP(t){const e=Se({},OP,t.easing),n=Se({},kP,t.duration);return Se({getAutoHeightDuration:DP,create:(i=["all"],o={})=>{const{duration:c=n.standard,easing:g=e.easeInOut,delay:m=0}=o;return yi(o,RP),(Array.isArray(i)?i:[i]).map(p=>`${p} ${typeof c=="string"?c:Xw(c)} ${g} ${typeof m=="string"?m:Xw(m)}`).join(",")}},t,{easing:e,duration:n})}const PP={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},LP=PP,BP=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function FP(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=t,c=yi(t,BP);if(t.vars)throw new Error(za(18));const g=vP(r),m=f2(t);let p=Ni(m,{mixins:fP(m.breakpoints,n),palette:g,shadows:NP.slice(),typography:AP(g,o),transitions:MP(i),zIndex:Se({},LP)});return p=Ni(p,c),p=e.reduce((w,_)=>Ni(w,_),p),p.unstable_sxConfig=Se({},h2,c==null?void 0:c.unstable_sxConfig),p.unstable_sx=function(_){return d2({sx:_,theme:this})},p}const jP=FP(),AI=jP;function II({props:t,name:e}){return aP({props:t,name:e,defaultTheme:AI,themeId:iI})}const VP=t=>Rh(t)&&t!=="classes",UP=sP({themeId:iI,defaultTheme:AI,rootShouldForwardProp:VP}),Pf=UP;function zP(t){return r2("MuiSvgIcon",t)}rI("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const HP=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],WP=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Ri(e)}`,`fontSize${Ri(n)}`]};return nI(i,zP,r)},GP=Pf("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ri(n.color)}`],e[`fontSize${Ri(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,o,c,g,m,p,w,_,I,b,M;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(c=o.pxToRem)==null?void 0:c.call(o,20))||"1.25rem",medium:((g=t.typography)==null||(m=g.pxToRem)==null?void 0:m.call(g,24))||"1.5rem",large:((p=t.typography)==null||(w=p.pxToRem)==null?void 0:w.call(p,35))||"2.1875rem"}[e.fontSize],color:(_=(I=(t.vars||t).palette)==null||(I=I[e.color])==null?void 0:I.main)!=null?_:{action:(b=(t.vars||t).palette)==null||(b=b.action)==null?void 0:b.active,disabled:(M=(t.vars||t).palette)==null||(M=M.action)==null?void 0:M.disabled,inherit:void 0}[e.color]}}),TI=Y.forwardRef(function(e,n){const r=II({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:c="inherit",component:g="svg",fontSize:m="medium",htmlColor:p,inheritViewBox:w=!1,titleAccess:_,viewBox:I="0 0 24 24"}=r,b=yi(r,HP),M=Y.isValidElement(i)&&i.type==="svg",R=Se({},r,{color:c,component:g,fontSize:m,instanceFontSize:e.fontSize,inheritViewBox:w,viewBox:I,hasSvgAsChild:M}),F={};w||(F.viewBox=I);const k=WP(R);return E.jsxs(GP,Se({as:g,className:vI(k.root,o),focusable:"false",color:p,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:n},F,b,M&&i.props,{ownerState:R,children:[M?i.props.children:i,_?E.jsx("title",{children:_}):null]}))});TI.muiName="SvgIcon";const Yw=TI;function $P(t,e){function n(r,i){return E.jsx(Yw,Se({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=Yw.muiName,Y.memo(Y.forwardRef(n))}const XP=$P(E.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function YP(t){return r2("MuiAvatar",t)}rI("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const KP=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],qP=t=>{const{classes:e,variant:n,colorDefault:r}=t;return nI({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},YP,e)},QP=Pf("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t,ownerState:e})=>Se({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.variant==="square"&&{borderRadius:0},e.colorDefault&&Se({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}))),ZP=Pf("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),JP=Pf(XP,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function eL({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,o]=Y.useState(!1);return Y.useEffect(()=>{if(!n&&!r)return;o(!1);let c=!0;const g=new Image;return g.onload=()=>{c&&o("loaded")},g.onerror=()=>{c&&o("error")},g.crossOrigin=t,g.referrerPolicy=e,g.src=n,r&&(g.srcset=r),()=>{c=!1}},[t,e,n,r]),i}const tL=Y.forwardRef(function(e,n){const r=II({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:c,component:g="div",imgProps:m,sizes:p,src:w,srcSet:_,variant:I="circular"}=r,b=yi(r,KP);let M=null;const R=eL(Se({},m,{src:w,srcSet:_})),F=w||_,k=F&&R!=="error",S=Se({},r,{colorDefault:!k,component:g,variant:I}),O=qP(S);return k?M=E.jsx(ZP,Se({alt:i,srcSet:_,src:w,sizes:p,ownerState:S,className:O.img},m)):o!=null?M=o:F&&i?M=i[0]:M=E.jsx(JP,{ownerState:S,className:O.fallback}),E.jsx(QP,Se({as:g,ownerState:S,className:vI(O.root,c),ref:n},b,{children:M}))}),bd=tL,nL={video:{width:{min:1280,ideal:1920,max:2560},height:{min:720,ideal:1080,max:1440},facingMode:"user"}};function rL(){const[t,e]=Y.useState(null),[n,r]=Y.useState(null),i=async()=>{try{const m=(await navigator.mediaDevices.enumerateDevices()).find(p=>p.kind==="videoinput");if(m){const p={...nL,deviceId:{exact:m.deviceId}},w=await navigator.mediaDevices.getUserMedia(p);e(w)}else alert("No video camera found.")}catch(g){console.error("Error accessing camera:",g),alert("Error accessing camera. Please check your settings.")}},o=g=>{var p;const m=(p=g.target.files)==null?void 0:p[0];if(m){const w=new FileReader;w.onload=_=>{if(_.target&&typeof _.target.result=="string"){const I=_.target.result;r(I)}},w.readAsDataURL(m)}},c=()=>{"mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices?i():alert("Media features are not available on this device.")};return E.jsx("div",{className:"bg-primary",children:E.jsxs("div",{className:"grid mb-4 pb-10 px-8 mx-4 rounded-3xl bg-primary",children:[E.jsxs("div",{children:[E.jsxs("button",{onClick:()=>c(),children:["Start Camera",E.jsxs("svg",{viewBox:"0 0 24 24",height:"30px",width:"30px",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#ffffff",children:[E.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),E.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),E.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",E.jsx("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," ",E.jsx("path",{d:"M3 16.8V9.2C3 8.0799 3 7.51984 3.21799 7.09202C3.40973 6.71569 3.71569 6.40973 4.09202 6.21799C4.51984 6 5.0799 6 6.2 6H7.25464C7.37758 6 7.43905 6 7.49576 5.9935C7.79166 5.95961 8.05705 5.79559 8.21969 5.54609C8.25086 5.49827 8.27836 5.44328 8.33333 5.33333C8.44329 5.11342 8.49827 5.00346 8.56062 4.90782C8.8859 4.40882 9.41668 4.08078 10.0085 4.01299C10.1219 4 10.2448 4 10.4907 4H13.5093C13.7552 4 13.8781 4 13.9915 4.01299C14.5833 4.08078 15.1141 4.40882 15.4394 4.90782C15.5017 5.00345 15.5567 5.11345 15.6667 5.33333C15.7216 5.44329 15.7491 5.49827 15.7803 5.54609C15.943 5.79559 16.2083 5.95961 16.5042 5.9935C16.561 6 16.6224 6 16.7454 6H17.8C18.9201 6 19.4802 6 19.908 6.21799C20.2843 6.40973 20.5903 6.71569 20.782 7.09202C21 7.51984 21 8.0799 21 9.2V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8Z",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," "]})]})]}),t&&E.jsx("video",{style:{width:1280,height:720},autoPlay:!0,ref:g=>{g&&(g.srcObject=t)}}),n&&E.jsxs("div",{children:[E.jsx("h2",{children:"Preview:"}),E.jsx("img",{src:n,alt:"Uploaded"})]})]}),E.jsx("div",{className:"grid grid-cols-12 gap-6",children:E.jsx("div",{className:"grid grid-cols-12 col-span-12 gap-6 xxl:col-span-9",children:E.jsxs("div",{className:"col-span-12 mt-8",children:[E.jsxs("div",{className:"flex flex-row justify-center",children:[n?E.jsx(bd,{alt:"Selected Avatar",src:n}):E.jsx(bd,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg"}),E.jsx("label",{htmlFor:"fileInput",className:"file-input-label",children:E.jsxs("svg",{viewBox:"0 0 24 24",height:"30px",width:"30px",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#ffffff",children:[E.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),E.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),E.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",E.jsx("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," ",E.jsx("path",{d:"M3 16.8V9.2C3 8.0799 3 7.51984 3.21799 7.09202C3.40973 6.71569 3.71569 6.40973 4.09202 6.21799C4.51984 6 5.0799 6 6.2 6H7.25464C7.37758 6 7.43905 6 7.49576 5.9935C7.79166 5.95961 8.05705 5.79559 8.21969 5.54609C8.25086 5.49827 8.27836 5.44328 8.33333 5.33333C8.44329 5.11342 8.49827 5.00346 8.56062 4.90782C8.8859 4.40882 9.41668 4.08078 10.0085 4.01299C10.1219 4 10.2448 4 10.4907 4H13.5093C13.7552 4 13.8781 4 13.9915 4.01299C14.5833 4.08078 15.1141 4.40882 15.4394 4.90782C15.5017 5.00345 15.5567 5.11345 15.6667 5.33333C15.7216 5.44329 15.7491 5.49827 15.7803 5.54609C15.943 5.79559 16.2083 5.95961 16.5042 5.9935C16.561 6 16.6224 6 16.7454 6H17.8C18.9201 6 19.4802 6 19.908 6.21799C20.2843 6.40973 20.5903 6.71569 20.782 7.09202C21 7.51984 21 8.0799 21 9.2V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8Z",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," "]})]})}),E.jsx("input",{type:"file",id:"fileInput",accept:"image/*",onChange:o,style:{display:"none"}})]}),E.jsxs("div",{className:"grid grid-cols-12 gap-6 mt-5 mb-5",children:[E.jsx("div",{className:"transform  hover:scale-105 transition duration-300 bg-gray-500 text-black shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",children:E.jsx("div",{className:" text-xl text-left p-2",children:"Name"})}),E.jsx("div",{className:"transform  hover:scale-105 transition duration-300 bg-gray-500 text-black shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",children:E.jsx("div",{className:" text-xl text-left p-2",children:"Email"})})]}),E.jsx("div",{className:"transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y",children:E.jsxs("div",{className:"p-5 text-primary-500 rounded bg-white",children:[E.jsx("div",{className:"mt-3 text-3xl text-base font-bold leading-8",children:"Your Wallet Balance"}),E.jsx("div",{className:"flex justify-between ",children:E.jsx("div",{className:"mt-3 text-3xl leading-8 text-black",children:"$ 6, 200.34"})})]})}),E.jsxs("div",{className:"grid grid-cols-12 gap-6 mt-5",children:[E.jsx("div",{className:"transform  hover:scale-105 transition duration-300 bg-white text-black shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",children:E.jsx("div",{className:" text-xl text-left p-2",children:"My Wallets"})}),E.jsx("div",{className:"transform  hover:scale-105 transition duration-300 bg-white text-black shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",children:E.jsx("div",{className:" text-xl text-left p-2",children:"Notifications"})}),E.jsx("div",{className:"transform  hover:scale-105 transition duration-300 bg-white text-black shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",children:E.jsx("div",{className:" text-xl text-left p-2",children:"Privacy settings"})}),E.jsx("div",{className:"transform  hover:scale-105 transition duration-300 bg-white text-black shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",children:E.jsx("div",{className:" text-xl text-left p-2",children:"Support and Help"})}),E.jsx("div",{className:"transform  hover:scale-105 transition duration-300 bg-white text-black shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",children:E.jsx("div",{className:" text-xl text-left p-2",children:"Logout"})}),E.jsx("div",{className:"transform  hover:scale-105 transition duration-300 bg-white text-black shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",children:E.jsx("div",{className:" text-xl text-left p-2",children:"Delete Account"})})]})]})})})]})})}var le;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(le||(le={}));var Kw=new Map([[le.QR_CODE,"QR_CODE"],[le.AZTEC,"AZTEC"],[le.CODABAR,"CODABAR"],[le.CODE_39,"CODE_39"],[le.CODE_93,"CODE_93"],[le.CODE_128,"CODE_128"],[le.DATA_MATRIX,"DATA_MATRIX"],[le.MAXICODE,"MAXICODE"],[le.ITF,"ITF"],[le.EAN_13,"EAN_13"],[le.EAN_8,"EAN_8"],[le.PDF_417,"PDF_417"],[le.RSS_14,"RSS_14"],[le.RSS_EXPANDED,"RSS_EXPANDED"],[le.UPC_A,"UPC_A"],[le.UPC_E,"UPC_E"],[le.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),qw;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(qw||(qw={}));function iL(t){return Object.values(le).includes(t)}var Ns;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ns||(Ns={}));var Mr=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Ns.SCAN_TYPE_CAMERA,Ns.SCAN_TYPE_FILE],t}(),SI=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!Kw.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,Kw.get(e))},t}(),Qw=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),Pg;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Pg||(Pg={}));var bI=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:Pg.UNKWOWN_ERROR}},t}(),NI=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function Zr(t){return typeof t>"u"||t===null}function sL(t,e,n){return t>n?n:t<e?e:t}var ua=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),Ze=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}(),Zw=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),RI=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(i),c=Object.keys(e),g=0,m=c;g<m.length;g++){var p=m[g];if(o.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},t}(),Lg={exports:{}};(function(t,e){(function(n,r){r(e)})(ml,function(n){function r(C){return C==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,s){C.__proto__=s}||function(C,s){for(var a in s)s.hasOwnProperty(a)&&(C[a]=s[a])};function o(C,s){i(C,s);function a(){this.constructor=C}C.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}function c(C,s){var a=Object.setPrototypeOf;a?a(C,s):C.__proto__=s}function g(C,s){s===void 0&&(s=C.constructor);var a=Error.captureStackTrace;a&&a(C,s)}var m=function(C){o(s,C);function s(a){var l=this.constructor,u=C.call(this,a)||this;return Object.defineProperty(u,"name",{value:l.name,enumerable:!1}),c(u,l.prototype),g(u),u}return s}(Error);class p extends m{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}p.kind="Exception";class w extends p{}w.kind="ArgumentException";class _ extends p{}_.kind="IllegalArgumentException";class I{constructor(s){if(this.binarizer=s,s===null)throw new _("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,a){return this.binarizer.getBlackRow(s,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,a,l,u){const h=this.binarizer.getLuminanceSource().crop(s,a,l,u);return new I(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class b extends p{static getChecksumInstance(){return new b}}b.kind="ChecksumException";class M{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(s,a,l,u,h){for(;h--;)l[u++]=s[a++]}static currentTimeMillis(){return Date.now()}}class F extends p{}F.kind="IndexOutOfBoundsException";class k extends F{constructor(s=void 0,a=void 0){super(a),this.index=s,this.message=a}}k.kind="ArrayIndexOutOfBoundsException";class S{static fill(s,a){for(let l=0,u=s.length;l<u;l++)s[l]=a}static fillWithin(s,a,l,u){S.rangeCheck(s.length,a,l);for(let h=a;h<l;h++)s[h]=u}static rangeCheck(s,a,l){if(a>l)throw new _("fromIndex("+a+") > toIndex("+l+")");if(a<0)throw new k(a);if(l>s)throw new k(l)}static asList(...s){return s}static create(s,a,l){return Array.from({length:s}).map(h=>Array.from({length:a}).fill(l))}static createInt32Array(s,a,l){return Array.from({length:s}).map(h=>Int32Array.from({length:a}).fill(l))}static equals(s,a){if(!s||!a||!s.length||!a.length||s.length!==a.length)return!1;for(let l=0,u=s.length;l<u;l++)if(s[l]!==a[l])return!1;return!0}static hashCode(s){if(s===null)return 0;let a=1;for(const l of s)a=31*a+l;return a}static fillUint8Array(s,a){for(let l=0;l!==s.length;l++)s[l]=a}static copyOf(s,a){return s.slice(0,a)}static copyOfUint8Array(s,a){if(s.length<=a){const l=new Uint8Array(a);return l.set(s),l}return s.slice(0,a)}static copyOfRange(s,a,l){const u=l-a,h=new Int32Array(u);return R.arraycopy(s,a,h,0,u),h}static binarySearch(s,a,l){l===void 0&&(l=S.numberComparator);let u=0,h=s.length-1;for(;u<=h;){const d=h+u>>1,f=l(a,s[d]);if(f>0)u=d+1;else if(f<0)h=d-1;else return d}return-u-1}static numberComparator(s,a){return s-a}}class O{static numberOfTrailingZeros(s){let a;if(s===0)return 32;let l=31;return a=s<<16,a!==0&&(l-=16,s=a),a=s<<8,a!==0&&(l-=8,s=a),a=s<<4,a!==0&&(l-=4,s=a),a=s<<2,a!==0&&(l-=2,s=a),l-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let a=1;return s>>>16||(a+=16,s<<=16),s>>>24||(a+=8,s<<=8),s>>>28||(a+=4,s<<=4),s>>>30||(a+=2,s<<=2),a-=s>>>31,a}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,a){return Math.trunc(s/a)}static parseInt(s,a=void 0){return parseInt(s,a)}}O.MIN_VALUE_32_BITS=-2147483648,O.MAX_VALUE=Number.MAX_SAFE_INTEGER;class B{constructor(s,a){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,a==null?this.bits=B.makeArray(s):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const a=B.makeArray(s);R.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const a=this.size;if(s>=a)return a;const l=this.bits;let u=Math.floor(s/32),h=l[u];h&=~((1<<(s&31))-1);const d=l.length;for(;h===0;){if(++u===d)return a;h=l[u]}const f=u*32+O.numberOfTrailingZeros(h);return f>a?a:f}getNextUnset(s){const a=this.size;if(s>=a)return a;const l=this.bits;let u=Math.floor(s/32),h=~l[u];h&=~((1<<(s&31))-1);const d=l.length;for(;h===0;){if(++u===d)return a;h=~l[u]}const f=u*32+O.numberOfTrailingZeros(h);return f>a?a:f}setBulk(s,a){this.bits[Math.floor(s/32)]=a}setRange(s,a){if(a<s||s<0||a>this.size)throw new _;if(a===s)return;a--;const l=Math.floor(s/32),u=Math.floor(a/32),h=this.bits;for(let d=l;d<=u;d++){const f=d>l?0:s&31,x=(2<<(d<u?31:a&31))-(1<<f);h[d]|=x}}clear(){const s=this.bits.length,a=this.bits;for(let l=0;l<s;l++)a[l]=0}isRange(s,a,l){if(a<s||s<0||a>this.size)throw new _;if(a===s)return!0;a--;const u=Math.floor(s/32),h=Math.floor(a/32),d=this.bits;for(let f=u;f<=h;f++){const y=f>u?0:s&31,v=(2<<(f<h?31:a&31))-(1<<y)&4294967295;if((d[f]&v)!==(l?v:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,a){if(a<0||a>32)throw new _("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let l=a;l>0;l--)this.appendBit((s>>l-1&1)===1)}appendBitArray(s){const a=s.size;this.ensureCapacity(this.size+a);for(let l=0;l<a;l++)this.appendBit(s.get(l))}xor(s){if(this.size!==s.size)throw new _("Sizes don't match");const a=this.bits;for(let l=0,u=a.length;l<u;l++)a[l]^=s.bits[l]}toBytes(s,a,l,u){for(let h=0;h<u;h++){let d=0;for(let f=0;f<8;f++)this.get(s)&&(d|=1<<7-f),s++;a[l+h]=d}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),l=a+1,u=this.bits;for(let h=0;h<l;h++){let d=u[h];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,s[a-h]=d}if(this.size!==l*32){const h=l*32-this.size;let d=s[0]>>>h;for(let f=1;f<l;f++){const y=s[f];d|=y<<32-h,s[f-1]=d,d=y>>>h}s[l-1]=d}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof B))return!1;const a=s;return this.size===a.size&&S.equals(this.bits,a.bits)}hashCode(){return 31*this.size+S.hashCode(this.bits)}toString(){let s="";for(let a=0,l=this.size;a<l;a++)a&7||(s+=" "),s+=this.get(a)?"X":".";return s}clone(){return new B(this.size,this.bits.slice())}}var X;(function(C){C[C.OTHER=0]="OTHER",C[C.PURE_BARCODE=1]="PURE_BARCODE",C[C.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",C[C.TRY_HARDER=3]="TRY_HARDER",C[C.CHARACTER_SET=4]="CHARACTER_SET",C[C.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",C[C.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",C[C.ASSUME_GS1=7]="ASSUME_GS1",C[C.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",C[C.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",C[C.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(X||(X={}));var G=X;class j extends p{static getFormatInstance(){return new j}}j.kind="FormatException";var Z;(function(C){C[C.Cp437=0]="Cp437",C[C.ISO8859_1=1]="ISO8859_1",C[C.ISO8859_2=2]="ISO8859_2",C[C.ISO8859_3=3]="ISO8859_3",C[C.ISO8859_4=4]="ISO8859_4",C[C.ISO8859_5=5]="ISO8859_5",C[C.ISO8859_6=6]="ISO8859_6",C[C.ISO8859_7=7]="ISO8859_7",C[C.ISO8859_8=8]="ISO8859_8",C[C.ISO8859_9=9]="ISO8859_9",C[C.ISO8859_10=10]="ISO8859_10",C[C.ISO8859_11=11]="ISO8859_11",C[C.ISO8859_13=12]="ISO8859_13",C[C.ISO8859_14=13]="ISO8859_14",C[C.ISO8859_15=14]="ISO8859_15",C[C.ISO8859_16=15]="ISO8859_16",C[C.SJIS=16]="SJIS",C[C.Cp1250=17]="Cp1250",C[C.Cp1251=18]="Cp1251",C[C.Cp1252=19]="Cp1252",C[C.Cp1256=20]="Cp1256",C[C.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",C[C.UTF8=22]="UTF8",C[C.ASCII=23]="ASCII",C[C.Big5=24]="Big5",C[C.GB18030=25]="GB18030",C[C.EUC_KR=26]="EUC_KR"})(Z||(Z={}));class ${constructor(s,a,l,...u){this.valueIdentifier=s,this.name=l,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=u,$.VALUE_IDENTIFIER_TO_ECI.set(s,this),$.NAME_TO_ECI.set(l,this);const h=this.values;for(let d=0,f=h.length;d!==f;d++){const y=h[d];$.VALUES_TO_ECI.set(y,this)}for(const d of u)$.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new j("incorect value");const a=$.VALUES_TO_ECI.get(s);if(a===void 0)throw new j("incorect value");return a}static getCharacterSetECIByName(s){const a=$.NAME_TO_ECI.get(s);if(a===void 0)throw new j("incorect value");return a}equals(s){if(!(s instanceof $))return!1;const a=s;return this.getName()===a.getName()}}$.VALUE_IDENTIFIER_TO_ECI=new Map,$.VALUES_TO_ECI=new Map,$.NAME_TO_ECI=new Map,$.Cp437=new $(Z.Cp437,Int32Array.from([0,2]),"Cp437"),$.ISO8859_1=new $(Z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),$.ISO8859_2=new $(Z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),$.ISO8859_3=new $(Z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),$.ISO8859_4=new $(Z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),$.ISO8859_5=new $(Z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),$.ISO8859_6=new $(Z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),$.ISO8859_7=new $(Z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),$.ISO8859_8=new $(Z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),$.ISO8859_9=new $(Z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),$.ISO8859_10=new $(Z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),$.ISO8859_11=new $(Z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),$.ISO8859_13=new $(Z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),$.ISO8859_14=new $(Z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),$.ISO8859_15=new $(Z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),$.ISO8859_16=new $(Z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),$.SJIS=new $(Z.SJIS,20,"SJIS","Shift_JIS"),$.Cp1250=new $(Z.Cp1250,21,"Cp1250","windows-1250"),$.Cp1251=new $(Z.Cp1251,22,"Cp1251","windows-1251"),$.Cp1252=new $(Z.Cp1252,23,"Cp1252","windows-1252"),$.Cp1256=new $(Z.Cp1256,24,"Cp1256","windows-1256"),$.UnicodeBigUnmarked=new $(Z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),$.UTF8=new $(Z.UTF8,26,"UTF8","UTF-8"),$.ASCII=new $(Z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),$.Big5=new $(Z.Big5,28,"Big5"),$.GB18030=new $(Z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),$.EUC_KR=new $(Z.EUC_KR,30,"EUC_KR","EUC-KR");class se extends p{}se.kind="UnsupportedOperationException";class Me{static decode(s,a){const l=this.encodingName(a);return this.customDecoder?this.customDecoder(s,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(s,l):new TextDecoder(l).decode(s)}static shouldDecodeOnFallback(s){return!Me.isBrowser()&&s==="ISO-8859-1"}static encode(s,a){const l=this.encodingName(a);return this.customEncoder?this.customEncoder(s,l):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof $?s:$.getCharacterSetECIByName(s)}static decodeFallback(s,a){const l=this.encodingCharacterSet(a);if(Me.isDecodeFallbackSupported(l)){let u="";for(let h=0,d=s.length;h<d;h++){let f=s[h].toString(16);f.length<2&&(f="0"+f),u+="%"+f}return decodeURIComponent(u)}if(l.equals($.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new se(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals($.UTF8)||s.equals($.ISO8859_1)||s.equals($.ASCII)}static encodeFallback(s){const l=btoa(unescape(encodeURIComponent(s))).split(""),u=[];for(let h=0;h<l.length;h++)u.push(l[h].charCodeAt(0));return new Uint8Array(u)}}class pe{static castAsNonUtf8Char(s,a=null){const l=a?a.getName():this.ISO88591;return Me.decode(new Uint8Array([s]),l)}static guessEncoding(s,a){if(a!=null&&a.get(G.CHARACTER_SET)!==void 0)return a.get(G.CHARACTER_SET).toString();const l=s.length;let u=!0,h=!0,d=!0,f=0,y=0,x=0,v=0,A=0,T=0,D=0,P=0,L=0,V=0,H=0;const ee=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let te=0;te<l&&(u||h||d);te++){const q=s[te]&255;d&&(f>0?q&128?f--:d=!1:q&128&&(q&64?(f++,q&32?(f++,q&16?(f++,q&8?d=!1:v++):x++):y++):d=!1)),u&&(q>127&&q<160?u=!1:q>159&&(q<192||q===215||q===247)&&H++),h&&(A>0?q<64||q===127||q>252?h=!1:A--:q===128||q===160||q>239?h=!1:q>160&&q<224?(T++,P=0,D++,D>L&&(L=D)):q>127?(A++,D=0,P++,P>V&&(V=P)):(D=0,P=0))}return d&&f>0&&(d=!1),h&&A>0&&(h=!1),d&&(ee||y+x+v>0)?pe.UTF8:h&&(pe.ASSUME_SHIFT_JIS||L>=3||V>=3)?pe.SHIFT_JIS:u&&h?L===2&&T===2||H*10>=l?pe.SHIFT_JIS:pe.ISO88591:u?pe.ISO88591:h?pe.SHIFT_JIS:d?pe.UTF8:pe.PLATFORM_DEFAULT_ENCODING}static format(s,...a){let l=-1;function u(d,f,y,x,v,A){if(d==="%%")return"%";if(a[++l]===void 0)return;d=x?parseInt(x.substr(1)):void 0;let T=v?parseInt(v.substr(1)):void 0,D;switch(A){case"s":D=a[l];break;case"c":D=a[l][0];break;case"f":D=parseFloat(a[l]).toFixed(d);break;case"p":D=parseFloat(a[l]).toPrecision(d);break;case"e":D=parseFloat(a[l]).toExponential(d);break;case"x":D=parseInt(a[l]).toString(T||16);break;case"d":D=parseFloat(parseInt(a[l],T||10).toPrecision(d)).toFixed(0);break}D=typeof D=="object"?JSON.stringify(D):(+D).toString(T);let P=parseInt(y),L=y&&y[0]+""=="0"?"0":" ";for(;D.length<P;)D=f!==void 0?D+L:L+D;return D}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,u)}static getBytes(s,a){return Me.encode(s,a)}static getCharCode(s,a=0){return s.charCodeAt(a)}static getCharAt(s){return String.fromCharCode(s)}}pe.SHIFT_JIS=$.SJIS.getName(),pe.GB2312="GB2312",pe.ISO88591=$.ISO8859_1.getName(),pe.EUC_JP="EUC_JP",pe.UTF8=$.UTF8.getName(),pe.PLATFORM_DEFAULT_ENCODING=pe.UTF8,pe.ASSUME_SHIFT_JIS=!1;class Oe{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=pe.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,a,l){for(let u=a;a<a+l;u++)this.append(s[u]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,a){this.value=this.value.substr(0,s)+a+this.value.substr(s+1)}substring(s,a){return this.value.substring(s,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,a){this.value=this.value.substr(0,s)+a+this.value.substr(s+a.length)}}class yt{constructor(s,a,l,u){if(this.width=s,this.height=a,this.rowSize=l,this.bits=u,a==null&&(a=s),this.height=a,s<1||a<1)throw new _("Both dimensions must be greater than 0");l==null&&(l=Math.floor((s+31)/32)),this.rowSize=l,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const a=s.length,l=s[0].length,u=new yt(l,a);for(let h=0;h<a;h++){const d=s[h];for(let f=0;f<l;f++)d[f]&&u.set(f,h)}return u}static parseFromString(s,a,l){if(s===null)throw new _("stringRepresentation cannot be null");const u=new Array(s.length);let h=0,d=0,f=-1,y=0,x=0;for(;x<s.length;)if(s.charAt(x)===`
`||s.charAt(x)==="\r"){if(h>d){if(f===-1)f=h-d;else if(h-d!==f)throw new _("row lengths do not match");d=h,y++}x++}else if(s.substring(x,x+a.length)===a)x+=a.length,u[h]=!0,h++;else if(s.substring(x,x+l.length)===l)x+=l.length,u[h]=!1,h++;else throw new _("illegal character encountered: "+s.substring(x));if(h>d){if(f===-1)f=h-d;else if(h-d!==f)throw new _("row lengths do not match");y++}const v=new yt(f,y);for(let A=0;A<h;A++)u[A]&&v.set(Math.floor(A%f),Math.floor(A/f));return v}get(s,a){const l=a*this.rowSize+Math.floor(s/32);return(this.bits[l]>>>(s&31)&1)!==0}set(s,a){const l=a*this.rowSize+Math.floor(s/32);this.bits[l]|=1<<(s&31)&4294967295}unset(s,a){const l=a*this.rowSize+Math.floor(s/32);this.bits[l]&=~(1<<(s&31)&4294967295)}flip(s,a){const l=a*this.rowSize+Math.floor(s/32);this.bits[l]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new _("input matrix dimensions do not match");const a=new B(Math.floor(this.width/32)+1),l=this.rowSize,u=this.bits;for(let h=0,d=this.height;h<d;h++){const f=h*l,y=s.getRow(h,a).getBitArray();for(let x=0;x<l;x++)u[f+x]^=y[x]}}clear(){const s=this.bits,a=s.length;for(let l=0;l<a;l++)s[l]=0}setRegion(s,a,l,u){if(a<0||s<0)throw new _("Left and top must be nonnegative");if(u<1||l<1)throw new _("Height and width must be at least 1");const h=s+l,d=a+u;if(d>this.height||h>this.width)throw new _("The region must fit inside the matrix");const f=this.rowSize,y=this.bits;for(let x=a;x<d;x++){const v=x*f;for(let A=s;A<h;A++)y[v+Math.floor(A/32)]|=1<<(A&31)&4294967295}}getRow(s,a){a==null||a.getSize()<this.width?a=new B(this.width):a.clear();const l=this.rowSize,u=this.bits,h=s*l;for(let d=0;d<l;d++)a.setBulk(d*32,u[h+d]);return a}setRow(s,a){R.arraycopy(a.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),a=this.getHeight();let l=new B(s),u=new B(s);for(let h=0,d=Math.floor((a+1)/2);h<d;h++)l=this.getRow(h,l),u=this.getRow(a-1-h,u),l.reverse(),u.reverse(),this.setRow(h,u),this.setRow(a-1-h,l)}getEnclosingRectangle(){const s=this.width,a=this.height,l=this.rowSize,u=this.bits;let h=s,d=a,f=-1,y=-1;for(let x=0;x<a;x++)for(let v=0;v<l;v++){const A=u[x*l+v];if(A!==0){if(x<d&&(d=x),x>y&&(y=x),v*32<h){let T=0;for(;!(A<<31-T&4294967295);)T++;v*32+T<h&&(h=v*32+T)}if(v*32+31>f){let T=31;for(;!(A>>>T);)T--;v*32+T>f&&(f=v*32+T)}}}return f<h||y<d?null:Int32Array.from([h,d,f-h+1,y-d+1])}getTopLeftOnBit(){const s=this.rowSize,a=this.bits;let l=0;for(;l<a.length&&a[l]===0;)l++;if(l===a.length)return null;const u=l/s;let h=l%s*32;const d=a[l];let f=0;for(;!(d<<31-f&4294967295);)f++;return h+=f,Int32Array.from([h,u])}getBottomRightOnBit(){const s=this.rowSize,a=this.bits;let l=a.length-1;for(;l>=0&&a[l]===0;)l--;if(l<0)return null;const u=Math.floor(l/s);let h=Math.floor(l%s)*32;const d=a[l];let f=31;for(;!(d>>>f);)f--;return h+=f,Int32Array.from([h,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof yt))return!1;const a=s;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&S.equals(this.bits,a.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+S.hashCode(this.bits),s}toString(s="X ",a="  ",l=`
`){return this.buildToString(s,a,l)}buildToString(s,a,l){let u=new Oe;for(let h=0,d=this.height;h<d;h++){for(let f=0,y=this.width;f<y;f++)u.append(this.get(f,h)?s:a);u.append(l)}return u.toString()}clone(){return new yt(this.width,this.height,this.rowSize,this.bits.slice())}}class W extends p{static getNotFoundInstance(){return new W}}W.kind="NotFoundException";class At extends M{constructor(s){super(s),this.luminances=At.EMPTY,this.buckets=new Int32Array(At.LUMINANCE_BUCKETS)}getBlackRow(s,a){const l=this.getLuminanceSource(),u=l.getWidth();a==null||a.getSize()<u?a=new B(u):a.clear(),this.initArrays(u);const h=l.getRow(s,this.luminances),d=this.buckets;for(let y=0;y<u;y++)d[(h[y]&255)>>At.LUMINANCE_SHIFT]++;const f=At.estimateBlackPoint(d);if(u<3)for(let y=0;y<u;y++)(h[y]&255)<f&&a.set(y);else{let y=h[0]&255,x=h[1]&255;for(let v=1;v<u-1;v++){const A=h[v+1]&255;(x*4-y-A)/2<f&&a.set(v),y=x,x=A}}return a}getBlackMatrix(){const s=this.getLuminanceSource(),a=s.getWidth(),l=s.getHeight(),u=new yt(a,l);this.initArrays(a);const h=this.buckets;for(let y=1;y<5;y++){const x=Math.floor(l*y/5),v=s.getRow(x,this.luminances),A=Math.floor(a*4/5);for(let T=Math.floor(a/5);T<A;T++){const D=v[T]&255;h[D>>At.LUMINANCE_SHIFT]++}}const d=At.estimateBlackPoint(h),f=s.getMatrix();for(let y=0;y<l;y++){const x=y*a;for(let v=0;v<a;v++)(f[x+v]&255)<d&&u.set(v,y)}return u}createBinarizer(s){return new At(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const a=this.buckets;for(let l=0;l<At.LUMINANCE_BUCKETS;l++)a[l]=0}static estimateBlackPoint(s){const a=s.length;let l=0,u=0,h=0;for(let v=0;v<a;v++)s[v]>h&&(u=v,h=s[v]),s[v]>l&&(l=s[v]);let d=0,f=0;for(let v=0;v<a;v++){const A=v-u,T=s[v]*A*A;T>f&&(d=v,f=T)}if(u>d){const v=u;u=d,d=v}if(d-u<=a/16)throw new W;let y=d-1,x=-1;for(let v=d-1;v>u;v--){const A=v-u,T=A*A*(d-v)*(l-s[v]);T>x&&(y=v,x=T)}return y<<At.LUMINANCE_SHIFT}}At.LUMINANCE_BITS=5,At.LUMINANCE_SHIFT=8-At.LUMINANCE_BITS,At.LUMINANCE_BUCKETS=1<<At.LUMINANCE_BITS,At.EMPTY=Uint8ClampedArray.from([0]);class Ae extends At{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),a=s.getWidth(),l=s.getHeight();if(a>=Ae.MINIMUM_DIMENSION&&l>=Ae.MINIMUM_DIMENSION){const u=s.getMatrix();let h=a>>Ae.BLOCK_SIZE_POWER;a&Ae.BLOCK_SIZE_MASK&&h++;let d=l>>Ae.BLOCK_SIZE_POWER;l&Ae.BLOCK_SIZE_MASK&&d++;const f=Ae.calculateBlackPoints(u,h,d,a,l),y=new yt(a,l);Ae.calculateThresholdForBlock(u,h,d,a,l,f,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new Ae(s)}static calculateThresholdForBlock(s,a,l,u,h,d,f){const y=h-Ae.BLOCK_SIZE,x=u-Ae.BLOCK_SIZE;for(let v=0;v<l;v++){let A=v<<Ae.BLOCK_SIZE_POWER;A>y&&(A=y);const T=Ae.cap(v,2,l-3);for(let D=0;D<a;D++){let P=D<<Ae.BLOCK_SIZE_POWER;P>x&&(P=x);const L=Ae.cap(D,2,a-3);let V=0;for(let ee=-2;ee<=2;ee++){const te=d[T+ee];V+=te[L-2]+te[L-1]+te[L]+te[L+1]+te[L+2]}const H=V/25;Ae.thresholdBlock(s,P,A,H,u,f)}}}static cap(s,a,l){return s<a?a:s>l?l:s}static thresholdBlock(s,a,l,u,h,d){for(let f=0,y=l*h+a;f<Ae.BLOCK_SIZE;f++,y+=h)for(let x=0;x<Ae.BLOCK_SIZE;x++)(s[y+x]&255)<=u&&d.set(a+x,l+f)}static calculateBlackPoints(s,a,l,u,h){const d=h-Ae.BLOCK_SIZE,f=u-Ae.BLOCK_SIZE,y=new Array(l);for(let x=0;x<l;x++){y[x]=new Int32Array(a);let v=x<<Ae.BLOCK_SIZE_POWER;v>d&&(v=d);for(let A=0;A<a;A++){let T=A<<Ae.BLOCK_SIZE_POWER;T>f&&(T=f);let D=0,P=255,L=0;for(let H=0,ee=v*u+T;H<Ae.BLOCK_SIZE;H++,ee+=u){for(let te=0;te<Ae.BLOCK_SIZE;te++){const q=s[ee+te]&255;D+=q,q<P&&(P=q),q>L&&(L=q)}if(L-P>Ae.MIN_DYNAMIC_RANGE)for(H++,ee+=u;H<Ae.BLOCK_SIZE;H++,ee+=u)for(let te=0;te<Ae.BLOCK_SIZE;te++)D+=s[ee+te]&255}let V=D>>Ae.BLOCK_SIZE_POWER*2;if(L-P<=Ae.MIN_DYNAMIC_RANGE&&(V=P/2,x>0&&A>0)){const H=(y[x-1][A]+2*y[x][A-1]+y[x-1][A-1])/4;P<H&&(V=H)}y[x][A]=V}}return y}}Ae.BLOCK_SIZE_POWER=3,Ae.BLOCK_SIZE=1<<Ae.BLOCK_SIZE_POWER,Ae.BLOCK_SIZE_MASK=Ae.BLOCK_SIZE-1,Ae.MINIMUM_DIMENSION=Ae.BLOCK_SIZE*5,Ae.MIN_DYNAMIC_RANGE=24;class oe{constructor(s,a){this.width=s,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,a,l,u){throw new se("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new se("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new se("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let a=new Oe;for(let l=0;l<this.height;l++){const u=this.getRow(l,s);for(let h=0;h<this.width;h++){const d=u[h]&255;let f;d<64?f="#":d<128?f="+":d<192?f=".":f=" ",a.append(f)}a.append(`
`)}return a.toString()}}class xe extends oe{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,a){const l=this.delegate.getRow(s,a),u=this.getWidth();for(let h=0;h<u;h++)l[h]=255-(l[h]&255);return l}getMatrix(){const s=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(a);for(let u=0;u<a;u++)l[u]=255-(s[u]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(s,a,l,u){return new xe(this.delegate.crop(s,a,l,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new xe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new xe(this.delegate.rotateCounterClockwise45())}}class ve extends oe{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=ve.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const a=s.getContext("2d").getImageData(0,0,s.width,s.height);return ve.toGrayscaleBuffer(a.data,s.width,s.height)}static toGrayscaleBuffer(s,a,l){const u=new Uint8ClampedArray(a*l);for(let h=0,d=0,f=s.length;h<f;h+=4,d++){let y;if(s[h+3]===0)y=255;else{const v=s[h],A=s[h+1],T=s[h+2];y=306*v+601*A+117*T+512>>10}u[d]=y}return u}getRow(s,a){if(s<0||s>=this.getHeight())throw new _("Requested row is outside the image: "+s);const l=this.getWidth(),u=s*l;return a===null?a=this.buffer.slice(u,u+l):(a.length<l&&(a=new Uint8ClampedArray(l)),a.set(this.buffer.slice(u,u+l))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,a,l,u){return super.crop(s,a,l,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const a=this.getTempCanvasElement(),l=a.getContext("2d"),u=s*ve.DEGREE_TO_RADIANS,h=this.canvas.width,d=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(u))*h+Math.abs(Math.sin(u))*d),y=Math.ceil(Math.abs(Math.sin(u))*h+Math.abs(Math.cos(u))*d);return a.width=f,a.height=y,l.translate(f/2,y/2),l.rotate(u),l.drawImage(this.canvas,h/-2,d/-2),this.buffer=ve.makeBufferFromCanvasImageData(a),this}invert(){return new xe(this)}}ve.DEGREE_TO_RADIANS=Math.PI/180;class ft{constructor(s,a,l){this.deviceId=s,this.label=a,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Be=(globalThis||ml||self||window||void 0)&&(globalThis||ml||self||window||void 0).__awaiter||function(C,s,a,l){function u(h){return h instanceof a?h:new a(function(d){d(h)})}return new(a||(a=Promise))(function(h,d){function f(v){try{x(l.next(v))}catch(A){d(A)}}function y(v){try{x(l.throw(v))}catch(A){d(A)}}function x(v){v.done?h(v.value):u(v.value).then(f,y)}x((l=l.apply(C,s||[])).next())})};class mr{constructor(s,a=500,l){this.reader=s,this.timeBetweenScansMillis=a,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return Be(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const l of s){const u=l.kind==="video"?"videoinput":l.kind;if(u!=="videoinput")continue;const h=l.deviceId||l.id,d=l.label||`Video device ${a.length+1}`,f=l.groupId,y={deviceId:h,label:d,kind:u,groupId:f};a.push(y)}return a})}getVideoInputDevices(){return Be(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new ft(a.deviceId,a.label))})}findDeviceById(s){return Be(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(l=>l.deviceId===s):null})}decodeFromInputVideoDevice(s,a){return Be(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,a)})}decodeOnceFromVideoDevice(s,a){return Be(this,void 0,void 0,function*(){this.reset();let l;s?l={deviceId:{exact:s}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeOnceFromConstraints(u,a)})}decodeOnceFromConstraints(s,a){return Be(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(l,a)})}decodeOnceFromStream(s,a){return Be(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(s,a);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(s,a,l){return Be(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,a,l)})}decodeFromVideoDevice(s,a,l){return Be(this,void 0,void 0,function*(){let u;s?u={deviceId:{exact:s}}:u={facingMode:"environment"};const h={video:u};return yield this.decodeFromConstraints(h,a,l)})}decodeFromConstraints(s,a,l){return Be(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(u,a,l)})}decodeFromStream(s,a,l){return Be(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(s,a);return yield this.decodeContinuously(u,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,a){return Be(this,void 0,void 0,function*(){const l=this.prepareVideoElement(a);return this.addVideoSource(l,s),this.videoElement=l,this.stream=s,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(s){return new Promise((a,l)=>this.playVideoOnLoad(s,()=>a()))}playVideoOnLoad(s,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",a),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return Be(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,a){const l=document.getElementById(s);if(!l)throw new w(`element with id '${s}' not found`);if(l.nodeName.toLowerCase()!==a.toLowerCase())throw new w(`element with id '${s}' must be an ${a} element`);return l}decodeFromImage(s,a){if(!s&&!a)throw new w("either imageElement with a src set or an url must be provided");return a&&!s?this.decodeFromImageUrl(a):this.decodeFromImageElement(s)}decodeFromVideo(s,a){if(!s&&!a)throw new w("Either an element with a src set or an URL must be provided");return a&&!s?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,a,l){if(s===void 0&&a===void 0)throw new w("Either an element with a src set or an URL must be provided");return a&&!s?this.decodeFromVideoUrlContinuously(a,l):this.decodeFromVideoElementContinuously(s,l)}decodeFromImageElement(s){if(!s)throw new w("An image element must be provided.");this.reset();const a=this.prepareImageElement(s);this.imageElement=a;let l;return this.isImageLoaded(a)?l=this.decodeOnce(a,!1,!0):l=this._decodeOnLoadImage(a),l}decodeFromVideoElement(s){const a=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(s,a){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(l,a)}_decodeFromVideoElementSetup(s){if(!s)throw new w("A video element must be provided.");this.reset();const a=this.prepareVideoElement(s);return this.videoElement=a,a}decodeFromImageUrl(s){if(!s)throw new w("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const l=this._decodeOnLoadImage(a);return a.src=s,l}decodeFromVideoUrl(s){if(!s)throw new w("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElement(a);return a.src=s,l}decodeFromVideoUrlContinuously(s,a){if(!s)throw new w("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(l,a);return l.src=s,u}_decodeOnLoadImage(s){return new Promise((a,l)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(a,l),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return Be(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,a){return Be(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,a)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let a;return typeof s>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof s=="string"&&(a=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(a=s),a}prepareVideoElement(s){let a;return!s&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof s=="string"&&(a=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(a=s),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(s,a=!0,l=!0){this._stopAsyncDecode=!1;const u=(h,d)=>{if(this._stopAsyncDecode){d(new W("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(s);h(f)}catch(f){const y=a&&f instanceof W,v=(f instanceof b||f instanceof j)&&l;if(y||v)return setTimeout(u,this._timeBetweenDecodingAttempts,h,d);d(f)}};return new Promise((h,d)=>u(h,d))}decodeContinuously(s,a){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(s);a(u,null),setTimeout(l,this.timeBetweenScansMillis)}catch(u){a(null,u);const h=u instanceof b||u instanceof j,d=u instanceof W;(h||d)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(s){const a=this.createBinaryBitmap(s);return this.decodeBitmap(a)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,a,l){a||(a={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(s,a,l=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const a=this.getCaptureCanvas(s),l=new ve(a),u=new Ae(l);return new I(u)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const a=this.createCaptureCanvas(s);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let l,u;return typeof s<"u"&&(s instanceof HTMLVideoElement?(l=s.videoWidth,u=s.videoHeight):s instanceof HTMLImageElement&&(l=s.naturalWidth||s.width,u=s.naturalHeight||s.height)),a.style.width=l+"px",a.style.height=u+"px",a.width=l,a.height=u,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,a){try{s.srcObject=a}catch{s.src=URL.createObjectURL(a)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class xt{constructor(s,a,l=a==null?0:8*a.length,u,h,d=R.currentTimeMillis()){this.text=s,this.rawBytes=a,this.numBits=l,this.resultPoints=u,this.format=h,this.timestamp=d,this.text=s,this.rawBytes=a,l==null?this.numBits=a==null?0:8*a.length:this.numBits=l,this.resultPoints=u,this.format=h,this.resultMetadata=null,d==null?this.timestamp=R.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,a)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const a=this.resultPoints;if(a===null)this.resultPoints=s;else if(s!==null&&s.length>0){const l=new Array(a.length+s.length);R.arraycopy(a,0,l,0,a.length),R.arraycopy(s,0,l,a.length,s.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Fs;(function(C){C[C.AZTEC=0]="AZTEC",C[C.CODABAR=1]="CODABAR",C[C.CODE_39=2]="CODE_39",C[C.CODE_93=3]="CODE_93",C[C.CODE_128=4]="CODE_128",C[C.DATA_MATRIX=5]="DATA_MATRIX",C[C.EAN_8=6]="EAN_8",C[C.EAN_13=7]="EAN_13",C[C.ITF=8]="ITF",C[C.MAXICODE=9]="MAXICODE",C[C.PDF_417=10]="PDF_417",C[C.QR_CODE=11]="QR_CODE",C[C.RSS_14=12]="RSS_14",C[C.RSS_EXPANDED=13]="RSS_EXPANDED",C[C.UPC_A=14]="UPC_A",C[C.UPC_E=15]="UPC_E",C[C.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Fs||(Fs={}));var fe=Fs,Ui;(function(C){C[C.OTHER=0]="OTHER",C[C.ORIENTATION=1]="ORIENTATION",C[C.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",C[C.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",C[C.ISSUE_NUMBER=4]="ISSUE_NUMBER",C[C.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",C[C.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",C[C.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",C[C.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",C[C.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",C[C.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ui||(Ui={}));var Qt=Ui;class il{constructor(s,a,l,u,h=-1,d=-1){this.rawBytes=s,this.text=a,this.byteSegments=l,this.ecLevel=u,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=d,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class sl{exp(s){return this.expTable[s]}log(s){if(s===0)throw new _;return this.logTable[s]}static addOrSubtract(s,a){return s^a}}class Wn{constructor(s,a){if(a.length===0)throw new _;this.field=s;const l=a.length;if(l>1&&a[0]===0){let u=1;for(;u<l&&a[u]===0;)u++;u===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-u),R.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const a=this.coefficients;let l;if(s===1){l=0;for(let d=0,f=a.length;d!==f;d++){const y=a[d];l=sl.addOrSubtract(l,y)}return l}l=a[0];const u=a.length,h=this.field;for(let d=1;d<u;d++)l=sl.addOrSubtract(h.multiply(s,l),a[d]);return l}addOrSubtract(s){if(!this.field.equals(s.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let a=this.coefficients,l=s.coefficients;if(a.length>l.length){const d=a;a=l,l=d}let u=new Int32Array(l.length);const h=l.length-a.length;R.arraycopy(l,0,u,0,h);for(let d=h;d<l.length;d++)u[d]=sl.addOrSubtract(a[d-h],l[d]);return new Wn(this.field,u)}multiply(s){if(!this.field.equals(s.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const a=this.coefficients,l=a.length,u=s.coefficients,h=u.length,d=new Int32Array(l+h-1),f=this.field;for(let y=0;y<l;y++){const x=a[y];for(let v=0;v<h;v++)d[y+v]=sl.addOrSubtract(d[y+v],f.multiply(x,u[v]))}return new Wn(f,d)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const a=this.coefficients.length,l=this.field,u=new Int32Array(a),h=this.coefficients;for(let d=0;d<a;d++)u[d]=l.multiply(h[d],s);return new Wn(l,u)}multiplyByMonomial(s,a){if(s<0)throw new _;if(a===0)return this.field.getZero();const l=this.coefficients,u=l.length,h=new Int32Array(u+s),d=this.field;for(let f=0;f<u;f++)h[f]=d.multiply(l[f],a);return new Wn(d,h)}divide(s){if(!this.field.equals(s.field))throw new _("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new _("Divide by 0");const a=this.field;let l=a.getZero(),u=this;const h=s.getCoefficient(s.getDegree()),d=a.inverse(h);for(;u.getDegree()>=s.getDegree()&&!u.isZero();){const f=u.getDegree()-s.getDegree(),y=a.multiply(u.getCoefficient(u.getDegree()),d),x=s.multiplyByMonomial(f,y),v=a.buildMonomial(f,y);l=l.addOrSubtract(v),u=u.addOrSubtract(x)}return[l,u]}toString(){let s="";for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);if(l!==0){if(l<0?(s+=" - ",l=-l):s.length>0&&(s+=" + "),a===0||l!==1){const u=this.field.log(l);u===0?s+="1":u===1?s+="a":(s+="a^",s+=u)}a!==0&&(a===1?s+="x":(s+="x^",s+=a))}}return s}}class xu extends p{}xu.kind="ArithmeticException";class We extends sl{constructor(s,a,l){super(),this.primitive=s,this.size=a,this.generatorBase=l;const u=new Int32Array(a);let h=1;for(let f=0;f<a;f++)u[f]=h,h*=2,h>=a&&(h^=s,h&=a-1);this.expTable=u;const d=new Int32Array(a);for(let f=0;f<a-1;f++)d[u[f]]=f;this.logTable=d,this.zero=new Wn(this,Int32Array.from([0])),this.one=new Wn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,a){if(s<0)throw new _;if(a===0)return this.zero;const l=new Int32Array(s+1);return l[0]=a,new Wn(this,l)}inverse(s){if(s===0)throw new xu;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,a){return s===0||a===0?0:this.expTable[(this.logTable[s]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+O.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}We.AZTEC_DATA_12=new We(4201,4096,1),We.AZTEC_DATA_10=new We(1033,1024,1),We.AZTEC_DATA_6=new We(67,64,1),We.AZTEC_PARAM=new We(19,16,1),We.QR_CODE_FIELD_256=new We(285,256,0),We.DATA_MATRIX_FIELD_256=new We(301,256,1),We.AZTEC_DATA_8=We.DATA_MATRIX_FIELD_256,We.MAXICODE_FIELD_64=We.AZTEC_DATA_6;class No extends p{}No.kind="ReedSolomonException";class Hr extends p{}Hr.kind="IllegalStateException";class ol{constructor(s){this.field=s}decode(s,a){const l=this.field,u=new Wn(l,s),h=new Int32Array(a);let d=!0;for(let D=0;D<a;D++){const P=u.evaluateAt(l.exp(D+l.getGeneratorBase()));h[h.length-1-D]=P,P!==0&&(d=!1)}if(d)return;const f=new Wn(l,h),y=this.runEuclideanAlgorithm(l.buildMonomial(a,1),f,a),x=y[0],v=y[1],A=this.findErrorLocations(x),T=this.findErrorMagnitudes(v,A);for(let D=0;D<A.length;D++){const P=s.length-1-l.log(A[D]);if(P<0)throw new No("Bad error location");s[P]=We.addOrSubtract(s[P],T[D])}}runEuclideanAlgorithm(s,a,l){if(s.getDegree()<a.getDegree()){const D=s;s=a,a=D}const u=this.field;let h=s,d=a,f=u.getZero(),y=u.getOne();for(;d.getDegree()>=(l/2|0);){let D=h,P=f;if(h=d,f=y,h.isZero())throw new No("r_{i-1} was zero");d=D;let L=u.getZero();const V=h.getCoefficient(h.getDegree()),H=u.inverse(V);for(;d.getDegree()>=h.getDegree()&&!d.isZero();){const ee=d.getDegree()-h.getDegree(),te=u.multiply(d.getCoefficient(d.getDegree()),H);L=L.addOrSubtract(u.buildMonomial(ee,te)),d=d.addOrSubtract(h.multiplyByMonomial(ee,te))}if(y=L.multiply(f).addOrSubtract(P),d.getDegree()>=h.getDegree())throw new Hr("Division algorithm failed to reduce polynomial?")}const x=y.getCoefficient(0);if(x===0)throw new No("sigmaTilde(0) was zero");const v=u.inverse(x),A=y.multiplyScalar(v),T=d.multiplyScalar(v);return[A,T]}findErrorLocations(s){const a=s.getDegree();if(a===1)return Int32Array.from([s.getCoefficient(1)]);const l=new Int32Array(a);let u=0;const h=this.field;for(let d=1;d<h.getSize()&&u<a;d++)s.evaluateAt(d)===0&&(l[u]=h.inverse(d),u++);if(u!==a)throw new No("Error locator degree does not match number of roots");return l}findErrorMagnitudes(s,a){const l=a.length,u=new Int32Array(l),h=this.field;for(let d=0;d<l;d++){const f=h.inverse(a[d]);let y=1;for(let x=0;x<l;x++)if(d!==x){const v=h.multiply(a[x],f),A=v&1?v&-2:v|1;y=h.multiply(y,A)}u[d]=h.multiply(s.evaluateAt(f),h.inverse(y)),h.getGeneratorBase()!==0&&(u[d]=h.multiply(u[d],f))}return u}}var an;(function(C){C[C.UPPER=0]="UPPER",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.DIGIT=3]="DIGIT",C[C.PUNCT=4]="PUNCT",C[C.BINARY=5]="BINARY"})(an||(an={}));class st{decode(s){this.ddata=s;let a=s.getBits(),l=this.extractBits(a),u=this.correctBits(l),h=st.convertBoolArrayToByteArray(u),d=st.getEncodedData(u),f=new il(h,d,null,null);return f.setNumBits(u.length),f}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let a=s.length,l=an.UPPER,u=an.UPPER,h="",d=0;for(;d<a;)if(u===an.BINARY){if(a-d<5)break;let f=st.readCode(s,d,5);if(d+=5,f===0){if(a-d<11)break;f=st.readCode(s,d,11)+31,d+=11}for(let y=0;y<f;y++){if(a-d<8){d=a;break}const x=st.readCode(s,d,8);h+=pe.castAsNonUtf8Char(x),d+=8}u=l}else{let f=u===an.DIGIT?4:5;if(a-d<f)break;let y=st.readCode(s,d,f);d+=f;let x=st.getCharacter(u,y);x.startsWith("CTRL_")?(l=u,u=st.getTable(x.charAt(5)),x.charAt(6)==="L"&&(l=u)):(h+=x,u=l)}return h}static getTable(s){switch(s){case"L":return an.LOWER;case"P":return an.PUNCT;case"M":return an.MIXED;case"D":return an.DIGIT;case"B":return an.BINARY;case"U":default:return an.UPPER}}static getCharacter(s,a){switch(s){case an.UPPER:return st.UPPER_TABLE[a];case an.LOWER:return st.LOWER_TABLE[a];case an.MIXED:return st.MIXED_TABLE[a];case an.PUNCT:return st.PUNCT_TABLE[a];case an.DIGIT:return st.DIGIT_TABLE[a];default:throw new Hr("Bad table")}}correctBits(s){let a,l;this.ddata.getNbLayers()<=2?(l=6,a=We.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,a=We.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,a=We.AZTEC_DATA_10):(l=12,a=We.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),h=s.length/l;if(h<u)throw new j;let d=s.length%l,f=new Int32Array(h);for(let T=0;T<h;T++,d+=l)f[T]=st.readCode(s,d,l);try{new ol(a).decode(f,h-u)}catch(T){throw new j(T)}let y=(1<<l)-1,x=0;for(let T=0;T<u;T++){let D=f[T];if(D===0||D===y)throw new j;(D===1||D===y-1)&&x++}let v=new Array(u*l-x),A=0;for(let T=0;T<u;T++){let D=f[T];if(D===1||D===y-1)v.fill(D>1,A,A+l-1),A+=l-1;else for(let P=l-1;P>=0;--P)v[A++]=(D&1<<P)!==0}return v}extractBits(s){let a=this.ddata.isCompact(),l=this.ddata.getNbLayers(),u=(a?11:14)+l*4,h=new Int32Array(u),d=new Array(this.totalBitsInLayer(l,a));if(a)for(let f=0;f<h.length;f++)h[f]=f;else{let f=u+1+2*O.truncDivision(O.truncDivision(u,2)-1,15),y=u/2,x=O.truncDivision(f,2);for(let v=0;v<y;v++){let A=v+O.truncDivision(v,15);h[y-v-1]=x-A-1,h[y+v]=x+A+1}}for(let f=0,y=0;f<l;f++){let x=(l-f)*4+(a?9:12),v=f*2,A=u-1-v;for(let T=0;T<x;T++){let D=T*2;for(let P=0;P<2;P++)d[y+D+P]=s.get(h[v+P],h[v+T]),d[y+2*x+D+P]=s.get(h[v+T],h[A-P]),d[y+4*x+D+P]=s.get(h[A-P],h[A-T]),d[y+6*x+D+P]=s.get(h[A-T],h[v+P])}y+=x*8}return d}static readCode(s,a,l){let u=0;for(let h=a;h<a+l;h++)u<<=1,s[h]&&(u|=1);return u}static readByte(s,a){let l=s.length-a;return l>=8?st.readCode(s,a,8):st.readCode(s,a,l)<<8-l}static convertBoolArrayToByteArray(s){let a=new Uint8Array((s.length+7)/8);for(let l=0;l<a.length;l++)a[l]=st.readByte(s,8*l);return a}totalBitsInLayer(s,a){return((a?88:112)+16*s)*s}}st.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],st.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],st.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],st.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],st.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class je{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,a,l,u){const h=s-l,d=a-u;return Math.sqrt(h*h+d*d)}static sum(s){let a=0;for(let l=0,u=s.length;l!==u;l++){const h=s[l];a+=h}return a}}class wu{static floatToIntBits(s){return s}}wu.MAX_VALUE=Number.MAX_SAFE_INTEGER;class he{constructor(s,a){this.x=s,this.y=a}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof he){const a=s;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*wu.floatToIntBits(this.x)+wu.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const a=this.distance(s[0],s[1]),l=this.distance(s[1],s[2]),u=this.distance(s[0],s[2]);let h,d,f;if(l>=a&&l>=u?(d=s[0],h=s[1],f=s[2]):u>=l&&u>=a?(d=s[1],h=s[0],f=s[2]):(d=s[2],h=s[0],f=s[1]),this.crossProductZ(h,d,f)<0){const y=h;h=f,f=y}s[0]=h,s[1]=d,s[2]=f}static distance(s,a){return je.distance(s.x,s.y,a.x,a.y)}static crossProductZ(s,a,l){const u=a.x,h=a.y;return(l.x-u)*(s.y-h)-(l.y-h)*(s.x-u)}}class Eu{constructor(s,a){this.bits=s,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class y2 extends Eu{constructor(s,a,l,u,h){super(s,a),this.compact=l,this.nbDatablocks=u,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class xi{constructor(s,a,l,u){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),a==null&&(a=xi.INIT_SIZE),l==null&&(l=s.getWidth()/2|0),u==null&&(u=s.getHeight()/2|0);const h=a/2|0;if(this.leftInit=l-h,this.rightInit=l+h,this.upInit=u-h,this.downInit=u+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let s=this.leftInit,a=this.rightInit,l=this.upInit,u=this.downInit,h=!1,d=!0,f=!1,y=!1,x=!1,v=!1,A=!1;const T=this.width,D=this.height;for(;d;){d=!1;let P=!0;for(;(P||!y)&&a<T;)P=this.containsBlackPoint(l,u,a,!1),P?(a++,d=!0,y=!0):y||a++;if(a>=T){h=!0;break}let L=!0;for(;(L||!x)&&u<D;)L=this.containsBlackPoint(s,a,u,!0),L?(u++,d=!0,x=!0):x||u++;if(u>=D){h=!0;break}let V=!0;for(;(V||!v)&&s>=0;)V=this.containsBlackPoint(l,u,s,!1),V?(s--,d=!0,v=!0):v||s--;if(s<0){h=!0;break}let H=!0;for(;(H||!A)&&l>=0;)H=this.containsBlackPoint(s,a,l,!0),H?(l--,d=!0,A=!0):A||l--;if(l<0){h=!0;break}d&&(f=!0)}if(!h&&f){const P=a-s;let L=null;for(let te=1;L===null&&te<P;te++)L=this.getBlackPointOnSegment(s,u-te,s+te,u);if(L==null)throw new W;let V=null;for(let te=1;V===null&&te<P;te++)V=this.getBlackPointOnSegment(s,l+te,s+te,l);if(V==null)throw new W;let H=null;for(let te=1;H===null&&te<P;te++)H=this.getBlackPointOnSegment(a,l+te,a-te,l);if(H==null)throw new W;let ee=null;for(let te=1;ee===null&&te<P;te++)ee=this.getBlackPointOnSegment(a,u-te,a-te,u);if(ee==null)throw new W;return this.centerEdges(ee,L,H,V)}else throw new W}getBlackPointOnSegment(s,a,l,u){const h=je.round(je.distance(s,a,l,u)),d=(l-s)/h,f=(u-a)/h,y=this.image;for(let x=0;x<h;x++){const v=je.round(s+x*d),A=je.round(a+x*f);if(y.get(v,A))return new he(v,A)}return null}centerEdges(s,a,l,u){const h=s.getX(),d=s.getY(),f=a.getX(),y=a.getY(),x=l.getX(),v=l.getY(),A=u.getX(),T=u.getY(),D=xi.CORR;return h<this.width/2?[new he(A-D,T+D),new he(f+D,y+D),new he(x-D,v-D),new he(h+D,d-D)]:[new he(A+D,T+D),new he(f+D,y-D),new he(x-D,v+D),new he(h-D,d-D)]}containsBlackPoint(s,a,l,u){const h=this.image;if(u){for(let d=s;d<=a;d++)if(h.get(d,l))return!0}else for(let d=s;d<=a;d++)if(h.get(l,d))return!0;return!1}}xi.INIT_SIZE=10,xi.CORR=1;class Lf{static checkAndNudgePoints(s,a){const l=s.getWidth(),u=s.getHeight();let h=!0;for(let d=0;d<a.length&&h;d+=2){const f=Math.floor(a[d]),y=Math.floor(a[d+1]);if(f<-1||f>l||y<-1||y>u)throw new W;h=!1,f===-1?(a[d]=0,h=!0):f===l&&(a[d]=l-1,h=!0),y===-1?(a[d+1]=0,h=!0):y===u&&(a[d+1]=u-1,h=!0)}h=!0;for(let d=a.length-2;d>=0&&h;d-=2){const f=Math.floor(a[d]),y=Math.floor(a[d+1]);if(f<-1||f>l||y<-1||y>u)throw new W;h=!1,f===-1?(a[d]=0,h=!0):f===l&&(a[d]=l-1,h=!0),y===-1?(a[d+1]=0,h=!0):y===u&&(a[d+1]=u-1,h=!0)}}}class br{constructor(s,a,l,u,h,d,f,y,x){this.a11=s,this.a21=a,this.a31=l,this.a12=u,this.a22=h,this.a32=d,this.a13=f,this.a23=y,this.a33=x}static quadrilateralToQuadrilateral(s,a,l,u,h,d,f,y,x,v,A,T,D,P,L,V){const H=br.quadrilateralToSquare(s,a,l,u,h,d,f,y);return br.squareToQuadrilateral(x,v,A,T,D,P,L,V).times(H)}transformPoints(s){const a=s.length,l=this.a11,u=this.a12,h=this.a13,d=this.a21,f=this.a22,y=this.a23,x=this.a31,v=this.a32,A=this.a33;for(let T=0;T<a;T+=2){const D=s[T],P=s[T+1],L=h*D+y*P+A;s[T]=(l*D+d*P+x)/L,s[T+1]=(u*D+f*P+v)/L}}transformPointsWithValues(s,a){const l=this.a11,u=this.a12,h=this.a13,d=this.a21,f=this.a22,y=this.a23,x=this.a31,v=this.a32,A=this.a33,T=s.length;for(let D=0;D<T;D++){const P=s[D],L=a[D],V=h*P+y*L+A;s[D]=(l*P+d*L+x)/V,a[D]=(u*P+f*L+v)/V}}static squareToQuadrilateral(s,a,l,u,h,d,f,y){const x=s-l+h-f,v=a-u+d-y;if(x===0&&v===0)return new br(l-s,h-l,s,u-a,d-u,a,0,0,1);{const A=l-h,T=f-h,D=u-d,P=y-d,L=A*P-T*D,V=(x*P-T*v)/L,H=(A*v-x*D)/L;return new br(l-s+V*l,f-s+H*f,s,u-a+V*u,y-a+H*y,a,V,H,1)}}static quadrilateralToSquare(s,a,l,u,h,d,f,y){return br.squareToQuadrilateral(s,a,l,u,h,d,f,y).buildAdjoint()}buildAdjoint(){return new br(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new br(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class x2 extends Lf{sampleGrid(s,a,l,u,h,d,f,y,x,v,A,T,D,P,L,V,H,ee,te){const q=br.quadrilateralToQuadrilateral(u,h,d,f,y,x,v,A,T,D,P,L,V,H,ee,te);return this.sampleGridWithTransform(s,a,l,q)}sampleGridWithTransform(s,a,l,u){if(a<=0||l<=0)throw new W;const h=new yt(a,l),d=new Float32Array(2*a);for(let f=0;f<l;f++){const y=d.length,x=f+.5;for(let v=0;v<y;v+=2)d[v]=v/2+.5,d[v+1]=x;u.transformPoints(d),Lf.checkAndNudgePoints(s,d);try{for(let v=0;v<y;v+=2)s.get(Math.floor(d[v]),Math.floor(d[v+1]))&&h.set(v/2,f)}catch{throw new W}}return h}}class zi{static setGridSampler(s){zi.gridSampler=s}static getInstance(){return zi.gridSampler}}zi.gridSampler=new x2;class Mn{constructor(s,a){this.x=s,this.y=a}toResultPoint(){return new he(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class w2{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let a=this.getMatrixCenter(),l=this.getBullsEyeCorners(a);if(s){let d=l[0];l[0]=l[2],l[2]=d}this.extractParameters(l);let u=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),h=this.getMatrixCornerPoints(l);return new y2(u,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new W;let a=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(s[0],s[1],a),this.sampleLine(s[1],s[2],a),this.sampleLine(s[2],s[3],a),this.sampleLine(s[3],s[0],a)]);this.shift=this.getRotation(l,a);let u=0;for(let d=0;d<4;d++){let f=l[(this.shift+d)%4];this.compact?(u<<=7,u+=f>>1&127):(u<<=10,u+=(f>>2&992)+(f>>1&31))}let h=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(s,a){let l=0;s.forEach((u,h,d)=>{let f=(u>>a-2<<1)+(u&1);l=(l<<3)+f}),l=((l&1)<<11)+(l>>1);for(let u=0;u<4;u++)if(O.bitCount(l^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new W}getCorrectedParameterData(s,a){let l,u;a?(l=7,u=2):(l=10,u=4);let h=l-u,d=new Int32Array(l);for(let y=l-1;y>=0;--y)d[y]=s&15,s>>=4;try{new ol(We.AZTEC_PARAM).decode(d,h)}catch{throw new W}let f=0;for(let y=0;y<u;y++)f=(f<<4)+d[y];return f}getBullsEyeCorners(s){let a=s,l=s,u=s,h=s,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let A=this.getFirstDifferent(a,d,1,-1),T=this.getFirstDifferent(l,d,1,1),D=this.getFirstDifferent(u,d,-1,1),P=this.getFirstDifferent(h,d,-1,-1);if(this.nbCenterLayers>2){let L=this.distancePoint(P,A)*this.nbCenterLayers/(this.distancePoint(h,a)*(this.nbCenterLayers+2));if(L<.75||L>1.25||!this.isWhiteOrBlackRectangle(A,T,D,P))break}a=A,l=T,u=D,h=P,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new W;this.compact=this.nbCenterLayers===5;let f=new he(a.getX()+.5,a.getY()-.5),y=new he(l.getX()+.5,l.getY()+.5),x=new he(u.getX()-.5,u.getY()+.5),v=new he(h.getX()-.5,h.getY()-.5);return this.expandSquare([f,y,x,v],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,a,l,u;try{let f=new xi(this.image).detect();s=f[0],a=f[1],l=f[2],u=f[3]}catch{let y=this.image.getWidth()/2,x=this.image.getHeight()/2;s=this.getFirstDifferent(new Mn(y+7,x-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Mn(y+7,x+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Mn(y-7,x+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new Mn(y-7,x-7),!1,-1,-1).toResultPoint()}let h=je.round((s.getX()+u.getX()+a.getX()+l.getX())/4),d=je.round((s.getY()+u.getY()+a.getY()+l.getY())/4);try{let f=new xi(this.image,15,h,d).detect();s=f[0],a=f[1],l=f[2],u=f[3]}catch{s=this.getFirstDifferent(new Mn(h+7,d-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Mn(h+7,d+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Mn(h-7,d+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new Mn(h-7,d-7),!1,-1,-1).toResultPoint()}return h=je.round((s.getX()+u.getX()+a.getX()+l.getX())/4),d=je.round((s.getY()+u.getY()+a.getY()+l.getY())/4),new Mn(h,d)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,a,l,u,h){let d=zi.getInstance(),f=this.getDimension(),y=f/2-this.nbCenterLayers,x=f/2+this.nbCenterLayers;return d.sampleGrid(s,f,f,y,y,x,y,x,x,y,x,a.getX(),a.getY(),l.getX(),l.getY(),u.getX(),u.getY(),h.getX(),h.getY())}sampleLine(s,a,l){let u=0,h=this.distanceResultPoint(s,a),d=h/l,f=s.getX(),y=s.getY(),x=d*(a.getX()-s.getX())/h,v=d*(a.getY()-s.getY())/h;for(let A=0;A<l;A++)this.image.get(je.round(f+A*x),je.round(y+A*v))&&(u|=1<<l-A-1);return u}isWhiteOrBlackRectangle(s,a,l,u){let h=3;s=new Mn(s.getX()-h,s.getY()+h),a=new Mn(a.getX()-h,a.getY()-h),l=new Mn(l.getX()+h,l.getY()-h),u=new Mn(u.getX()+h,u.getY()+h);let d=this.getColor(u,s);if(d===0)return!1;let f=this.getColor(s,a);return f!==d||(f=this.getColor(a,l),f!==d)?!1:(f=this.getColor(l,u),f===d)}getColor(s,a){let l=this.distancePoint(s,a),u=(a.getX()-s.getX())/l,h=(a.getY()-s.getY())/l,d=0,f=s.getX(),y=s.getY(),x=this.image.get(s.getX(),s.getY()),v=Math.ceil(l);for(let T=0;T<v;T++)f+=u,y+=h,this.image.get(je.round(f),je.round(y))!==x&&d++;let A=d/l;return A>.1&&A<.9?0:A<=.1===x?1:-1}getFirstDifferent(s,a,l,u){let h=s.getX()+l,d=s.getY()+u;for(;this.isValid(h,d)&&this.image.get(h,d)===a;)h+=l,d+=u;for(h-=l,d-=u;this.isValid(h,d)&&this.image.get(h,d)===a;)h+=l;for(h-=l;this.isValid(h,d)&&this.image.get(h,d)===a;)d+=u;return d-=u,new Mn(h,d)}expandSquare(s,a,l){let u=l/(2*a),h=s[0].getX()-s[2].getX(),d=s[0].getY()-s[2].getY(),f=(s[0].getX()+s[2].getX())/2,y=(s[0].getY()+s[2].getY())/2,x=new he(f+u*h,y+u*d),v=new he(f-u*h,y-u*d);h=s[1].getX()-s[3].getX(),d=s[1].getY()-s[3].getY(),f=(s[1].getX()+s[3].getX())/2,y=(s[1].getY()+s[3].getY())/2;let A=new he(f+u*h,y+u*d),T=new he(f-u*h,y-u*d);return[x,A,v,T]}isValid(s,a){return s>=0&&s<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(s){let a=je.round(s.getX()),l=je.round(s.getY());return this.isValid(a,l)}distancePoint(s,a){return je.distance(s.getX(),s.getY(),a.getX(),a.getY())}distanceResultPoint(s,a){return je.distance(s.getX(),s.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(O.truncDivision(this.nbLayers-4,8)+1)+15}}class vu{decode(s,a=null){let l=null,u=new w2(s.getBlackMatrix()),h=null,d=null;try{let v=u.detectMirror(!1);h=v.getPoints(),this.reportFoundResultPoints(a,h),d=new st().decode(v)}catch(v){l=v}if(d==null)try{let v=u.detectMirror(!0);h=v.getPoints(),this.reportFoundResultPoints(a,h),d=new st().decode(v)}catch(v){throw l??v}let f=new xt(d.getText(),d.getRawBytes(),d.getNumBits(),h,fe.AZTEC,R.currentTimeMillis()),y=d.getByteSegments();y!=null&&f.putMetadata(Qt.BYTE_SEGMENTS,y);let x=d.getECLevel();return x!=null&&f.putMetadata(Qt.ERROR_CORRECTION_LEVEL,x),f}reportFoundResultPoints(s,a){if(s!=null){let l=s.get(G.NEED_RESULT_POINT_CALLBACK);l!=null&&a.forEach((u,h,d)=>{l.foundPossibleResultPoint(u)})}}reset(){}}class PI extends mr{constructor(s=500){super(new vu,s)}}class Ft{decode(s,a){try{return this.doDecode(s,a)}catch{if(a&&a.get(G.TRY_HARDER)===!0&&s.isRotateSupported()){const h=s.rotateCounterClockwise(),d=this.doDecode(h,a),f=d.getResultMetadata();let y=270;f!==null&&f.get(Qt.ORIENTATION)===!0&&(y=y+f.get(Qt.ORIENTATION)%360),d.putMetadata(Qt.ORIENTATION,y);const x=d.getResultPoints();if(x!==null){const v=h.getHeight();for(let A=0;A<x.length;A++)x[A]=new he(v-x[A].getY()-1,x[A].getX())}return d}else throw new W}}reset(){}doDecode(s,a){const l=s.getWidth(),u=s.getHeight();let h=new B(l);const d=a&&a.get(G.TRY_HARDER)===!0,f=Math.max(1,u>>(d?8:5));let y;d?y=u:y=15;const x=Math.trunc(u/2);for(let v=0;v<y;v++){const A=Math.trunc((v+1)/2),T=(v&1)===0,D=x+f*(T?A:-A);if(D<0||D>=u)break;try{h=s.getBlackRow(D,h)}catch{continue}for(let P=0;P<2;P++){if(P===1&&(h.reverse(),a&&a.get(G.NEED_RESULT_POINT_CALLBACK)===!0)){const L=new Map;a.forEach((V,H)=>L.set(H,V)),L.delete(G.NEED_RESULT_POINT_CALLBACK),a=L}try{const L=this.decodeRow(D,h,a);if(P===1){L.putMetadata(Qt.ORIENTATION,180);const V=L.getResultPoints();V!==null&&(V[0]=new he(l-V[0].getX()-1,V[0].getY()),V[1]=new he(l-V[1].getX()-1,V[1].getY()))}return L}catch{}}}throw new W}static recordPattern(s,a,l){const u=l.length;for(let x=0;x<u;x++)l[x]=0;const h=s.getSize();if(a>=h)throw new W;let d=!s.get(a),f=0,y=a;for(;y<h;){if(s.get(y)!==d)l[f]++;else{if(++f===u)break;l[f]=1,d=!d}y++}if(!(f===u||f===u-1&&y===h))throw new W}static recordPatternInReverse(s,a,l){let u=l.length,h=s.get(a);for(;a>0&&u>=0;)s.get(--a)!==h&&(u--,h=!h);if(u>=0)throw new W;Ft.recordPattern(s,a+1,l)}static patternMatchVariance(s,a,l){const u=s.length;let h=0,d=0;for(let x=0;x<u;x++)h+=s[x],d+=a[x];if(h<d)return Number.POSITIVE_INFINITY;const f=h/d;l*=f;let y=0;for(let x=0;x<u;x++){const v=s[x],A=a[x]*f,T=v>A?v-A:A-v;if(T>l)return Number.POSITIVE_INFINITY;y+=T}return y/h}}class re extends Ft{static findStartPattern(s){const a=s.getSize(),l=s.getNextSet(0);let u=0,h=Int32Array.from([0,0,0,0,0,0]),d=l,f=!1;const y=6;for(let x=l;x<a;x++)if(s.get(x)!==f)h[u]++;else{if(u===y-1){let v=re.MAX_AVG_VARIANCE,A=-1;for(let T=re.CODE_START_A;T<=re.CODE_START_C;T++){const D=Ft.patternMatchVariance(h,re.CODE_PATTERNS[T],re.MAX_INDIVIDUAL_VARIANCE);D<v&&(v=D,A=T)}if(A>=0&&s.isRange(Math.max(0,d-(x-d)/2),d,!1))return Int32Array.from([d,x,A]);d+=h[0]+h[1],h=h.slice(2,h.length-1),h[u-1]=0,h[u]=0,u--}else u++;h[u]=1,f=!f}throw new W}static decodeCode(s,a,l){Ft.recordPattern(s,l,a);let u=re.MAX_AVG_VARIANCE,h=-1;for(let d=0;d<re.CODE_PATTERNS.length;d++){const f=re.CODE_PATTERNS[d],y=this.patternMatchVariance(a,f,re.MAX_INDIVIDUAL_VARIANCE);y<u&&(u=y,h=d)}if(h>=0)return h;throw new W}decodeRow(s,a,l){const u=l&&l.get(G.ASSUME_GS1)===!0,h=re.findStartPattern(a),d=h[2];let f=0;const y=new Uint8Array(20);y[f++]=d;let x;switch(d){case re.CODE_START_A:x=re.CODE_CODE_A;break;case re.CODE_START_B:x=re.CODE_CODE_B;break;case re.CODE_START_C:x=re.CODE_CODE_C;break;default:throw new j}let v=!1,A=!1,T="",D=h[0],P=h[1];const L=Int32Array.from([0,0,0,0,0,0]);let V=0,H=0,ee=d,te=0,q=!0,ke=!1,Te=!1;for(;!v;){const Fo=A;switch(A=!1,V=H,H=re.decodeCode(a,L,P),y[f++]=H,H!==re.CODE_STOP&&(q=!0),H!==re.CODE_STOP&&(te++,ee+=te*H),D=P,P+=L.reduce((uT,hT)=>uT+hT,0),H){case re.CODE_START_A:case re.CODE_START_B:case re.CODE_START_C:throw new j}switch(x){case re.CODE_CODE_A:if(H<64)Te===ke?T+=String.fromCharCode(" ".charCodeAt(0)+H):T+=String.fromCharCode(" ".charCodeAt(0)+H+128),Te=!1;else if(H<96)Te===ke?T+=String.fromCharCode(H-64):T+=String.fromCharCode(H+64),Te=!1;else switch(H!==re.CODE_STOP&&(q=!1),H){case re.CODE_FNC_1:u&&(T.length===0?T+="]C1":T+=String.fromCharCode(29));break;case re.CODE_FNC_2:case re.CODE_FNC_3:break;case re.CODE_FNC_4_A:!ke&&Te?(ke=!0,Te=!1):ke&&Te?(ke=!1,Te=!1):Te=!0;break;case re.CODE_SHIFT:A=!0,x=re.CODE_CODE_B;break;case re.CODE_CODE_B:x=re.CODE_CODE_B;break;case re.CODE_CODE_C:x=re.CODE_CODE_C;break;case re.CODE_STOP:v=!0;break}break;case re.CODE_CODE_B:if(H<96)Te===ke?T+=String.fromCharCode(" ".charCodeAt(0)+H):T+=String.fromCharCode(" ".charCodeAt(0)+H+128),Te=!1;else switch(H!==re.CODE_STOP&&(q=!1),H){case re.CODE_FNC_1:u&&(T.length===0?T+="]C1":T+=String.fromCharCode(29));break;case re.CODE_FNC_2:case re.CODE_FNC_3:break;case re.CODE_FNC_4_B:!ke&&Te?(ke=!0,Te=!1):ke&&Te?(ke=!1,Te=!1):Te=!0;break;case re.CODE_SHIFT:A=!0,x=re.CODE_CODE_A;break;case re.CODE_CODE_A:x=re.CODE_CODE_A;break;case re.CODE_CODE_C:x=re.CODE_CODE_C;break;case re.CODE_STOP:v=!0;break}break;case re.CODE_CODE_C:if(H<100)H<10&&(T+="0"),T+=H;else switch(H!==re.CODE_STOP&&(q=!1),H){case re.CODE_FNC_1:u&&(T.length===0?T+="]C1":T+=String.fromCharCode(29));break;case re.CODE_CODE_A:x=re.CODE_CODE_A;break;case re.CODE_CODE_B:x=re.CODE_CODE_B;break;case re.CODE_STOP:v=!0;break}break}Fo&&(x=x===re.CODE_CODE_A?re.CODE_CODE_B:re.CODE_CODE_A)}const Yn=P-D;if(P=a.getNextUnset(P),!a.isRange(P,Math.min(a.getSize(),P+(P-D)/2),!1))throw new W;if(ee-=te*V,ee%103!==V)throw new b;const Rr=T.length;if(Rr===0)throw new W;Rr>0&&q&&(x===re.CODE_CODE_C?T=T.substring(0,Rr-2):T=T.substring(0,Rr-1));const Kn=(h[1]+h[0])/2,it=D+Yn/2,un=y.length,nr=new Uint8Array(un);for(let Fo=0;Fo<un;Fo++)nr[Fo]=y[Fo];const Bo=[new he(Kn,s),new he(it,s)];return new xt(T,nr,0,Bo,fe.CODE_128,new Date().getTime())}}re.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],re.MAX_AVG_VARIANCE=.25,re.MAX_INDIVIDUAL_VARIANCE=.7,re.CODE_SHIFT=98,re.CODE_CODE_C=99,re.CODE_CODE_B=100,re.CODE_CODE_A=101,re.CODE_FNC_1=102,re.CODE_FNC_2=97,re.CODE_FNC_3=96,re.CODE_FNC_4_A=101,re.CODE_FNC_4_B=100,re.CODE_START_A=103,re.CODE_START_B=104,re.CODE_START_C=105,re.CODE_STOP=106;class Gt extends Ft{constructor(s=!1,a=!1){super(),this.usingCheckDigit=s,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,a,l){let u=this.counters;u.fill(0),this.decodeRowResult="";let h=Gt.findAsteriskPattern(a,u),d=a.getNextSet(h[1]),f=a.getSize(),y,x;do{Gt.recordPattern(a,d,u);let L=Gt.toNarrowWidePattern(u);if(L<0)throw new W;y=Gt.patternToChar(L),this.decodeRowResult+=y,x=d;for(let V of u)d+=V;d=a.getNextSet(d)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let v=0;for(let L of u)v+=L;let A=d-x-v;if(d!==f&&A*2<v)throw new W;if(this.usingCheckDigit){let L=this.decodeRowResult.length-1,V=0;for(let H=0;H<L;H++)V+=Gt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(H));if(this.decodeRowResult.charAt(L)!==Gt.ALPHABET_STRING.charAt(V%43))throw new b;this.decodeRowResult=this.decodeRowResult.substring(0,L)}if(this.decodeRowResult.length===0)throw new W;let T;this.extendedMode?T=Gt.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;let D=(h[1]+h[0])/2,P=x+v/2;return new xt(T,null,0,[new he(D,s),new he(P,s)],fe.CODE_39,new Date().getTime())}static findAsteriskPattern(s,a){let l=s.getSize(),u=s.getNextSet(0),h=0,d=u,f=!1,y=a.length;for(let x=u;x<l;x++)if(s.get(x)!==f)a[h]++;else{if(h===y-1){if(this.toNarrowWidePattern(a)===Gt.ASTERISK_ENCODING&&s.isRange(Math.max(0,d-Math.floor((x-d)/2)),d,!1))return[d,x];d+=a[0]+a[1],a.copyWithin(0,2,2+h-1),a[h-1]=0,a[h]=0,h--}else h++;a[h]=1,f=!f}throw new W}static toNarrowWidePattern(s){let a=s.length,l=0,u;do{let h=2147483647;for(let y of s)y<h&&y>l&&(h=y);l=h,u=0;let d=0,f=0;for(let y=0;y<a;y++){let x=s[y];x>l&&(f|=1<<a-1-y,u++,d+=x)}if(u===3){for(let y=0;y<a&&u>0;y++){let x=s[y];if(x>l&&(u--,x*2>=d))return-1}return f}}while(u>3);return-1}static patternToChar(s){for(let a=0;a<Gt.CHARACTER_ENCODINGS.length;a++)if(Gt.CHARACTER_ENCODINGS[a]===s)return Gt.ALPHABET_STRING.charAt(a);if(s===Gt.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(s){let a=s.length,l="";for(let u=0;u<a;u++){let h=s.charAt(u);if(h==="+"||h==="$"||h==="%"||h==="/"){let d=s.charAt(u+1),f="\0";switch(h){case"+":if(d>="A"&&d<="Z")f=String.fromCharCode(d.charCodeAt(0)+32);else throw new j;break;case"$":if(d>="A"&&d<="Z")f=String.fromCharCode(d.charCodeAt(0)-64);else throw new j;break;case"%":if(d>="A"&&d<="E")f=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")f=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")f=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")f=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")f="\0";else if(d==="V")f="@";else if(d==="W")f="`";else if(d==="X"||d==="Y"||d==="Z")f="";else throw new j;break;case"/":if(d>="A"&&d<="O")f=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")f=":";else throw new j;break}l+=f,u++}else l+=h}return l}}Gt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Gt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Gt.ASTERISK_ENCODING=148;class nt extends Ft{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,a,l){let u=this.decodeStart(a),h=this.decodeEnd(a),d=new Oe;nt.decodeMiddle(a,u[1],h[0],d);let f=d.toString(),y=null;l!=null&&(y=l.get(G.ALLOWED_LENGTHS)),y==null&&(y=nt.DEFAULT_ALLOWED_LENGTHS);let x=f.length,v=!1,A=0;for(let P of y){if(x===P){v=!0;break}P>A&&(A=P)}if(!v&&x>A&&(v=!0),!v)throw new j;const T=[new he(u[1],s),new he(h[0],s)];return new xt(f,null,0,T,fe.ITF,new Date().getTime())}static decodeMiddle(s,a,l,u){let h=new Int32Array(10),d=new Int32Array(5),f=new Int32Array(5);for(h.fill(0),d.fill(0),f.fill(0);a<l;){Ft.recordPattern(s,a,h);for(let x=0;x<5;x++){let v=2*x;d[x]=h[v],f[x]=h[v+1]}let y=nt.decodeDigit(d);u.append(y.toString()),y=this.decodeDigit(f),u.append(y.toString()),h.forEach(function(x){a+=x})}}decodeStart(s){let a=nt.skipWhiteSpace(s),l=nt.findGuardPattern(s,a,nt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(s,l[0]),l}validateQuietZone(s,a){let l=this.narrowLineWidth*10;l=l<a?l:a;for(let u=a-1;l>0&&u>=0&&!s.get(u);u--)l--;if(l!==0)throw new W}static skipWhiteSpace(s){const a=s.getSize(),l=s.getNextSet(0);if(l===a)throw new W;return l}decodeEnd(s){s.reverse();try{let a=nt.skipWhiteSpace(s),l;try{l=nt.findGuardPattern(s,a,nt.END_PATTERN_REVERSED[0])}catch(h){h instanceof W&&(l=nt.findGuardPattern(s,a,nt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,l[0]);let u=l[0];return l[0]=s.getSize()-l[1],l[1]=s.getSize()-u,l}finally{s.reverse()}}static findGuardPattern(s,a,l){let u=l.length,h=new Int32Array(u),d=s.getSize(),f=!1,y=0,x=a;h.fill(0);for(let v=a;v<d;v++)if(s.get(v)!==f)h[y]++;else{if(y===u-1){if(Ft.patternMatchVariance(h,l,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return[x,v];x+=h[0]+h[1],R.arraycopy(h,2,h,0,y-1),h[y-1]=0,h[y]=0,y--}else y++;h[y]=1,f=!f}throw new W}static decodeDigit(s){let a=nt.MAX_AVG_VARIANCE,l=-1,u=nt.PATTERNS.length;for(let h=0;h<u;h++){let d=nt.PATTERNS[h],f=Ft.patternMatchVariance(s,d,nt.MAX_INDIVIDUAL_VARIANCE);f<a?(a=f,l=h):f===a&&(l=-1)}if(l>=0)return l%10;throw new W}}nt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],nt.MAX_AVG_VARIANCE=.38,nt.MAX_INDIVIDUAL_VARIANCE=.5,nt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],nt.START_PATTERN=Int32Array.from([1,1,1,1]),nt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class It extends Ft{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let a=!1,l,u=0,h=Int32Array.from([0,0,0]);for(;!a;){h=Int32Array.from([0,0,0]),l=It.findGuardPattern(s,u,!1,this.START_END_PATTERN,h);let d=l[0];u=l[1];let f=d-(u-d);f>=0&&(a=s.isRange(f,d,!1))}return l}static checkChecksum(s){return It.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let a=s.length;if(a===0)return!1;let l=parseInt(s.charAt(a-1),10);return It.getStandardUPCEANChecksum(s.substring(0,a-1))===l}static getStandardUPCEANChecksum(s){let a=s.length,l=0;for(let u=a-1;u>=0;u-=2){let h=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new j;l+=h}l*=3;for(let u=a-2;u>=0;u-=2){let h=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new j;l+=h}return(1e3-l)%10}static decodeEnd(s,a){return It.findGuardPattern(s,a,!1,It.START_END_PATTERN,new Int32Array(It.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,a,l,u){return this.findGuardPattern(s,a,l,u,new Int32Array(u.length))}static findGuardPattern(s,a,l,u,h){let d=s.getSize();a=l?s.getNextUnset(a):s.getNextSet(a);let f=0,y=a,x=u.length,v=l;for(let A=a;A<d;A++)if(s.get(A)!==v)h[f]++;else{if(f===x-1){if(Ft.patternMatchVariance(h,u,It.MAX_INDIVIDUAL_VARIANCE)<It.MAX_AVG_VARIANCE)return Int32Array.from([y,A]);y+=h[0]+h[1];let T=h.slice(2,h.length-1);for(let D=0;D<f-1;D++)h[D]=T[D];h[f-1]=0,h[f]=0,f--}else f++;h[f]=1,v=!v}throw new W}static decodeDigit(s,a,l,u){this.recordPattern(s,l,a);let h=this.MAX_AVG_VARIANCE,d=-1,f=u.length;for(let y=0;y<f;y++){let x=u[y],v=Ft.patternMatchVariance(a,x,It.MAX_INDIVIDUAL_VARIANCE);v<h&&(h=v,d=y)}if(d>=0)return d;throw new W}}It.MAX_AVG_VARIANCE=.48,It.MAX_INDIVIDUAL_VARIANCE=.7,It.START_END_PATTERN=Int32Array.from([1,1,1]),It.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),It.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),It.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class al{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,a,l){let u=this.decodeRowStringBuffer,h=this.decodeMiddle(a,l,u),d=u.toString(),f=al.parseExtensionString(d),y=[new he((l[0]+l[1])/2,s),new he(h,s)],x=new xt(d,null,0,y,fe.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&x.putAllMetadata(f),x}decodeMiddle(s,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=s.getSize(),d=a[1],f=0;for(let x=0;x<5&&d<h;x++){let v=It.decodeDigit(s,u,d,It.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+v%10);for(let A of u)d+=A;v>=10&&(f|=1<<4-x),x!==4&&(d=s.getNextSet(d),d=s.getNextUnset(d))}if(l.length!==5)throw new W;let y=this.determineCheckDigit(f);if(al.extensionChecksum(l.toString())!==y)throw new W;return d}static extensionChecksum(s){let a=s.length,l=0;for(let u=a-2;u>=0;u-=2)l+=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);l*=3;for(let u=a-1;u>=0;u-=2)l+=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);return l*=3,l%10}determineCheckDigit(s){for(let a=0;a<10;a++)if(s===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new W}static parseExtensionString(s){if(s.length!==5)return null;let a=al.parseExtension5String(s);return a==null?null:new Map([[Qt.SUGGESTED_PRICE,a]])}static parseExtension5String(s){let a;switch(s.charAt(0)){case"0":a="";break;case"5":a="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let l=parseInt(s.substring(1)),u=(l/100).toString(),h=l%100,d=h<10?"0"+h:h.toString();return a+u+"."+d}}class Bf{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,a,l){let u=this.decodeRowStringBuffer,h=this.decodeMiddle(a,l,u),d=u.toString(),f=Bf.parseExtensionString(d),y=[new he((l[0]+l[1])/2,s),new he(h,s)],x=new xt(d,null,0,y,fe.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&x.putAllMetadata(f),x}decodeMiddle(s,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=s.getSize(),d=a[1],f=0;for(let y=0;y<2&&d<h;y++){let x=It.decodeDigit(s,u,d,It.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+x%10);for(let v of u)d+=v;x>=10&&(f|=1<<1-y),y!==1&&(d=s.getNextSet(d),d=s.getNextUnset(d))}if(l.length!==2)throw new W;if(parseInt(l.toString())%4!==f)throw new W;return d}static parseExtensionString(s){return s.length!==2?null:new Map([[Qt.ISSUE_NUMBER,parseInt(s)]])}}class E2{static decodeRow(s,a,l){let u=It.findGuardPattern(a,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new al().decodeRow(s,a,u)}catch{return new Bf().decodeRow(s,a,u)}}}E2.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ge extends It{constructor(){super(),this.decodeRowStringBuffer="",Ge.L_AND_G_PATTERNS=Ge.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let a=Ge.L_PATTERNS[s-10],l=new Int32Array(a.length);for(let u=0;u<a.length;u++)l[u]=a[a.length-u-1];Ge.L_AND_G_PATTERNS[s]=l}}decodeRow(s,a,l){let u=Ge.findStartGuardPattern(a),h=l==null?null:l.get(G.NEED_RESULT_POINT_CALLBACK);if(h!=null){const q=new he((u[0]+u[1])/2,s);h.foundPossibleResultPoint(q)}let d=this.decodeMiddle(a,u,this.decodeRowStringBuffer),f=d.rowOffset,y=d.resultString;if(h!=null){const q=new he(f,s);h.foundPossibleResultPoint(q)}let x=this.decodeEnd(a,f);if(h!=null){const q=new he((x[0]+x[1])/2,s);h.foundPossibleResultPoint(q)}let v=x[1],A=v+(v-x[0]);if(A>=a.getSize()||!a.isRange(v,A,!1))throw new W;let T=y.toString();if(T.length<8)throw new j;if(!Ge.checkChecksum(T))throw new b;let D=(u[1]+u[0])/2,P=(x[1]+x[0])/2,L=this.getBarcodeFormat(),V=[new he(D,s),new he(P,s)],H=new xt(T,null,0,V,L,new Date().getTime()),ee=0;try{let q=E2.decodeRow(s,a,x[1]);H.putMetadata(Qt.UPC_EAN_EXTENSION,q.getText()),H.putAllMetadata(q.getResultMetadata()),H.addResultPoints(q.getResultPoints()),ee=q.getText().length}catch{}let te=l==null?null:l.get(G.ALLOWED_EAN_EXTENSIONS);if(te!=null){let q=!1;for(let ke in te)if(ee.toString()===ke){q=!0;break}if(!q)throw new W}return H}decodeEnd(s,a){return Ge.findGuardPattern(s,a,!1,Ge.START_END_PATTERN,new Int32Array(Ge.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return Ge.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let a=s.length;if(a===0)return!1;let l=parseInt(s.charAt(a-1),10);return Ge.getStandardUPCEANChecksum(s.substring(0,a-1))===l}static getStandardUPCEANChecksum(s){let a=s.length,l=0;for(let u=a-1;u>=0;u-=2){let h=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new j;l+=h}l*=3;for(let u=a-2;u>=0;u-=2){let h=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new j;l+=h}return(1e3-l)%10}}class js extends Ge{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=s.getSize(),d=a[1],f=0;for(let x=0;x<6&&d<h;x++){let v=Ge.decodeDigit(s,u,d,Ge.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+v%10);for(let A of u)d+=A;v>=10&&(f|=1<<5-x)}l=js.determineFirstDigit(l,f),d=Ge.findGuardPattern(s,d,!0,Ge.MIDDLE_PATTERN,new Int32Array(Ge.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&d<h;x++){let v=Ge.decodeDigit(s,u,d,Ge.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+v);for(let A of u)d+=A}return{rowOffset:d,resultString:l}}getBarcodeFormat(){return fe.EAN_13}static determineFirstDigit(s,a){for(let l=0;l<10;l++)if(a===this.FIRST_DIGIT_ENCODINGS[l])return s=String.fromCharCode("0".charCodeAt(0)+l)+s,s;throw new W}}js.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class v2 extends Ge{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,a,l){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=s.getSize(),d=a[1];for(let y=0;y<4&&d<h;y++){let x=Ge.decodeDigit(s,u,d,Ge.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+x);for(let v of u)d+=v}d=Ge.findGuardPattern(s,d,!0,Ge.MIDDLE_PATTERN,new Int32Array(Ge.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&d<h;y++){let x=Ge.decodeDigit(s,u,d,Ge.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+x);for(let v of u)d+=v}return{rowOffset:d,resultString:l}}getBarcodeFormat(){return fe.EAN_8}}class _2 extends Ge{constructor(){super(...arguments),this.ean13Reader=new js}getBarcodeFormat(){return fe.UPC_A}decode(s,a){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,a,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,a,l))}decodeMiddle(s,a,l){return this.ean13Reader.decodeMiddle(s,a,l)}maybeReturnResult(s){let a=s.getText();if(a.charAt(0)==="0"){let l=new xt(a.substring(1),null,null,s.getResultPoints(),fe.UPC_A);return s.getResultMetadata()!=null&&l.putAllMetadata(s.getResultMetadata()),l}else throw new W}reset(){this.ean13Reader.reset()}}class Nr extends Ge{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,a,l){const u=this.decodeMiddleCounters.map(x=>x);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const h=s.getSize();let d=a[1],f=0;for(let x=0;x<6&&d<h;x++){const v=Nr.decodeDigit(s,u,d,Nr.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+v%10);for(let A of u)d+=A;v>=10&&(f|=1<<5-x)}let y=Nr.determineNumSysAndCheckDigit(l,f);return{rowOffset:d,resultString:y}}decodeEnd(s,a){return Nr.findGuardPatternWithoutCounters(s,a,!0,Nr.MIDDLE_END_PATTERN)}checkChecksum(s){return Ge.checkChecksum(Nr.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,a){for(let l=0;l<=1;l++)for(let u=0;u<10;u++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][u]){let h=String.fromCharCode("0".charCodeAt(0)+l),d=String.fromCharCode("0".charCodeAt(0)+u);return h+s+d}throw W.getNotFoundInstance()}getBarcodeFormat(){return fe.UPC_E}static convertUPCEtoUPCA(s){const a=s.slice(1,7).split("").map(h=>h.charCodeAt(0)),l=new Oe;l.append(s.charAt(0));let u=a[5];switch(u){case 0:case 1:case 2:l.appendChars(a,0,2),l.append(u),l.append("0000"),l.appendChars(a,2,3);break;case 3:l.appendChars(a,0,3),l.append("00000"),l.appendChars(a,3,2);break;case 4:l.appendChars(a,0,4),l.append("00000"),l.append(a[4]);break;default:l.appendChars(a,0,5),l.append("0000"),l.append(u);break}return s.length>=8&&l.append(s.charAt(7)),l.toString()}}Nr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Nr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ff extends Ft{constructor(s){super();let a=s==null?null:s.get(G.POSSIBLE_FORMATS),l=[];r(a)?(l.push(new js),l.push(new _2),l.push(new v2),l.push(new Nr)):(a.indexOf(fe.EAN_13)>-1&&l.push(new js),a.indexOf(fe.UPC_A)>-1&&l.push(new _2),a.indexOf(fe.EAN_8)>-1&&l.push(new v2),a.indexOf(fe.UPC_E)>-1&&l.push(new Nr)),this.readers=l}decodeRow(s,a,l){for(let u of this.readers)try{const h=u.decodeRow(s,a,l),d=h.getBarcodeFormat()===fe.EAN_13&&h.getText().charAt(0)==="0",f=l==null?null:l.get(G.POSSIBLE_FORMATS),y=f==null||f.includes(fe.UPC_A);if(d&&y){const x=h.getRawBytes(),v=new xt(h.getText().substring(1),x,x?x.length:null,h.getResultPoints(),fe.UPC_A);return v.putAllMetadata(h.getResultMetadata()),v}return h}catch{}throw new W}reset(){for(let s of this.readers)s.reset()}}class wn extends Ft{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,a){for(let l=0;l<a.length;l++)if(Ft.patternMatchVariance(s,a[l],wn.MAX_INDIVIDUAL_VARIANCE)<wn.MAX_AVG_VARIANCE)return l;throw new W}static count(s){return je.sum(new Int32Array(s))}static increment(s,a){let l=0,u=a[0];for(let h=1;h<s.length;h++)a[h]>u&&(u=a[h],l=h);s[l]++}static decrement(s,a){let l=0,u=a[0];for(let h=1;h<s.length;h++)a[h]<u&&(u=a[h],l=h);s[l]--}static isFinderPattern(s){let a=s[0]+s[1],l=a+s[2]+s[3],u=a/l;if(u>=wn.MIN_FINDER_PATTERN_RATIO&&u<=wn.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let f of s)f>d&&(d=f),f<h&&(h=f);return d<10*h}return!1}}wn.MAX_AVG_VARIANCE=.2,wn.MAX_INDIVIDUAL_VARIANCE=.45,wn.MIN_FINDER_PATTERN_RATIO=9.5/12,wn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ro{constructor(s,a){this.value=s,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof Ro))return!1;const a=s;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class _u{constructor(s,a,l,u,h){this.value=s,this.startEnd=a,this.value=s,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new he(l,h)),this.resultPoints.push(new he(u,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof _u))return!1;const a=s;return this.value===a.value}hashCode(){return this.value}}class Wr{constructor(){}static getRSSvalue(s,a,l){let u=0;for(let y of s)u+=y;let h=0,d=0,f=s.length;for(let y=0;y<f-1;y++){let x;for(x=1,d|=1<<y;x<s[y];x++,d&=~(1<<y)){let v=Wr.combins(u-x-1,f-y-2);if(l&&d===0&&u-x-(f-y-1)>=f-y-1&&(v-=Wr.combins(u-x-(f-y),f-y-2)),f-y-1>1){let A=0;for(let T=u-x-(f-y-2);T>a;T--)A+=Wr.combins(u-x-T-1,f-y-3);v-=A*(f-1-y)}else u-x>a&&v--;h+=v}u-=x}return h}static combins(s,a){let l,u;s-a>a?(u=a,l=s-a):(u=s-a,l=a);let h=1,d=1;for(let f=s;f>l;f--)h*=f,d<=u&&(h/=d,d++);for(;d<=u;)h/=d,d++;return h}}class LI{static buildBitArray(s){let a=s.length*2-1;s[s.length-1].getRightChar()==null&&(a-=1);let l=12*a,u=new B(l),h=0,f=s[0].getRightChar().getValue();for(let y=11;y>=0;--y)f&1<<y&&u.set(h),h++;for(let y=1;y<s.length;++y){let x=s[y],v=x.getLeftChar().getValue();for(let A=11;A>=0;--A)v&1<<A&&u.set(h),h++;if(x.getRightChar()!=null){let A=x.getRightChar().getValue();for(let T=11;T>=0;--T)A&1<<T&&u.set(h),h++}}return u}}class Vs{constructor(s,a){a?this.decodedInformation=null:(this.finished=s,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class jf{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Gn extends jf{constructor(s,a){super(s),this.value=a}getValue(){return this.value}isFNC1(){return this.value===Gn.FNC1}}Gn.FNC1="$";class Us extends jf{constructor(s,a,l){super(s),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class yr extends jf{constructor(s,a,l){if(super(s),a<0||a>10||l<0||l>10)throw new j;this.firstDigit=a,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===yr.FNC1}isSecondDigitFNC1(){return this.secondDigit===yr.FNC1}isAnyFNC1(){return this.firstDigit===yr.FNC1||this.secondDigit===yr.FNC1}}yr.FNC1=10;class ae{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new W;let a=s.substring(0,2);for(let h of ae.TWO_DIGIT_DATA_LENGTH)if(h[0]===a)return h[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(2,h[2],s):ae.processFixedAI(2,h[1],s);if(s.length<3)throw new W;let l=s.substring(0,3);for(let h of ae.THREE_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(3,h[2],s):ae.processFixedAI(3,h[1],s);for(let h of ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(4,h[2],s):ae.processFixedAI(4,h[1],s);if(s.length<4)throw new W;let u=s.substring(0,4);for(let h of ae.FOUR_DIGIT_DATA_LENGTH)if(h[0]===u)return h[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(4,h[2],s):ae.processFixedAI(4,h[1],s);throw new W}static processFixedAI(s,a,l){if(l.length<s)throw new W;let u=l.substring(0,s);if(l.length<s+a)throw new W;let h=l.substring(s,s+a),d=l.substring(s+a),f="("+u+")"+h,y=ae.parseFieldsInGeneralPurpose(d);return y==null?f:f+y}static processVariableAI(s,a,l){let u=l.substring(0,s),h;l.length<s+a?h=l.length:h=s+a;let d=l.substring(s,h),f=l.substring(h),y="("+u+")"+d,x=ae.parseFieldsInGeneralPurpose(f);return x==null?y:y+x}}ae.VARIABLE_LENGTH=[],ae.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ae.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ae.VARIABLE_LENGTH,20],["22",ae.VARIABLE_LENGTH,29],["30",ae.VARIABLE_LENGTH,8],["37",ae.VARIABLE_LENGTH,8],["90",ae.VARIABLE_LENGTH,30],["91",ae.VARIABLE_LENGTH,30],["92",ae.VARIABLE_LENGTH,30],["93",ae.VARIABLE_LENGTH,30],["94",ae.VARIABLE_LENGTH,30],["95",ae.VARIABLE_LENGTH,30],["96",ae.VARIABLE_LENGTH,30],["97",ae.VARIABLE_LENGTH,3],["98",ae.VARIABLE_LENGTH,30],["99",ae.VARIABLE_LENGTH,30]],ae.THREE_DIGIT_DATA_LENGTH=[["240",ae.VARIABLE_LENGTH,30],["241",ae.VARIABLE_LENGTH,30],["242",ae.VARIABLE_LENGTH,6],["250",ae.VARIABLE_LENGTH,30],["251",ae.VARIABLE_LENGTH,30],["253",ae.VARIABLE_LENGTH,17],["254",ae.VARIABLE_LENGTH,20],["400",ae.VARIABLE_LENGTH,30],["401",ae.VARIABLE_LENGTH,30],["402",17],["403",ae.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ae.VARIABLE_LENGTH,20],["421",ae.VARIABLE_LENGTH,15],["422",3],["423",ae.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ae.VARIABLE_LENGTH,15],["391",ae.VARIABLE_LENGTH,18],["392",ae.VARIABLE_LENGTH,15],["393",ae.VARIABLE_LENGTH,18],["703",ae.VARIABLE_LENGTH,30]],ae.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ae.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ae.VARIABLE_LENGTH,20],["8003",ae.VARIABLE_LENGTH,30],["8004",ae.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ae.VARIABLE_LENGTH,30],["8008",ae.VARIABLE_LENGTH,12],["8018",18],["8020",ae.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ae.VARIABLE_LENGTH,70],["8200",ae.VARIABLE_LENGTH,70]];class Oo{constructor(s){this.buffer=new Oe,this.information=s}decodeAllCodes(s,a){let l=a,u=null;do{let h=this.decodeGeneralPurposeField(l,u),d=ae.parseFieldsInGeneralPurpose(h.getNewString());if(d!=null&&s.append(d),h.isRemaining()?u=""+h.getRemainingValue():u=null,l===h.getNewPosition())break;l=h.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let a=s;a<s+3;++a)if(this.information.get(a))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(s,4);return h===0?new yr(this.information.getSize(),yr.FNC1,yr.FNC1):new yr(this.information.getSize(),h-1,yr.FNC1)}let a=this.extractNumericValueFromBitArray(s,7),l=(a-8)/11,u=(a-8)%11;return new yr(s+7,l,u)}extractNumericValueFromBitArray(s,a){return Oo.extractNumericValueFromBitArray(this.information,s,a)}static extractNumericValueFromBitArray(s,a,l){let u=0;for(let h=0;h<l;++h)s.get(a+h)&&(u|=1<<l-h-1);return u}decodeGeneralPurposeField(s,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(s);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Us(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Us(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,a;do{let l=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),s=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),s=a.isFinished()):(a=this.parseNumericBlock(),s=a.isFinished()),!(l!==this.current.getPosition())&&!s)break}while(!s);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let a;return s.isSecondDigitFNC1()?a=new Us(this.current.getPosition(),this.buffer.toString()):a=new Us(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Vs(!0,a)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let a=new Us(this.current.getPosition(),this.buffer.toString());return new Vs(!0,a)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Vs(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let a=new Us(this.current.getPosition(),this.buffer.toString());return new Vs(!0,a)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Vs(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let a=new Us(this.current.getPosition(),this.buffer.toString());return new Vs(!0,a)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Vs(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(s,5);if(a>=5&&a<16)return!0;if(s+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<116)return!0;if(s+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,8);return u>=232&&u<253}decodeIsoIec646(s){let a=this.extractNumericValueFromBitArray(s,5);if(a===15)return new Gn(s+5,Gn.FNC1);if(a>=5&&a<15)return new Gn(s+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<90)return new Gn(s+7,""+(l+1));if(l>=90&&l<116)return new Gn(s+7,""+(l+7));let u=this.extractNumericValueFromBitArray(s,8),h;switch(u){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new j}return new Gn(s+8,h)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(s,5);if(a>=5&&a<16)return!0;if(s+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,6);return l>=16&&l<63}decodeAlphanumeric(s){let a=this.extractNumericValueFromBitArray(s,5);if(a===15)return new Gn(s+5,Gn.FNC1);if(a>=5&&a<15)return new Gn(s+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(s,6);if(l>=32&&l<58)return new Gn(s+6,""+(l+33));let u;switch(l){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new Hr("Decoding invalid alphanumeric value: "+l)}return new Gn(s+6,u)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let a=0;a<5&&a+s<this.information.getSize();++a)if(a===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+a))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let a=s;a<s+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let a=0;a<4&&a+s<this.information.getSize();++a)if(this.information.get(s+a))return!1;return!0}}class Vf{constructor(s){this.information=s,this.generalDecoder=new Oo(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class $n extends Vf{constructor(s){super(s)}encodeCompressedGtin(s,a){s.append("(01)");let l=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,a,l)}encodeCompressedGtinWithoutAI(s,a,l){for(let u=0;u<4;++u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*u,10);h/100===0&&s.append("0"),h/10===0&&s.append("0"),s.append(h)}$n.appendCheckDigit(s,l)}static appendCheckDigit(s,a){let l=0;for(let u=0;u<13;u++){let h=s.charAt(u+a).charCodeAt(0)-"0".charCodeAt(0);l+=u&1?h:3*h}l=10-l%10,l===10&&(l=0),s.append(l)}}$n.GTIN_SIZE=40;class ko extends $n{constructor(s){super(s)}parseInformation(){let s=new Oe;s.append("(01)");let a=s.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(ko.HEADER_SIZE,4);return s.append(l),this.encodeCompressedGtinWithoutAI(s,ko.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(s,ko.HEADER_SIZE+44)}}ko.HEADER_SIZE=1+1+2;class Cu extends Vf{constructor(s){super(s)}parseInformation(){let s=new Oe;return this.getGeneralDecoder().decodeAllCodes(s,Cu.HEADER_SIZE)}}Cu.HEADER_SIZE=2+1+2;class Au extends $n{constructor(s){super(s)}encodeCompressedWeight(s,a,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(a,l);this.addWeightCode(s,u);let h=this.checkWeight(u),d=1e5;for(let f=0;f<5;++f)h/d===0&&s.append("0"),d/=10;s.append(h)}}class Gr extends Au{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=Gr.HEADER_SIZE+Au.GTIN_SIZE+Gr.WEIGHT_SIZE)throw new W;let s=new Oe;return this.encodeCompressedGtin(s,Gr.HEADER_SIZE),this.encodeCompressedWeight(s,Gr.HEADER_SIZE+Au.GTIN_SIZE,Gr.WEIGHT_SIZE),s.toString()}}Gr.HEADER_SIZE=4+1,Gr.WEIGHT_SIZE=15;class BI extends Gr{constructor(s){super(s)}addWeightCode(s,a){s.append("(3103)")}checkWeight(s){return s}}class FI extends Gr{constructor(s){super(s)}addWeightCode(s,a){a<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class $r extends $n{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<$r.HEADER_SIZE+$n.GTIN_SIZE)throw new W;let s=new Oe;this.encodeCompressedGtin(s,$r.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray($r.HEADER_SIZE+$n.GTIN_SIZE,$r.LAST_DIGIT_SIZE);s.append("(392"),s.append(a),s.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField($r.HEADER_SIZE+$n.GTIN_SIZE+$r.LAST_DIGIT_SIZE,null);return s.append(l.getNewString()),s.toString()}}$r.HEADER_SIZE=5+1+2,$r.LAST_DIGIT_SIZE=2;class Pn extends $n{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Pn.HEADER_SIZE+$n.GTIN_SIZE)throw new W;let s=new Oe;this.encodeCompressedGtin(s,Pn.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Pn.HEADER_SIZE+$n.GTIN_SIZE,Pn.LAST_DIGIT_SIZE);s.append("(393"),s.append(a),s.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Pn.HEADER_SIZE+$n.GTIN_SIZE+Pn.LAST_DIGIT_SIZE,Pn.FIRST_THREE_DIGITS_SIZE);l/100==0&&s.append("0"),l/10==0&&s.append("0"),s.append(l);let u=this.getGeneralDecoder().decodeGeneralPurposeField(Pn.HEADER_SIZE+$n.GTIN_SIZE+Pn.LAST_DIGIT_SIZE+Pn.FIRST_THREE_DIGITS_SIZE,null);return s.append(u.getNewString()),s.toString()}}Pn.HEADER_SIZE=5+1+2,Pn.LAST_DIGIT_SIZE=2,Pn.FIRST_THREE_DIGITS_SIZE=10;class gt extends Au{constructor(s,a,l){super(s),this.dateCode=l,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=gt.HEADER_SIZE+gt.GTIN_SIZE+gt.WEIGHT_SIZE+gt.DATE_SIZE)throw new W;let s=new Oe;return this.encodeCompressedGtin(s,gt.HEADER_SIZE),this.encodeCompressedWeight(s,gt.HEADER_SIZE+gt.GTIN_SIZE,gt.WEIGHT_SIZE),this.encodeCompressedDate(s,gt.HEADER_SIZE+gt.GTIN_SIZE+gt.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a,gt.DATE_SIZE);if(l==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let u=l%32;l/=32;let h=l%12+1;l/=12;let d=l;d/10==0&&s.append("0"),s.append(d),h/10==0&&s.append("0"),s.append(h),u/10==0&&s.append("0"),s.append(u)}addWeightCode(s,a){s.append("("),s.append(this.firstAIdigits),s.append(a/1e5),s.append(")")}checkWeight(s){return s%1e5}}gt.HEADER_SIZE=7+1,gt.WEIGHT_SIZE=20,gt.DATE_SIZE=16;function C2(C){try{if(C.get(1))return new ko(C);if(!C.get(2))return new Cu(C);switch(Oo.extractNumericValueFromBitArray(C,1,4)){case 4:return new BI(C);case 5:return new FI(C)}switch(Oo.extractNumericValueFromBitArray(C,1,5)){case 12:return new $r(C);case 13:return new Pn(C)}switch(Oo.extractNumericValueFromBitArray(C,1,7)){case 56:return new gt(C,"310","11");case 57:return new gt(C,"320","11");case 58:return new gt(C,"310","13");case 59:return new gt(C,"320","13");case 60:return new gt(C,"310","15");case 61:return new gt(C,"320","15");case 62:return new gt(C,"310","17");case 63:return new gt(C,"320","17")}}catch(s){throw console.log(s),new Hr("unknown decoder: "+C)}}class Hi{constructor(s,a,l,u){this.leftchar=s,this.rightchar=a,this.finderpattern=l,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,a){return s instanceof Hi?Hi.equalsOrNull(s.leftchar,a.leftchar)&&Hi.equalsOrNull(s.rightchar,a.rightchar)&&Hi.equalsOrNull(s.finderpattern,a.finderpattern):!1}static equalsOrNull(s,a){return s===null?a===null:Hi.equals(s,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Uf{constructor(s,a,l){this.pairs=s,this.rowNumber=a,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,a){return s instanceof Uf?this.checkEqualitity(s,a)&&s.wasReversed===a.wasReversed:!1}checkEqualitity(s,a){if(!s||!a)return;let l;return s.forEach((u,h)=>{a.forEach(d=>{u.getLeftChar().getValue()===d.getLeftChar().getValue()&&u.getRightChar().getValue()===d.getRightChar().getValue()&&u.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(l=!0)})}),l}}class K extends wn{constructor(s){super(...arguments),this.pairs=new Array(K.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,a,l){this.pairs.length=0,this.startFromEven=!1;try{return K.constructResult(this.decodeRow2pairs(s,a))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,K.constructResult(this.decodeRow2pairs(s,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,a){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,s))}catch(h){if(h instanceof W){if(!this.pairs.length)throw new W;l=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(s,!1),u){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new W}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return s&&(this.rows=this.rows.reverse()),a}checkRows(s,a){for(let l=a;l<this.rows.length;l++){let u=this.rows[l];this.pairs.length=0;for(let d of s)this.pairs.push(d.getPairs());if(this.pairs.push(u.getPairs()),!K.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(s);h.push(u);try{return this.checkRows(h,l+1)}catch(d){this.verbose&&console.log(d)}}throw new W}static isValidSequence(s){for(let a of K.FINDER_PATTERN_SEQUENCES){if(s.length>a.length)continue;let l=!0;for(let u=0;u<s.length;u++)if(s[u].getFinderPattern().getValue()!=a[u]){l=!1;break}if(l)return!0}return!1}storeRow(s,a){let l=0,u=!1,h=!1;for(;l<this.rows.length;){let d=this.rows[l];if(d.getRowNumber()>s){h=d.isEquivalent(this.pairs);break}u=d.isEquivalent(this.pairs),l++}h||u||K.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Uf(this.pairs,s,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,a){for(let l of a)if(l.getPairs().length!==s.length){for(let u of l.getPairs())for(let h of s)if(Hi.equals(u,h))break}}static isPartialRow(s,a){for(let l of a){let u=!0;for(let h of s){let d=!1;for(let f of l.getPairs())if(h.equals(f)){d=!0;break}if(!d){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(s){let a=LI.buildBitArray(s),u=C2(a).parseInformation(),h=s[0].getFinderPattern().getResultPoints(),d=s[s.length-1].getFinderPattern().getResultPoints(),f=[h[0],h[1],d[0],d[1]];return new xt(u,null,null,f,fe.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),a=s.getLeftChar(),l=s.getRightChar();if(l==null)return!1;let u=l.getChecksumPortion(),h=2;for(let f=1;f<this.pairs.size();++f){let y=this.pairs.get(f);u+=y.getLeftChar().getChecksumPortion(),h++;let x=y.getRightChar();x!=null&&(u+=x.getChecksumPortion(),h++)}return u%=211,211*(h-4)+u==a.getValue()}static getNextSecondBar(s,a){let l;return s.get(a)?(l=s.getNextUnset(a),l=s.getNextSet(l)):(l=s.getNextSet(a),l=s.getNextUnset(l)),l}retrieveNextPair(s,a,l){let u=a.length%2==0;this.startFromEven&&(u=!u);let h,d=!0,f=-1;do this.findNextPair(s,a,f),h=this.parseFoundFinderPattern(s,l,u),h==null?f=K.getNextSecondBar(s,this.startEnd[0]):d=!1;while(d);let y=this.decodeDataCharacter(s,h,u,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new W;let x;try{x=this.decodeDataCharacter(s,h,u,!1)}catch(v){x=null,this.verbose&&console.log(v)}return new Hi(y,x,h,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,a,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=s.getSize(),d;l>=0?d=l:this.isEmptyPair(a)?d=0:d=a[a.length-1].getFinderPattern().getStartEnd()[1];let f=a.length%2!=0;this.startFromEven&&(f=!f);let y=!1;for(;d<h&&(y=!s.get(d),!!y);)d++;let x=0,v=d;for(let A=d;A<h;A++)if(s.get(A)!=y)u[x]++;else{if(x==3){if(f&&K.reverseCounters(u),K.isFinderPattern(u)){this.startEnd[0]=v,this.startEnd[1]=A;return}f&&K.reverseCounters(u),v+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,x--}else x++;u[x]=1,y=!y}throw new W}static reverseCounters(s){let a=s.length;for(let l=0;l<a/2;++l){let u=s[l];s[l]=s[a-l-1],s[a-l-1]=u}}parseFoundFinderPattern(s,a,l){let u,h,d;if(l){let x=this.startEnd[0]-1;for(;x>=0&&!s.get(x);)x--;x++,u=this.startEnd[0]-x,h=x,d=this.startEnd[1]}else h=this.startEnd[0],d=s.getNextUnset(this.startEnd[1]+1),u=d-this.startEnd[1];let f=this.getDecodeFinderCounters();R.arraycopy(f,0,f,1,f.length-1),f[0]=u;let y;try{y=this.parseFinderValue(f,K.FINDER_PATTERNS)}catch{return null}return new _u(y,[h,d],h,d,a)}decodeDataCharacter(s,a,l,u){let h=this.getDataCharacterCounters();for(let it=0;it<h.length;it++)h[it]=0;if(u)K.recordPatternInReverse(s,a.getStartEnd()[0],h);else{K.recordPattern(s,a.getStartEnd()[1],h);for(let it=0,un=h.length-1;it<un;it++,un--){let nr=h[it];h[it]=h[un],h[un]=nr}}let d=17,f=je.sum(new Int32Array(h))/d,y=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(f-y)/y>.3)throw new W;let x=this.getOddCounts(),v=this.getEvenCounts(),A=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let it=0;it<h.length;it++){let un=1*h[it]/f,nr=un+.5;if(nr<1){if(un<.3)throw new W;nr=1}else if(nr>8){if(un>8.7)throw new W;nr=8}let Bo=it/2;it&1?(v[Bo]=nr,T[Bo]=un-nr):(x[Bo]=nr,A[Bo]=un-nr)}this.adjustOddEvenCounts(d);let D=4*a.getValue()+(l?0:2)+(u?0:1)-1,P=0,L=0;for(let it=x.length-1;it>=0;it--){if(K.isNotA1left(a,l,u)){let un=K.WEIGHTS[D][2*it];L+=x[it]*un}P+=x[it]}let V=0;for(let it=v.length-1;it>=0;it--)if(K.isNotA1left(a,l,u)){let un=K.WEIGHTS[D][2*it+1];V+=v[it]*un}let H=L+V;if(P&1||P>13||P<4)throw new W;let ee=(13-P)/2,te=K.SYMBOL_WIDEST[ee],q=9-te,ke=Wr.getRSSvalue(x,te,!0),Te=Wr.getRSSvalue(v,q,!1),Yn=K.EVEN_TOTAL_SUBSET[ee],Rr=K.GSUM[ee],Kn=ke*Yn+Te+Rr;return new Ro(Kn,H)}static isNotA1left(s,a,l){return!(s.getValue()==0&&a&&l)}adjustOddEvenCounts(s){let a=je.sum(new Int32Array(this.getOddCounts())),l=je.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1;a>13?h=!0:a<4&&(u=!0);let d=!1,f=!1;l>13?f=!0:l<4&&(d=!0);let y=a+l-s,x=(a&1)==1,v=(l&1)==0;if(y==1)if(x){if(v)throw new W;h=!0}else{if(!v)throw new W;f=!0}else if(y==-1)if(x){if(v)throw new W;u=!0}else{if(!v)throw new W;d=!0}else if(y==0){if(x){if(!v)throw new W;a<l?(u=!0,f=!0):(h=!0,d=!0)}else if(v)throw new W}else throw new W;if(u){if(h)throw new W;K.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&K.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(f)throw new W;K.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&K.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}K.SYMBOL_WIDEST=[7,5,4,3,1],K.EVEN_TOTAL_SUBSET=[4,20,52,104,204],K.GSUM=[0,348,1388,2948,3988],K.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],K.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],K.FINDER_PAT_A=0,K.FINDER_PAT_B=1,K.FINDER_PAT_C=2,K.FINDER_PAT_D=3,K.FINDER_PAT_E=4,K.FINDER_PAT_F=5,K.FINDER_PATTERN_SEQUENCES=[[K.FINDER_PAT_A,K.FINDER_PAT_A],[K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B],[K.FINDER_PAT_A,K.FINDER_PAT_C,K.FINDER_PAT_B,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_C],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F]],K.MAX_PAIRS=11;class jI extends Ro{constructor(s,a,l){super(s,a),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Tt extends wn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,a,l){const u=this.decodePair(a,!1,s,l);Tt.addOrTally(this.possibleLeftPairs,u),a.reverse();let h=this.decodePair(a,!0,s,l);Tt.addOrTally(this.possibleRightPairs,h),a.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&Tt.checkChecksum(d,f))return Tt.constructResult(d,f)}throw new W}static addOrTally(s,a){if(a==null)return;let l=!1;for(let u of s)if(u.getValue()===a.getValue()){u.incrementCount(),l=!0;break}l||s.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,a){let l=4537077*s.getValue()+a.getValue(),u=new String(l).toString(),h=new Oe;for(let x=13-u.length;x>0;x--)h.append("0");h.append(u);let d=0;for(let x=0;x<13;x++){let v=h.charAt(x).charCodeAt(0)-"0".charCodeAt(0);d+=x&1?v:3*v}d=10-d%10,d===10&&(d=0),h.append(d.toString());let f=s.getFinderPattern().getResultPoints(),y=a.getFinderPattern().getResultPoints();return new xt(h.toString(),null,0,[f[0],f[1],y[0],y[1]],fe.RSS_14,new Date().getTime())}static checkChecksum(s,a){let l=(s.getChecksumPortion()+16*a.getChecksumPortion())%79,u=9*s.getFinderPattern().getValue()+a.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,l===u}decodePair(s,a,l,u){try{let h=this.findFinderPattern(s,a),d=this.parseFoundFinderPattern(s,l,a,h),f=u==null?null:u.get(G.NEED_RESULT_POINT_CALLBACK);if(f!=null){let v=(h[0]+h[1])/2;a&&(v=s.getSize()-1-v),f.foundPossibleResultPoint(new he(v,l))}let y=this.decodeDataCharacter(s,d,!0),x=this.decodeDataCharacter(s,d,!1);return new jI(1597*y.getValue()+x.getValue(),y.getChecksumPortion()+4*x.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(s,a,l){let u=this.getDataCharacterCounters();for(let V=0;V<u.length;V++)u[V]=0;if(l)Ft.recordPatternInReverse(s,a.getStartEnd()[0],u);else{Ft.recordPattern(s,a.getStartEnd()[1]+1,u);for(let V=0,H=u.length-1;V<H;V++,H--){let ee=u[V];u[V]=u[H],u[H]=ee}}let h=l?16:15,d=je.sum(new Int32Array(u))/h,f=this.getOddCounts(),y=this.getEvenCounts(),x=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors();for(let V=0;V<u.length;V++){let H=u[V]/d,ee=Math.floor(H+.5);ee<1?ee=1:ee>8&&(ee=8);let te=Math.floor(V/2);V&1?(y[te]=ee,v[te]=H-ee):(f[te]=ee,x[te]=H-ee)}this.adjustOddEvenCounts(l,h);let A=0,T=0;for(let V=f.length-1;V>=0;V--)T*=9,T+=f[V],A+=f[V];let D=0,P=0;for(let V=y.length-1;V>=0;V--)D*=9,D+=y[V],P+=y[V];let L=T+3*D;if(l){if(A&1||A>12||A<4)throw new W;let V=(12-A)/2,H=Tt.OUTSIDE_ODD_WIDEST[V],ee=9-H,te=Wr.getRSSvalue(f,H,!1),q=Wr.getRSSvalue(y,ee,!0),ke=Tt.OUTSIDE_EVEN_TOTAL_SUBSET[V],Te=Tt.OUTSIDE_GSUM[V];return new Ro(te*ke+q+Te,L)}else{if(P&1||P>10||P<4)throw new W;let V=(10-P)/2,H=Tt.INSIDE_ODD_WIDEST[V],ee=9-H,te=Wr.getRSSvalue(f,H,!0),q=Wr.getRSSvalue(y,ee,!1),ke=Tt.INSIDE_ODD_TOTAL_SUBSET[V],Te=Tt.INSIDE_GSUM[V];return new Ro(q*ke+te+Te,L)}}findFinderPattern(s,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=s.getSize(),h=!1,d=0;for(;d<u&&(h=!s.get(d),a!==h);)d++;let f=0,y=d;for(let x=d;x<u;x++)if(s.get(x)!==h)l[f]++;else{if(f===3){if(wn.isFinderPattern(l))return[y,x];y+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,f--}else f++;l[f]=1,h=!h}throw new W}parseFoundFinderPattern(s,a,l,u){let h=s.get(u[0]),d=u[0]-1;for(;d>=0&&h!==s.get(d);)d--;d++;const f=u[0]-d,y=this.getDecodeFinderCounters(),x=new Int32Array(y.length);R.arraycopy(y,0,x,1,y.length-1),x[0]=f;const v=this.parseFinderValue(x,Tt.FINDER_PATTERNS);let A=d,T=u[1];return l&&(A=s.getSize()-1-A,T=s.getSize()-1-T),new _u(v,[d,u[1]],A,T,a)}adjustOddEvenCounts(s,a){let l=je.sum(new Int32Array(this.getOddCounts())),u=je.sum(new Int32Array(this.getEvenCounts())),h=!1,d=!1,f=!1,y=!1;s?(l>12?d=!0:l<4&&(h=!0),u>12?y=!0:u<4&&(f=!0)):(l>11?d=!0:l<5&&(h=!0),u>10?y=!0:u<4&&(f=!0));let x=l+u-a,v=(l&1)===(s?1:0),A=(u&1)===1;if(x===1)if(v){if(A)throw new W;d=!0}else{if(!A)throw new W;y=!0}else if(x===-1)if(v){if(A)throw new W;h=!0}else{if(!A)throw new W;f=!0}else if(x===0){if(v){if(!A)throw new W;l<u?(h=!0,y=!0):(d=!0,f=!0)}else if(A)throw new W}else throw new W;if(h){if(d)throw new W;wn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&wn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(y)throw new W;wn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&wn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Tt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Tt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Tt.OUTSIDE_GSUM=[0,161,961,2015,2715],Tt.INSIDE_GSUM=[0,336,1036,1516],Tt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Tt.INSIDE_ODD_WIDEST=[2,4,6,8],Tt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Do extends Ft{constructor(s,a){super(),this.readers=[],this.verbose=a===!0;const l=s?s.get(G.POSSIBLE_FORMATS):null,u=s&&s.get(G.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(fe.EAN_13)||l.includes(fe.UPC_A)||l.includes(fe.EAN_8)||l.includes(fe.UPC_E))&&this.readers.push(new Ff(s)),l.includes(fe.CODE_39)&&this.readers.push(new Gt(u)),l.includes(fe.CODE_128)&&this.readers.push(new re),l.includes(fe.ITF)&&this.readers.push(new nt),l.includes(fe.RSS_14)&&this.readers.push(new Tt),l.includes(fe.RSS_EXPANDED)&&this.readers.push(new K(this.verbose))):(this.readers.push(new Ff(s)),this.readers.push(new Gt),this.readers.push(new Ff(s)),this.readers.push(new re),this.readers.push(new nt),this.readers.push(new Tt),this.readers.push(new K(this.verbose)))}decodeRow(s,a,l){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(s,a,l)}catch{}throw new W}reset(){this.readers.forEach(s=>s.reset())}}class VI extends mr{constructor(s=500,a){super(new Do(a),s,a)}}class Ke{constructor(s,a,l){this.ecCodewords=s,this.ecBlocks=[a],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class $e{constructor(s,a){this.count=s,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Pe{constructor(s,a,l,u,h,d){this.versionNumber=s,this.symbolSizeRows=a,this.symbolSizeColumns=l,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=h,this.ecBlocks=d;let f=0;const y=d.getECCodewords(),x=d.getECBlocks();for(let v of x)f+=v.getCount()*(v.getDataCodewords()+y);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,a){if(s&1||a&1)throw new j;for(let l of Pe.VERSIONS)if(l.symbolSizeRows===s&&l.symbolSizeColumns===a)return l;throw new j}toString(){return""+this.versionNumber}static buildVersions(){return[new Pe(1,10,10,8,8,new Ke(5,new $e(1,3))),new Pe(2,12,12,10,10,new Ke(7,new $e(1,5))),new Pe(3,14,14,12,12,new Ke(10,new $e(1,8))),new Pe(4,16,16,14,14,new Ke(12,new $e(1,12))),new Pe(5,18,18,16,16,new Ke(14,new $e(1,18))),new Pe(6,20,20,18,18,new Ke(18,new $e(1,22))),new Pe(7,22,22,20,20,new Ke(20,new $e(1,30))),new Pe(8,24,24,22,22,new Ke(24,new $e(1,36))),new Pe(9,26,26,24,24,new Ke(28,new $e(1,44))),new Pe(10,32,32,14,14,new Ke(36,new $e(1,62))),new Pe(11,36,36,16,16,new Ke(42,new $e(1,86))),new Pe(12,40,40,18,18,new Ke(48,new $e(1,114))),new Pe(13,44,44,20,20,new Ke(56,new $e(1,144))),new Pe(14,48,48,22,22,new Ke(68,new $e(1,174))),new Pe(15,52,52,24,24,new Ke(42,new $e(2,102))),new Pe(16,64,64,14,14,new Ke(56,new $e(2,140))),new Pe(17,72,72,16,16,new Ke(36,new $e(4,92))),new Pe(18,80,80,18,18,new Ke(48,new $e(4,114))),new Pe(19,88,88,20,20,new Ke(56,new $e(4,144))),new Pe(20,96,96,22,22,new Ke(68,new $e(4,174))),new Pe(21,104,104,24,24,new Ke(56,new $e(6,136))),new Pe(22,120,120,18,18,new Ke(68,new $e(6,175))),new Pe(23,132,132,20,20,new Ke(62,new $e(8,163))),new Pe(24,144,144,22,22,new Ke(62,new $e(8,156),new $e(2,155))),new Pe(25,8,18,6,16,new Ke(7,new $e(1,5))),new Pe(26,8,32,6,14,new Ke(11,new $e(1,10))),new Pe(27,12,26,10,24,new Ke(14,new $e(1,16))),new Pe(28,12,36,10,16,new Ke(18,new $e(1,22))),new Pe(29,16,36,14,16,new Ke(24,new $e(1,32))),new Pe(30,16,48,14,22,new Ke(28,new $e(1,49)))]}}Pe.VERSIONS=Pe.buildVersions();class zf{constructor(s){const a=s.getHeight();if(a<8||a>144||a&1)throw new j;this.version=zf.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new yt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const a=s.getHeight(),l=s.getWidth();return Pe.getVersionForDimensions(a,l)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let a=0,l=4,u=0;const h=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let f=!1,y=!1,x=!1,v=!1;do if(l===h&&u===0&&!f)s[a++]=this.readCorner1(h,d)&255,l-=2,u+=2,f=!0;else if(l===h-2&&u===0&&d&3&&!y)s[a++]=this.readCorner2(h,d)&255,l-=2,u+=2,y=!0;else if(l===h+4&&u===2&&!(d&7)&&!x)s[a++]=this.readCorner3(h,d)&255,l-=2,u+=2,x=!0;else if(l===h-2&&u===0&&(d&7)===4&&!v)s[a++]=this.readCorner4(h,d)&255,l-=2,u+=2,v=!0;else{do l<h&&u>=0&&!this.readMappingMatrix.get(u,l)&&(s[a++]=this.readUtah(l,u,h,d)&255),l-=2,u+=2;while(l>=0&&u<d);l+=1,u+=3;do l>=0&&u<d&&!this.readMappingMatrix.get(u,l)&&(s[a++]=this.readUtah(l,u,h,d)&255),l+=2,u-=2;while(l<h&&u>=0);l+=3,u+=1}while(l<h||u<d);if(a!==this.version.getTotalCodewords())throw new j;return s}readModule(s,a,l,u){return s<0&&(s+=l,a+=4-(l+4&7)),a<0&&(a+=u,s+=4-(u+4&7)),this.readMappingMatrix.set(a,s),this.mappingBitMatrix.get(a,s)}readUtah(s,a,l,u){let h=0;return this.readModule(s-2,a-2,l,u)&&(h|=1),h<<=1,this.readModule(s-2,a-1,l,u)&&(h|=1),h<<=1,this.readModule(s-1,a-2,l,u)&&(h|=1),h<<=1,this.readModule(s-1,a-1,l,u)&&(h|=1),h<<=1,this.readModule(s-1,a,l,u)&&(h|=1),h<<=1,this.readModule(s,a-2,l,u)&&(h|=1),h<<=1,this.readModule(s,a-1,l,u)&&(h|=1),h<<=1,this.readModule(s,a,l,u)&&(h|=1),h}readCorner1(s,a){let l=0;return this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,1,s,a)&&(l|=1),l<<=1,this.readModule(s-1,2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l<<=1,this.readModule(2,a-1,s,a)&&(l|=1),l<<=1,this.readModule(3,a-1,s,a)&&(l|=1),l}readCorner2(s,a){let l=0;return this.readModule(s-3,0,s,a)&&(l|=1),l<<=1,this.readModule(s-2,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(0,a-4,s,a)&&(l|=1),l<<=1,this.readModule(0,a-3,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l}readCorner3(s,a){let l=0;return this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,a-1,s,a)&&(l|=1),l<<=1,this.readModule(0,a-3,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-3,s,a)&&(l|=1),l<<=1,this.readModule(1,a-2,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l}readCorner4(s,a){let l=0;return this.readModule(s-3,0,s,a)&&(l|=1),l<<=1,this.readModule(s-2,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l<<=1,this.readModule(2,a-1,s,a)&&(l|=1),l<<=1,this.readModule(3,a-1,s,a)&&(l|=1),l}extractDataRegion(s){const a=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(s.getHeight()!==a)throw new _("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),d=a/u|0,f=l/h|0,y=d*u,x=f*h,v=new yt(x,y);for(let A=0;A<d;++A){const T=A*u;for(let D=0;D<f;++D){const P=D*h;for(let L=0;L<u;++L){const V=A*(u+2)+1+L,H=T+L;for(let ee=0;ee<h;++ee){const te=D*(h+2)+1+ee;if(s.get(te,V)){const q=P+ee;v.set(q,H)}}}}}return v}}class Hf{constructor(s,a){this.numDataCodewords=s,this.codewords=a}static getDataBlocks(s,a){const l=a.getECBlocks();let u=0;const h=l.getECBlocks();for(let L of h)u+=L.getCount();const d=new Array(u);let f=0;for(let L of h)for(let V=0;V<L.getCount();V++){const H=L.getDataCodewords(),ee=l.getECCodewords()+H;d[f++]=new Hf(H,new Uint8Array(ee))}const x=d[0].codewords.length-l.getECCodewords(),v=x-1;let A=0;for(let L=0;L<v;L++)for(let V=0;V<f;V++)d[V].codewords[L]=s[A++];const T=a.getVersionNumber()===24,D=T?8:f;for(let L=0;L<D;L++)d[L].codewords[x-1]=s[A++];const P=d[0].codewords.length;for(let L=x;L<P;L++)for(let V=0;V<f;V++){const H=T?(V+8)%f:V,ee=T&&H>7?L-1:L;d[H].codewords[ee]=s[A++]}if(A!==s.length)throw new _;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Wf{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new _(""+s);let a=0,l=this.bitOffset,u=this.byteOffset;const h=this.bytes;if(l>0){const d=8-l,f=s<d?s:d,y=d-f,x=255>>8-f<<y;a=(h[u]&x)>>y,s-=f,l+=f,l===8&&(l=0,u++)}if(s>0){for(;s>=8;)a=a<<8|h[u]&255,u++,s-=8;if(s>0){const d=8-s,f=255>>d<<d;a=a<<s|(h[u]&f)>>d,l+=s}}return this.bitOffset=l,this.byteOffset=u,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var $t;(function(C){C[C.PAD_ENCODE=0]="PAD_ENCODE",C[C.ASCII_ENCODE=1]="ASCII_ENCODE",C[C.C40_ENCODE=2]="C40_ENCODE",C[C.TEXT_ENCODE=3]="TEXT_ENCODE",C[C.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",C[C.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",C[C.BASE256_ENCODE=6]="BASE256_ENCODE"})($t||($t={}));class Wi{static decode(s){const a=new Wf(s),l=new Oe,u=new Oe,h=new Array;let d=$t.ASCII_ENCODE;do if(d===$t.ASCII_ENCODE)d=this.decodeAsciiSegment(a,l,u);else{switch(d){case $t.C40_ENCODE:this.decodeC40Segment(a,l);break;case $t.TEXT_ENCODE:this.decodeTextSegment(a,l);break;case $t.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,l);break;case $t.EDIFACT_ENCODE:this.decodeEdifactSegment(a,l);break;case $t.BASE256_ENCODE:this.decodeBase256Segment(a,l,h);break;default:throw new j}d=$t.ASCII_ENCODE}while(d!==$t.PAD_ENCODE&&a.available()>0);return u.length()>0&&l.append(u.toString()),new il(s,l.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(s,a,l){let u=!1;do{let h=s.readBits(8);if(h===0)throw new j;if(h<=128)return u&&(h+=128),a.append(String.fromCharCode(h-1)),$t.ASCII_ENCODE;if(h===129)return $t.PAD_ENCODE;if(h<=229){const d=h-130;d<10&&a.append("0"),a.append(""+d)}else switch(h){case 230:return $t.C40_ENCODE;case 231:return $t.BASE256_ENCODE;case 232:a.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:u=!0;break;case 236:a.append("[)>05"),l.insert(0,"");break;case 237:a.append("[)>06"),l.insert(0,"");break;case 238:return $t.ANSIX12_ENCODE;case 239:return $t.TEXT_ENCODE;case 240:return $t.EDIFACT_ENCODE;case 241:break;default:if(h!==254||s.available()!==0)throw new j;break}}while(s.available()>0);return $t.ASCII_ENCODE}static decodeC40Segment(s,a){let l=!1;const u=[];let h=0;do{if(s.available()===8)return;const d=s.readBits(8);if(d===254)return;this.parseTwoBytes(d,s.readBits(8),u);for(let f=0;f<3;f++){const y=u[f];switch(h){case 0:if(y<3)h=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[y];l?(a.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):a.append(x)}else throw new j;break;case 1:l?(a.append(String.fromCharCode(y+128)),l=!1):a.append(String.fromCharCode(y)),h=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[y];l?(a.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):a.append(x)}else switch(y){case 27:a.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new j}h=0;break;case 3:l?(a.append(String.fromCharCode(y+224)),l=!1):a.append(String.fromCharCode(y+96)),h=0;break;default:throw new j}}}while(s.available()>0)}static decodeTextSegment(s,a){let l=!1,u=[],h=0;do{if(s.available()===8)return;const d=s.readBits(8);if(d===254)return;this.parseTwoBytes(d,s.readBits(8),u);for(let f=0;f<3;f++){const y=u[f];switch(h){case 0:if(y<3)h=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[y];l?(a.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):a.append(x)}else throw new j;break;case 1:l?(a.append(String.fromCharCode(y+128)),l=!1):a.append(String.fromCharCode(y)),h=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[y];l?(a.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):a.append(x)}else switch(y){case 27:a.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new j}h=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[y];l?(a.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):a.append(x),h=0}else throw new j;break;default:throw new j}}}while(s.available()>0)}static decodeAnsiX12Segment(s,a){const l=[];do{if(s.available()===8)return;const u=s.readBits(8);if(u===254)return;this.parseTwoBytes(u,s.readBits(8),l);for(let h=0;h<3;h++){const d=l[h];switch(d){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(d<14)a.append(String.fromCharCode(d+44));else if(d<40)a.append(String.fromCharCode(d+51));else throw new j;break}}}while(s.available()>0)}static parseTwoBytes(s,a,l){let u=(s<<8)+a-1,h=Math.floor(u/1600);l[0]=h,u-=h*1600,h=Math.floor(u/40),l[1]=h,l[2]=u-h*40}static decodeEdifactSegment(s,a){do{if(s.available()<=16)return;for(let l=0;l<4;l++){let u=s.readBits(6);if(u===31){const h=8-s.getBitOffset();h!==8&&s.readBits(h);return}u&32||(u|=64),a.append(String.fromCharCode(u))}}while(s.available()>0)}static decodeBase256Segment(s,a,l){let u=1+s.getByteOffset();const h=this.unrandomize255State(s.readBits(8),u++);let d;if(h===0?d=s.available()/8|0:h<250?d=h:d=250*(h-249)+this.unrandomize255State(s.readBits(8),u++),d<0)throw new j;const f=new Uint8Array(d);for(let y=0;y<d;y++){if(s.available()<8)throw new j;f[y]=this.unrandomize255State(s.readBits(8),u++)}l.push(f);try{a.append(Me.decode(f,pe.ISO88591))}catch(y){throw new Hr("Platform does not support required encoding: "+y.message)}}static unrandomize255State(s,a){const l=149*a%255+1,u=s-l;return u>=0?u:u+256}}Wi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Wi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Wi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Wi.TEXT_SHIFT2_SET_CHARS=Wi.C40_SHIFT2_SET_CHARS,Wi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class UI{constructor(){this.rsDecoder=new ol(We.DATA_MATRIX_FIELD_256)}decode(s){const a=new zf(s),l=a.getVersion(),u=a.readCodewords(),h=Hf.getDataBlocks(u,l);let d=0;for(let x of h)d+=x.getNumDataCodewords();const f=new Uint8Array(d),y=h.length;for(let x=0;x<y;x++){const v=h[x],A=v.getCodewords(),T=v.getNumDataCodewords();this.correctErrors(A,T);for(let D=0;D<T;D++)f[D*y+x]=A[D]}return Wi.decode(f)}correctErrors(s,a){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-a)}catch{throw new b}for(let u=0;u<a;u++)s[u]=l[u]}}class Pt{constructor(s){this.image=s,this.rectangleDetector=new xi(this.image)}detect(){const s=this.rectangleDetector.detect();let a=this.detectSolid1(s);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new W;a=this.shiftToModuleCenter(a);const l=a[0],u=a[1],h=a[2],d=a[3];let f=this.transitionsBetween(l,d)+1,y=this.transitionsBetween(h,d)+1;(f&1)===1&&(f+=1),(y&1)===1&&(y+=1),4*f<7*y&&4*y<7*f&&(f=y=Math.max(f,y));let x=Pt.sampleGrid(this.image,l,u,h,d,f,y);return new Eu(x,[l,u,h,d])}static shiftPoint(s,a,l){let u=(a.getX()-s.getX())/(l+1),h=(a.getY()-s.getY())/(l+1);return new he(s.getX()+u,s.getY()+h)}static moveAway(s,a,l){let u=s.getX(),h=s.getY();return u<a?u-=1:u+=1,h<l?h-=1:h+=1,new he(u,h)}detectSolid1(s){let a=s[0],l=s[1],u=s[3],h=s[2],d=this.transitionsBetween(a,l),f=this.transitionsBetween(l,u),y=this.transitionsBetween(u,h),x=this.transitionsBetween(h,a),v=d,A=[h,a,l,u];return v>f&&(v=f,A[0]=a,A[1]=l,A[2]=u,A[3]=h),v>y&&(v=y,A[0]=l,A[1]=u,A[2]=h,A[3]=a),v>x&&(A[0]=u,A[1]=h,A[2]=a,A[3]=l),A}detectSolid2(s){let a=s[0],l=s[1],u=s[2],h=s[3],d=this.transitionsBetween(a,h),f=Pt.shiftPoint(l,u,(d+1)*4),y=Pt.shiftPoint(u,l,(d+1)*4),x=this.transitionsBetween(f,a),v=this.transitionsBetween(y,h);return x<v?(s[0]=a,s[1]=l,s[2]=u,s[3]=h):(s[0]=l,s[1]=u,s[2]=h,s[3]=a),s}correctTopRight(s){let a=s[0],l=s[1],u=s[2],h=s[3],d=this.transitionsBetween(a,h),f=this.transitionsBetween(l,h),y=Pt.shiftPoint(a,l,(f+1)*4),x=Pt.shiftPoint(u,l,(d+1)*4);d=this.transitionsBetween(y,h),f=this.transitionsBetween(x,h);let v=new he(h.getX()+(u.getX()-l.getX())/(d+1),h.getY()+(u.getY()-l.getY())/(d+1)),A=new he(h.getX()+(a.getX()-l.getX())/(f+1),h.getY()+(a.getY()-l.getY())/(f+1));if(!this.isValid(v))return this.isValid(A)?A:null;if(!this.isValid(A))return v;let T=this.transitionsBetween(y,v)+this.transitionsBetween(x,v),D=this.transitionsBetween(y,A)+this.transitionsBetween(x,A);return T>D?v:A}shiftToModuleCenter(s){let a=s[0],l=s[1],u=s[2],h=s[3],d=this.transitionsBetween(a,h)+1,f=this.transitionsBetween(u,h)+1,y=Pt.shiftPoint(a,l,f*4),x=Pt.shiftPoint(u,l,d*4);d=this.transitionsBetween(y,h)+1,f=this.transitionsBetween(x,h)+1,(d&1)===1&&(d+=1),(f&1)===1&&(f+=1);let v=(a.getX()+l.getX()+u.getX()+h.getX())/4,A=(a.getY()+l.getY()+u.getY()+h.getY())/4;a=Pt.moveAway(a,v,A),l=Pt.moveAway(l,v,A),u=Pt.moveAway(u,v,A),h=Pt.moveAway(h,v,A);let T,D;return y=Pt.shiftPoint(a,l,f*4),y=Pt.shiftPoint(y,h,d*4),T=Pt.shiftPoint(l,a,f*4),T=Pt.shiftPoint(T,u,d*4),x=Pt.shiftPoint(u,h,f*4),x=Pt.shiftPoint(x,l,d*4),D=Pt.shiftPoint(h,u,f*4),D=Pt.shiftPoint(D,a,d*4),[y,T,x,D]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,a,l,u,h,d,f){return zi.getInstance().sampleGrid(s,d,f,.5,.5,d-.5,.5,d-.5,f-.5,.5,f-.5,a.getX(),a.getY(),h.getX(),h.getY(),u.getX(),u.getY(),l.getX(),l.getY())}transitionsBetween(s,a){let l=Math.trunc(s.getX()),u=Math.trunc(s.getY()),h=Math.trunc(a.getX()),d=Math.trunc(a.getY()),f=Math.abs(d-u)>Math.abs(h-l);if(f){let L=l;l=u,u=L,L=h,h=d,d=L}let y=Math.abs(h-l),x=Math.abs(d-u),v=-y/2,A=u<d?1:-1,T=l<h?1:-1,D=0,P=this.image.get(f?u:l,f?l:u);for(let L=l,V=u;L!==h;L+=T){let H=this.image.get(f?V:L,f?L:V);if(H!==P&&(D++,P=H),v+=x,v>0){if(V===d)break;V+=A,v-=y}}return D}}class Gi{constructor(){this.decoder=new UI}decode(s,a=null){let l,u;if(a!=null&&a.has(G.PURE_BARCODE)){const x=Gi.extractPureBits(s.getBlackMatrix());l=this.decoder.decode(x),u=Gi.NO_POINTS}else{const x=new Pt(s.getBlackMatrix()).detect();l=this.decoder.decode(x.getBits()),u=x.getPoints()}const h=l.getRawBytes(),d=new xt(l.getText(),h,8*h.length,u,fe.DATA_MATRIX,R.currentTimeMillis()),f=l.getByteSegments();f!=null&&d.putMetadata(Qt.BYTE_SEGMENTS,f);const y=l.getECLevel();return y!=null&&d.putMetadata(Qt.ERROR_CORRECTION_LEVEL,y),d}reset(){}static extractPureBits(s){const a=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(a==null||l==null)throw new W;const u=this.moduleSize(a,s);let h=a[1];const d=l[1];let f=a[0];const x=(l[0]-f+1)/u,v=(d-h+1)/u;if(x<=0||v<=0)throw new W;const A=u/2;h+=A,f+=A;const T=new yt(x,v);for(let D=0;D<v;D++){const P=h+D*u;for(let L=0;L<x;L++)s.get(f+L*u,P)&&T.set(L,D)}return T}static moduleSize(s,a){const l=a.getWidth();let u=s[0];const h=s[1];for(;u<l&&a.get(u,h);)u++;if(u===l)throw new W;const d=u-s[0];if(d===0)throw new W;return d}}Gi.NO_POINTS=[];class zI extends mr{constructor(s=500){super(new Gi,s)}}var Mo;(function(C){C[C.L=0]="L",C[C.M=1]="M",C[C.Q=2]="Q",C[C.H=3]="H"})(Mo||(Mo={}));class ot{constructor(s,a,l){this.value=s,this.stringValue=a,this.bits=l,ot.FOR_BITS.set(l,this),ot.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return ot.L;case"M":return ot.M;case"Q":return ot.Q;case"H":return ot.H;default:throw new w(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof ot))return!1;const a=s;return this.value===a.value}static forBits(s){if(s<0||s>=ot.FOR_BITS.size)throw new _;return ot.FOR_BITS.get(s)}}ot.FOR_BITS=new Map,ot.FOR_VALUE=new Map,ot.L=new ot(Mo.L,"L",1),ot.M=new ot(Mo.M,"M",0),ot.Q=new ot(Mo.Q,"Q",3),ot.H=new ot(Mo.H,"H",2);class En{constructor(s){this.errorCorrectionLevel=ot.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,a){return O.bitCount(s^a)}static decodeFormatInformation(s,a){const l=En.doDecodeFormatInformation(s,a);return l!==null?l:En.doDecodeFormatInformation(s^En.FORMAT_INFO_MASK_QR,a^En.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,a){let l=Number.MAX_SAFE_INTEGER,u=0;for(const h of En.FORMAT_INFO_DECODE_LOOKUP){const d=h[0];if(d===s||d===a)return new En(h[1]);let f=En.numBitsDiffering(s,d);f<l&&(u=h[1],l=f),s!==a&&(f=En.numBitsDiffering(a,d),f<l&&(u=h[1],l=f))}return l<=3?new En(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof En))return!1;const a=s;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}En.FORMAT_INFO_MASK_QR=21522,En.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class U{constructor(s,...a){this.ecCodewordsPerBlock=s,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const a=this.ecBlocks;for(const l of a)s+=l.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class N{constructor(s,a){this.count=s,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ge{constructor(s,a,...l){this.versionNumber=s,this.alignmentPatternCenters=a,this.ecBlocks=l;let u=0;const h=l[0].getECCodewordsPerBlock(),d=l[0].getECBlocks();for(const f of d)u+=f.getCount()*(f.getDataCodewords()+h);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new j;try{return this.getVersionForNumber((s-17)/4)}catch{throw new j}}static getVersionForNumber(s){if(s<1||s>40)throw new _;return ge.VERSIONS[s-1]}static decodeVersionInformation(s){let a=Number.MAX_SAFE_INTEGER,l=0;for(let u=0;u<ge.VERSION_DECODE_INFO.length;u++){const h=ge.VERSION_DECODE_INFO[u];if(h===s)return ge.getVersionForNumber(u+7);const d=En.numBitsDiffering(s,h);d<a&&(l=u+7,a=d)}return a<=3?ge.getVersionForNumber(l):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),a=new yt(s);a.setRegion(0,0,9,9),a.setRegion(s-8,0,8,9),a.setRegion(0,s-8,9,8);const l=this.alignmentPatternCenters.length;for(let u=0;u<l;u++){const h=this.alignmentPatternCenters[u]-2;for(let d=0;d<l;d++)u===0&&(d===0||d===l-1)||u===l-1&&d===0||a.setRegion(this.alignmentPatternCenters[d]-2,h,5,5)}return a.setRegion(6,9,1,s-17),a.setRegion(9,6,s-17,1),this.versionNumber>6&&(a.setRegion(s-11,0,3,6),a.setRegion(0,s-11,6,3)),a}toString(){return""+this.versionNumber}}ge.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ge.VERSIONS=[new ge(1,new Int32Array(0),new U(7,new N(1,19)),new U(10,new N(1,16)),new U(13,new N(1,13)),new U(17,new N(1,9))),new ge(2,Int32Array.from([6,18]),new U(10,new N(1,34)),new U(16,new N(1,28)),new U(22,new N(1,22)),new U(28,new N(1,16))),new ge(3,Int32Array.from([6,22]),new U(15,new N(1,55)),new U(26,new N(1,44)),new U(18,new N(2,17)),new U(22,new N(2,13))),new ge(4,Int32Array.from([6,26]),new U(20,new N(1,80)),new U(18,new N(2,32)),new U(26,new N(2,24)),new U(16,new N(4,9))),new ge(5,Int32Array.from([6,30]),new U(26,new N(1,108)),new U(24,new N(2,43)),new U(18,new N(2,15),new N(2,16)),new U(22,new N(2,11),new N(2,12))),new ge(6,Int32Array.from([6,34]),new U(18,new N(2,68)),new U(16,new N(4,27)),new U(24,new N(4,19)),new U(28,new N(4,15))),new ge(7,Int32Array.from([6,22,38]),new U(20,new N(2,78)),new U(18,new N(4,31)),new U(18,new N(2,14),new N(4,15)),new U(26,new N(4,13),new N(1,14))),new ge(8,Int32Array.from([6,24,42]),new U(24,new N(2,97)),new U(22,new N(2,38),new N(2,39)),new U(22,new N(4,18),new N(2,19)),new U(26,new N(4,14),new N(2,15))),new ge(9,Int32Array.from([6,26,46]),new U(30,new N(2,116)),new U(22,new N(3,36),new N(2,37)),new U(20,new N(4,16),new N(4,17)),new U(24,new N(4,12),new N(4,13))),new ge(10,Int32Array.from([6,28,50]),new U(18,new N(2,68),new N(2,69)),new U(26,new N(4,43),new N(1,44)),new U(24,new N(6,19),new N(2,20)),new U(28,new N(6,15),new N(2,16))),new ge(11,Int32Array.from([6,30,54]),new U(20,new N(4,81)),new U(30,new N(1,50),new N(4,51)),new U(28,new N(4,22),new N(4,23)),new U(24,new N(3,12),new N(8,13))),new ge(12,Int32Array.from([6,32,58]),new U(24,new N(2,92),new N(2,93)),new U(22,new N(6,36),new N(2,37)),new U(26,new N(4,20),new N(6,21)),new U(28,new N(7,14),new N(4,15))),new ge(13,Int32Array.from([6,34,62]),new U(26,new N(4,107)),new U(22,new N(8,37),new N(1,38)),new U(24,new N(8,20),new N(4,21)),new U(22,new N(12,11),new N(4,12))),new ge(14,Int32Array.from([6,26,46,66]),new U(30,new N(3,115),new N(1,116)),new U(24,new N(4,40),new N(5,41)),new U(20,new N(11,16),new N(5,17)),new U(24,new N(11,12),new N(5,13))),new ge(15,Int32Array.from([6,26,48,70]),new U(22,new N(5,87),new N(1,88)),new U(24,new N(5,41),new N(5,42)),new U(30,new N(5,24),new N(7,25)),new U(24,new N(11,12),new N(7,13))),new ge(16,Int32Array.from([6,26,50,74]),new U(24,new N(5,98),new N(1,99)),new U(28,new N(7,45),new N(3,46)),new U(24,new N(15,19),new N(2,20)),new U(30,new N(3,15),new N(13,16))),new ge(17,Int32Array.from([6,30,54,78]),new U(28,new N(1,107),new N(5,108)),new U(28,new N(10,46),new N(1,47)),new U(28,new N(1,22),new N(15,23)),new U(28,new N(2,14),new N(17,15))),new ge(18,Int32Array.from([6,30,56,82]),new U(30,new N(5,120),new N(1,121)),new U(26,new N(9,43),new N(4,44)),new U(28,new N(17,22),new N(1,23)),new U(28,new N(2,14),new N(19,15))),new ge(19,Int32Array.from([6,30,58,86]),new U(28,new N(3,113),new N(4,114)),new U(26,new N(3,44),new N(11,45)),new U(26,new N(17,21),new N(4,22)),new U(26,new N(9,13),new N(16,14))),new ge(20,Int32Array.from([6,34,62,90]),new U(28,new N(3,107),new N(5,108)),new U(26,new N(3,41),new N(13,42)),new U(30,new N(15,24),new N(5,25)),new U(28,new N(15,15),new N(10,16))),new ge(21,Int32Array.from([6,28,50,72,94]),new U(28,new N(4,116),new N(4,117)),new U(26,new N(17,42)),new U(28,new N(17,22),new N(6,23)),new U(30,new N(19,16),new N(6,17))),new ge(22,Int32Array.from([6,26,50,74,98]),new U(28,new N(2,111),new N(7,112)),new U(28,new N(17,46)),new U(30,new N(7,24),new N(16,25)),new U(24,new N(34,13))),new ge(23,Int32Array.from([6,30,54,78,102]),new U(30,new N(4,121),new N(5,122)),new U(28,new N(4,47),new N(14,48)),new U(30,new N(11,24),new N(14,25)),new U(30,new N(16,15),new N(14,16))),new ge(24,Int32Array.from([6,28,54,80,106]),new U(30,new N(6,117),new N(4,118)),new U(28,new N(6,45),new N(14,46)),new U(30,new N(11,24),new N(16,25)),new U(30,new N(30,16),new N(2,17))),new ge(25,Int32Array.from([6,32,58,84,110]),new U(26,new N(8,106),new N(4,107)),new U(28,new N(8,47),new N(13,48)),new U(30,new N(7,24),new N(22,25)),new U(30,new N(22,15),new N(13,16))),new ge(26,Int32Array.from([6,30,58,86,114]),new U(28,new N(10,114),new N(2,115)),new U(28,new N(19,46),new N(4,47)),new U(28,new N(28,22),new N(6,23)),new U(30,new N(33,16),new N(4,17))),new ge(27,Int32Array.from([6,34,62,90,118]),new U(30,new N(8,122),new N(4,123)),new U(28,new N(22,45),new N(3,46)),new U(30,new N(8,23),new N(26,24)),new U(30,new N(12,15),new N(28,16))),new ge(28,Int32Array.from([6,26,50,74,98,122]),new U(30,new N(3,117),new N(10,118)),new U(28,new N(3,45),new N(23,46)),new U(30,new N(4,24),new N(31,25)),new U(30,new N(11,15),new N(31,16))),new ge(29,Int32Array.from([6,30,54,78,102,126]),new U(30,new N(7,116),new N(7,117)),new U(28,new N(21,45),new N(7,46)),new U(30,new N(1,23),new N(37,24)),new U(30,new N(19,15),new N(26,16))),new ge(30,Int32Array.from([6,26,52,78,104,130]),new U(30,new N(5,115),new N(10,116)),new U(28,new N(19,47),new N(10,48)),new U(30,new N(15,24),new N(25,25)),new U(30,new N(23,15),new N(25,16))),new ge(31,Int32Array.from([6,30,56,82,108,134]),new U(30,new N(13,115),new N(3,116)),new U(28,new N(2,46),new N(29,47)),new U(30,new N(42,24),new N(1,25)),new U(30,new N(23,15),new N(28,16))),new ge(32,Int32Array.from([6,34,60,86,112,138]),new U(30,new N(17,115)),new U(28,new N(10,46),new N(23,47)),new U(30,new N(10,24),new N(35,25)),new U(30,new N(19,15),new N(35,16))),new ge(33,Int32Array.from([6,30,58,86,114,142]),new U(30,new N(17,115),new N(1,116)),new U(28,new N(14,46),new N(21,47)),new U(30,new N(29,24),new N(19,25)),new U(30,new N(11,15),new N(46,16))),new ge(34,Int32Array.from([6,34,62,90,118,146]),new U(30,new N(13,115),new N(6,116)),new U(28,new N(14,46),new N(23,47)),new U(30,new N(44,24),new N(7,25)),new U(30,new N(59,16),new N(1,17))),new ge(35,Int32Array.from([6,30,54,78,102,126,150]),new U(30,new N(12,121),new N(7,122)),new U(28,new N(12,47),new N(26,48)),new U(30,new N(39,24),new N(14,25)),new U(30,new N(22,15),new N(41,16))),new ge(36,Int32Array.from([6,24,50,76,102,128,154]),new U(30,new N(6,121),new N(14,122)),new U(28,new N(6,47),new N(34,48)),new U(30,new N(46,24),new N(10,25)),new U(30,new N(2,15),new N(64,16))),new ge(37,Int32Array.from([6,28,54,80,106,132,158]),new U(30,new N(17,122),new N(4,123)),new U(28,new N(29,46),new N(14,47)),new U(30,new N(49,24),new N(10,25)),new U(30,new N(24,15),new N(46,16))),new ge(38,Int32Array.from([6,32,58,84,110,136,162]),new U(30,new N(4,122),new N(18,123)),new U(28,new N(13,46),new N(32,47)),new U(30,new N(48,24),new N(14,25)),new U(30,new N(42,15),new N(32,16))),new ge(39,Int32Array.from([6,26,54,82,110,138,166]),new U(30,new N(20,117),new N(4,118)),new U(28,new N(40,47),new N(7,48)),new U(30,new N(43,24),new N(22,25)),new U(30,new N(10,15),new N(67,16))),new ge(40,Int32Array.from([6,30,58,86,114,142,170]),new U(30,new N(19,118),new N(6,119)),new U(28,new N(18,47),new N(31,48)),new U(30,new N(34,24),new N(34,25)),new U(30,new N(20,15),new N(61,16)))];var Zt;(function(C){C[C.DATA_MASK_000=0]="DATA_MASK_000",C[C.DATA_MASK_001=1]="DATA_MASK_001",C[C.DATA_MASK_010=2]="DATA_MASK_010",C[C.DATA_MASK_011=3]="DATA_MASK_011",C[C.DATA_MASK_100=4]="DATA_MASK_100",C[C.DATA_MASK_101=5]="DATA_MASK_101",C[C.DATA_MASK_110=6]="DATA_MASK_110",C[C.DATA_MASK_111=7]="DATA_MASK_111"})(Zt||(Zt={}));class xr{constructor(s,a){this.value=s,this.isMasked=a}unmaskBitMatrix(s,a){for(let l=0;l<a;l++)for(let u=0;u<a;u++)this.isMasked(l,u)&&s.flip(u,l)}}xr.values=new Map([[Zt.DATA_MASK_000,new xr(Zt.DATA_MASK_000,(C,s)=>(C+s&1)===0)],[Zt.DATA_MASK_001,new xr(Zt.DATA_MASK_001,(C,s)=>(C&1)===0)],[Zt.DATA_MASK_010,new xr(Zt.DATA_MASK_010,(C,s)=>s%3===0)],[Zt.DATA_MASK_011,new xr(Zt.DATA_MASK_011,(C,s)=>(C+s)%3===0)],[Zt.DATA_MASK_100,new xr(Zt.DATA_MASK_100,(C,s)=>(Math.floor(C/2)+Math.floor(s/3)&1)===0)],[Zt.DATA_MASK_101,new xr(Zt.DATA_MASK_101,(C,s)=>C*s%6===0)],[Zt.DATA_MASK_110,new xr(Zt.DATA_MASK_110,(C,s)=>C*s%6<3)],[Zt.DATA_MASK_111,new xr(Zt.DATA_MASK_111,(C,s)=>(C+s+C*s%3&1)===0)]]);class HI{constructor(s){const a=s.getHeight();if(a<21||(a&3)!==1)throw new j;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let h=0;h<6;h++)s=this.copyBit(h,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let h=5;h>=0;h--)s=this.copyBit(8,h,s);const a=this.bitMatrix.getHeight();let l=0;const u=a-7;for(let h=a-1;h>=u;h--)l=this.copyBit(8,h,l);for(let h=a-8;h<a;h++)l=this.copyBit(h,8,l);if(this.parsedFormatInfo=En.decodeFormatInformation(s,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new j}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),a=Math.floor((s-17)/4);if(a<=6)return ge.getVersionForNumber(a);let l=0;const u=s-11;for(let d=5;d>=0;d--)for(let f=s-9;f>=u;f--)l=this.copyBit(f,d,l);let h=ge.decodeVersionInformation(l);if(h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;l=0;for(let d=5;d>=0;d--)for(let f=s-9;f>=u;f--)l=this.copyBit(d,f,l);if(h=ge.decodeVersionInformation(l),h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;throw new j}copyBit(s,a,l){return(this.isMirror?this.bitMatrix.get(a,s):this.bitMatrix.get(s,a))?l<<1|1:l<<1}readCodewords(){const s=this.readFormatInformation(),a=this.readVersion(),l=xr.values.get(s.getDataMask()),u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u);const h=a.buildFunctionPattern();let d=!0;const f=new Uint8Array(a.getTotalCodewords());let y=0,x=0,v=0;for(let A=u-1;A>0;A-=2){A===6&&A--;for(let T=0;T<u;T++){const D=d?u-1-T:T;for(let P=0;P<2;P++)h.get(A-P,D)||(v++,x<<=1,this.bitMatrix.get(A-P,D)&&(x|=1),v===8&&(f[y++]=x,v=0,x=0))}d=!d}if(y!==a.getTotalCodewords())throw new j;return f}remask(){if(this.parsedFormatInfo===null)return;const s=xr.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,a)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let a=0,l=s.getWidth();a<l;a++)for(let u=a+1,h=s.getHeight();u<h;u++)s.get(a,u)!==s.get(u,a)&&(s.flip(u,a),s.flip(a,u))}}class Gf{constructor(s,a){this.numDataCodewords=s,this.codewords=a}static getDataBlocks(s,a,l){if(s.length!==a.getTotalCodewords())throw new _;const u=a.getECBlocksForLevel(l);let h=0;const d=u.getECBlocks();for(const P of d)h+=P.getCount();const f=new Array(h);let y=0;for(const P of d)for(let L=0;L<P.getCount();L++){const V=P.getDataCodewords(),H=u.getECCodewordsPerBlock()+V;f[y++]=new Gf(V,new Uint8Array(H))}const x=f[0].codewords.length;let v=f.length-1;for(;v>=0&&f[v].codewords.length!==x;)v--;v++;const A=x-u.getECCodewordsPerBlock();let T=0;for(let P=0;P<A;P++)for(let L=0;L<y;L++)f[L].codewords[P]=s[T++];for(let P=v;P<y;P++)f[P].codewords[A]=s[T++];const D=f[0].codewords.length;for(let P=A;P<D;P++)for(let L=0;L<y;L++){const V=L<v?P:P+1;f[L].codewords[V]=s[T++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var wr;(function(C){C[C.TERMINATOR=0]="TERMINATOR",C[C.NUMERIC=1]="NUMERIC",C[C.ALPHANUMERIC=2]="ALPHANUMERIC",C[C.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",C[C.BYTE=4]="BYTE",C[C.ECI=5]="ECI",C[C.KANJI=6]="KANJI",C[C.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",C[C.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",C[C.HANZI=9]="HANZI"})(wr||(wr={}));class me{constructor(s,a,l,u){this.value=s,this.stringValue=a,this.characterCountBitsForVersions=l,this.bits=u,me.FOR_BITS.set(u,this),me.FOR_VALUE.set(s,this)}static forBits(s){const a=me.FOR_BITS.get(s);if(a===void 0)throw new _;return a}getCharacterCountBits(s){const a=s.getVersionNumber();let l;return a<=9?l=0:a<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof me))return!1;const a=s;return this.value===a.value}toString(){return this.stringValue}}me.FOR_BITS=new Map,me.FOR_VALUE=new Map,me.TERMINATOR=new me(wr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),me.NUMERIC=new me(wr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),me.ALPHANUMERIC=new me(wr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),me.STRUCTURED_APPEND=new me(wr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),me.BYTE=new me(wr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),me.ECI=new me(wr.ECI,"ECI",Int32Array.from([0,0,0]),7),me.KANJI=new me(wr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),me.FNC1_FIRST_POSITION=new me(wr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),me.FNC1_SECOND_POSITION=new me(wr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),me.HANZI=new me(wr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class wt{static decode(s,a,l,u){const h=new Wf(s);let d=new Oe;const f=new Array;let y=-1,x=-1;try{let v=null,A=!1,T;do{if(h.available()<4)T=me.TERMINATOR;else{const D=h.readBits(4);T=me.forBits(D)}switch(T){case me.TERMINATOR:break;case me.FNC1_FIRST_POSITION:case me.FNC1_SECOND_POSITION:A=!0;break;case me.STRUCTURED_APPEND:if(h.available()<16)throw new j;y=h.readBits(8),x=h.readBits(8);break;case me.ECI:const D=wt.parseECIValue(h);if(v=$.getCharacterSetECIByValue(D),v===null)throw new j;break;case me.HANZI:const P=h.readBits(4),L=h.readBits(T.getCharacterCountBits(a));P===wt.GB2312_SUBSET&&wt.decodeHanziSegment(h,d,L);break;default:const V=h.readBits(T.getCharacterCountBits(a));switch(T){case me.NUMERIC:wt.decodeNumericSegment(h,d,V);break;case me.ALPHANUMERIC:wt.decodeAlphanumericSegment(h,d,V,A);break;case me.BYTE:wt.decodeByteSegment(h,d,V,v,f,u);break;case me.KANJI:wt.decodeKanjiSegment(h,d,V);break;default:throw new j}break}}while(T!==me.TERMINATOR)}catch{throw new j}return new il(s,d.toString(),f.length===0?null:f,l===null?null:l.toString(),y,x)}static decodeHanziSegment(s,a,l){if(l*13>s.available())throw new j;const u=new Uint8Array(2*l);let h=0;for(;l>0;){const d=s.readBits(13);let f=d/96<<8&4294967295|d%96;f<959?f+=41377:f+=42657,u[h]=f>>8&255,u[h+1]=f&255,h+=2,l--}try{a.append(Me.decode(u,pe.GB2312))}catch(d){throw new j(d)}}static decodeKanjiSegment(s,a,l){if(l*13>s.available())throw new j;const u=new Uint8Array(2*l);let h=0;for(;l>0;){const d=s.readBits(13);let f=d/192<<8&4294967295|d%192;f<7936?f+=33088:f+=49472,u[h]=f>>8,u[h+1]=f,h+=2,l--}try{a.append(Me.decode(u,pe.SHIFT_JIS))}catch(d){throw new j(d)}}static decodeByteSegment(s,a,l,u,h,d){if(8*l>s.available())throw new j;const f=new Uint8Array(l);for(let x=0;x<l;x++)f[x]=s.readBits(8);let y;u===null?y=pe.guessEncoding(f,d):y=u.getName();try{a.append(Me.decode(f,y))}catch(x){throw new j(x)}h.push(f)}static toAlphaNumericChar(s){if(s>=wt.ALPHANUMERIC_CHARS.length)throw new j;return wt.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,a,l,u){const h=a.length();for(;l>1;){if(s.available()<11)throw new j;const d=s.readBits(11);a.append(wt.toAlphaNumericChar(Math.floor(d/45))),a.append(wt.toAlphaNumericChar(d%45)),l-=2}if(l===1){if(s.available()<6)throw new j;a.append(wt.toAlphaNumericChar(s.readBits(6)))}if(u)for(let d=h;d<a.length();d++)a.charAt(d)==="%"&&(d<a.length()-1&&a.charAt(d+1)==="%"?a.deleteCharAt(d+1):a.setCharAt(d,String.fromCharCode(29)))}static decodeNumericSegment(s,a,l){for(;l>=3;){if(s.available()<10)throw new j;const u=s.readBits(10);if(u>=1e3)throw new j;a.append(wt.toAlphaNumericChar(Math.floor(u/100))),a.append(wt.toAlphaNumericChar(Math.floor(u/10)%10)),a.append(wt.toAlphaNumericChar(u%10)),l-=3}if(l===2){if(s.available()<7)throw new j;const u=s.readBits(7);if(u>=100)throw new j;a.append(wt.toAlphaNumericChar(Math.floor(u/10))),a.append(wt.toAlphaNumericChar(u%10))}else if(l===1){if(s.available()<4)throw new j;const u=s.readBits(4);if(u>=10)throw new j;a.append(wt.toAlphaNumericChar(u))}}static parseECIValue(s){const a=s.readBits(8);if(!(a&128))return a&127;if((a&192)===128){const l=s.readBits(8);return(a&63)<<8&4294967295|l}if((a&224)===192){const l=s.readBits(16);return(a&31)<<16&4294967295|l}throw new j}}wt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",wt.GB2312_SUBSET=1;class A2{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const a=s[0];s[0]=s[2],s[2]=a}}class WI{constructor(){this.rsDecoder=new ol(We.QR_CODE_FIELD_256)}decodeBooleanArray(s,a){return this.decodeBitMatrix(yt.parseFromBooleanArray(s),a)}decodeBitMatrix(s,a){const l=new HI(s);let u=null;try{return this.decodeBitMatrixParser(l,a)}catch(h){u=h}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const h=this.decodeBitMatrixParser(l,a);return h.setOther(new A2(!0)),h}catch(h){throw u!==null?u:h}}decodeBitMatrixParser(s,a){const l=s.readVersion(),u=s.readFormatInformation().getErrorCorrectionLevel(),h=s.readCodewords(),d=Gf.getDataBlocks(h,l,u);let f=0;for(const v of d)f+=v.getNumDataCodewords();const y=new Uint8Array(f);let x=0;for(const v of d){const A=v.getCodewords(),T=v.getNumDataCodewords();this.correctErrors(A,T);for(let D=0;D<T;D++)y[x++]=A[D]}return wt.decode(y,l,u,a)}correctErrors(s,a){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-a)}catch{throw new b}for(let u=0;u<a;u++)s[u]=l[u]}}class $f extends he{constructor(s,a,l){super(s,a),this.estimatedModuleSize=l}aboutEquals(s,a,l){if(Math.abs(a-this.getY())<=s&&Math.abs(l-this.getX())<=s){const u=Math.abs(s-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(s,a,l){const u=(this.getX()+a)/2,h=(this.getY()+s)/2,d=(this.estimatedModuleSize+l)/2;return new $f(u,h,d)}}class Iu{constructor(s,a,l,u,h,d,f){this.image=s,this.startX=a,this.startY=l,this.width=u,this.height=h,this.moduleSize=d,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,a=this.height,l=this.width,u=s+l,h=this.startY+a/2,d=new Int32Array(3),f=this.image;for(let y=0;y<a;y++){const x=h+(y&1?-Math.floor((y+1)/2):Math.floor((y+1)/2));d[0]=0,d[1]=0,d[2]=0;let v=s;for(;v<u&&!f.get(v,x);)v++;let A=0;for(;v<u;){if(f.get(v,x))if(A===1)d[1]++;else if(A===2){if(this.foundPatternCross(d)){const T=this.handlePossibleCenter(d,x,v);if(T!==null)return T}d[0]=d[2],d[1]=1,d[2]=0,A=1}else d[++A]++;else A===1&&A++,d[A]++;v++}if(this.foundPatternCross(d)){const T=this.handlePossibleCenter(d,x,u);if(T!==null)return T}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new W}static centerFromEnd(s,a){return a-s[2]-s[1]/2}foundPatternCross(s){const a=this.moduleSize,l=a/2;for(let u=0;u<3;u++)if(Math.abs(a-s[u])>=l)return!1;return!0}crossCheckVertical(s,a,l,u){const h=this.image,d=h.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let y=s;for(;y>=0&&h.get(a,y)&&f[1]<=l;)f[1]++,y--;if(y<0||f[1]>l)return NaN;for(;y>=0&&!h.get(a,y)&&f[0]<=l;)f[0]++,y--;if(f[0]>l)return NaN;for(y=s+1;y<d&&h.get(a,y)&&f[1]<=l;)f[1]++,y++;if(y===d||f[1]>l)return NaN;for(;y<d&&!h.get(a,y)&&f[2]<=l;)f[2]++,y++;if(f[2]>l)return NaN;const x=f[0]+f[1]+f[2];return 5*Math.abs(x-u)>=2*u?NaN:this.foundPatternCross(f)?Iu.centerFromEnd(f,y):NaN}handlePossibleCenter(s,a,l){const u=s[0]+s[1]+s[2],h=Iu.centerFromEnd(s,l),d=this.crossCheckVertical(a,h,2*s[1],u);if(!isNaN(d)){const f=(s[0]+s[1]+s[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(f,d,h))return x.combineEstimate(d,h,f);const y=new $f(h,d,f);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class Xf extends he{constructor(s,a,l,u){super(s,a),this.estimatedModuleSize=l,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,a,l){if(Math.abs(a-this.getY())<=s&&Math.abs(l-this.getX())<=s){const u=Math.abs(s-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(s,a,l){const u=this.count+1,h=(this.count*this.getX()+a)/u,d=(this.count*this.getY()+s)/u,f=(this.count*this.estimatedModuleSize+l)/u;return new Xf(h,d,f,u)}}class GI{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Jt{constructor(s,a){this.image=s,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const a=s!=null&&s.get(G.TRY_HARDER)!==void 0,l=s!=null&&s.get(G.PURE_BARCODE)!==void 0,u=this.image,h=u.getHeight(),d=u.getWidth();let f=Math.floor(3*h/(4*Jt.MAX_MODULES));(f<Jt.MIN_SKIP||a)&&(f=Jt.MIN_SKIP);let y=!1;const x=new Int32Array(5);for(let A=f-1;A<h&&!y;A+=f){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let T=0;for(let D=0;D<d;D++)if(u.get(D,A))(T&1)===1&&T++,x[T]++;else if(T&1)x[T]++;else if(T===4)if(Jt.foundPatternCross(x)){if(this.handlePossibleCenter(x,A,D,l)===!0)if(f=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const L=this.findRowSkip();L>x[2]&&(A+=L-x[2]-f,D=d-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,T=3;continue}T=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,T=3;else x[++T]++;Jt.foundPatternCross(x)&&this.handlePossibleCenter(x,A,d,l)===!0&&(f=x[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const v=this.selectBestPatterns();return he.orderBestPatterns(v),new GI(v)}static centerFromEnd(s,a){return a-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let a=0;for(let h=0;h<5;h++){const d=s[h];if(d===0)return!1;a+=d}if(a<7)return!1;const l=a/7,u=l/2;return Math.abs(l-s[0])<u&&Math.abs(l-s[1])<u&&Math.abs(3*l-s[2])<3*u&&Math.abs(l-s[3])<u&&Math.abs(l-s[4])<u}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,a,l,u){const h=this.getCrossCheckStateCount();let d=0;const f=this.image;for(;s>=d&&a>=d&&f.get(a-d,s-d);)h[2]++,d++;if(s<d||a<d)return!1;for(;s>=d&&a>=d&&!f.get(a-d,s-d)&&h[1]<=l;)h[1]++,d++;if(s<d||a<d||h[1]>l)return!1;for(;s>=d&&a>=d&&f.get(a-d,s-d)&&h[0]<=l;)h[0]++,d++;if(h[0]>l)return!1;const y=f.getHeight(),x=f.getWidth();for(d=1;s+d<y&&a+d<x&&f.get(a+d,s+d);)h[2]++,d++;if(s+d>=y||a+d>=x)return!1;for(;s+d<y&&a+d<x&&!f.get(a+d,s+d)&&h[3]<l;)h[3]++,d++;if(s+d>=y||a+d>=x||h[3]>=l)return!1;for(;s+d<y&&a+d<x&&f.get(a+d,s+d)&&h[4]<l;)h[4]++,d++;if(h[4]>=l)return!1;const v=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(v-u)<2*u&&Jt.foundPatternCross(h)}crossCheckVertical(s,a,l,u){const h=this.image,d=h.getHeight(),f=this.getCrossCheckStateCount();let y=s;for(;y>=0&&h.get(a,y);)f[2]++,y--;if(y<0)return NaN;for(;y>=0&&!h.get(a,y)&&f[1]<=l;)f[1]++,y--;if(y<0||f[1]>l)return NaN;for(;y>=0&&h.get(a,y)&&f[0]<=l;)f[0]++,y--;if(f[0]>l)return NaN;for(y=s+1;y<d&&h.get(a,y);)f[2]++,y++;if(y===d)return NaN;for(;y<d&&!h.get(a,y)&&f[3]<l;)f[3]++,y++;if(y===d||f[3]>=l)return NaN;for(;y<d&&h.get(a,y)&&f[4]<l;)f[4]++,y++;if(f[4]>=l)return NaN;const x=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(x-u)>=2*u?NaN:Jt.foundPatternCross(f)?Jt.centerFromEnd(f,y):NaN}crossCheckHorizontal(s,a,l,u){const h=this.image,d=h.getWidth(),f=this.getCrossCheckStateCount();let y=s;for(;y>=0&&h.get(y,a);)f[2]++,y--;if(y<0)return NaN;for(;y>=0&&!h.get(y,a)&&f[1]<=l;)f[1]++,y--;if(y<0||f[1]>l)return NaN;for(;y>=0&&h.get(y,a)&&f[0]<=l;)f[0]++,y--;if(f[0]>l)return NaN;for(y=s+1;y<d&&h.get(y,a);)f[2]++,y++;if(y===d)return NaN;for(;y<d&&!h.get(y,a)&&f[3]<l;)f[3]++,y++;if(y===d||f[3]>=l)return NaN;for(;y<d&&h.get(y,a)&&f[4]<l;)f[4]++,y++;if(f[4]>=l)return NaN;const x=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(x-u)>=u?NaN:Jt.foundPatternCross(f)?Jt.centerFromEnd(f,y):NaN}handlePossibleCenter(s,a,l,u){const h=s[0]+s[1]+s[2]+s[3]+s[4];let d=Jt.centerFromEnd(s,l),f=this.crossCheckVertical(a,Math.floor(d),s[2],h);if(!isNaN(f)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(f),s[2],h),!isNaN(d)&&(!u||this.crossCheckDiagonal(Math.floor(f),Math.floor(d),s[2],h)))){const y=h/7;let x=!1;const v=this.possibleCenters;for(let A=0,T=v.length;A<T;A++){const D=v[A];if(D.aboutEquals(y,f,d)){v[A]=D.combineEstimate(f,d,y),x=!0;break}}if(!x){const A=new Xf(d,f,y);v.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const l of this.possibleCenters)if(l.getCount()>=Jt.CENTER_QUORUM)if(a==null)a=l;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,a=0;const l=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=Jt.CENTER_QUORUM&&(s++,a+=d.getEstimatedModuleSize());if(s<3)return!1;const u=a/l;let h=0;for(const d of this.possibleCenters)h+=Math.abs(d.getEstimatedModuleSize()-u);return h<=.05*a}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new W;const a=this.possibleCenters;let l;if(s>3){let u=0,h=0;for(const y of this.possibleCenters){const x=y.getEstimatedModuleSize();u+=x,h+=x*x}l=u/s;let d=Math.sqrt(h/s-l*l);a.sort((y,x)=>{const v=Math.abs(x.getEstimatedModuleSize()-l),A=Math.abs(y.getEstimatedModuleSize()-l);return v<A?-1:v>A?1:0});const f=Math.max(.2*l,d);for(let y=0;y<a.length&&a.length>3;y++){const x=a[y];Math.abs(x.getEstimatedModuleSize()-l)>f&&(a.splice(y,1),y--)}}if(a.length>3){let u=0;for(const h of a)u+=h.getEstimatedModuleSize();l=u/a.length,a.sort((h,d)=>{if(d.getCount()===h.getCount()){const f=Math.abs(d.getEstimatedModuleSize()-l),y=Math.abs(h.getEstimatedModuleSize()-l);return f<y?1:f>y?-1:0}else return d.getCount()-h.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}Jt.CENTER_QUORUM=2,Jt.MIN_SKIP=3,Jt.MAX_MODULES=57;class ll{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(G.NEED_RESULT_POINT_CALLBACK);const l=new Jt(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(l)}processFinderPatternInfo(s){const a=s.getTopLeft(),l=s.getTopRight(),u=s.getBottomLeft(),h=this.calculateModuleSize(a,l,u);if(h<1)throw new W("No pattern found in proccess finder.");const d=ll.computeDimension(a,l,u,h),f=ge.getProvisionalVersionForDimension(d),y=f.getDimensionForVersion()-7;let x=null;if(f.getAlignmentPatternCenters().length>0){const D=l.getX()-a.getX()+u.getX(),P=l.getY()-a.getY()+u.getY(),L=1-3/y,V=Math.floor(a.getX()+L*(D-a.getX())),H=Math.floor(a.getY()+L*(P-a.getY()));for(let ee=4;ee<=16;ee<<=1)try{x=this.findAlignmentInRegion(h,V,H,ee);break}catch(te){if(!(te instanceof W))throw te}}const v=ll.createTransform(a,l,u,x,d),A=ll.sampleGrid(this.image,v,d);let T;return x===null?T=[u,a,l]:T=[u,a,l,x],new Eu(A,T)}static createTransform(s,a,l,u,h){const d=h-3.5;let f,y,x,v;return u!==null?(f=u.getX(),y=u.getY(),x=d-3,v=x):(f=a.getX()-s.getX()+l.getX(),y=a.getY()-s.getY()+l.getY(),x=d,v=d),br.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,x,v,3.5,d,s.getX(),s.getY(),a.getX(),a.getY(),f,y,l.getX(),l.getY())}static sampleGrid(s,a,l){return zi.getInstance().sampleGridWithTransform(s,l,l,a)}static computeDimension(s,a,l,u){const h=je.round(he.distance(s,a)/u),d=je.round(he.distance(s,l)/u);let f=Math.floor((h+d)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new W("Dimensions could be not found.")}return f}calculateModuleSize(s,a,l){return(this.calculateModuleSizeOneWay(s,a)+this.calculateModuleSizeOneWay(s,l))/2}calculateModuleSizeOneWay(s,a){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(a.getX()),Math.floor(a.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(l)?u/7:isNaN(u)?l/7:(l+u)/14}sizeOfBlackWhiteBlackRunBothWays(s,a,l,u){let h=this.sizeOfBlackWhiteBlackRun(s,a,l,u),d=1,f=s-(l-s);f<0?(d=s/(s-f),f=0):f>=this.image.getWidth()&&(d=(this.image.getWidth()-1-s)/(f-s),f=this.image.getWidth()-1);let y=Math.floor(a-(u-a)*d);return d=1,y<0?(d=a/(a-y),y=0):y>=this.image.getHeight()&&(d=(this.image.getHeight()-1-a)/(y-a),y=this.image.getHeight()-1),f=Math.floor(s+(f-s)*d),h+=this.sizeOfBlackWhiteBlackRun(s,a,f,y),h-1}sizeOfBlackWhiteBlackRun(s,a,l,u){const h=Math.abs(u-a)>Math.abs(l-s);if(h){let D=s;s=a,a=D,D=l,l=u,u=D}const d=Math.abs(l-s),f=Math.abs(u-a);let y=-d/2;const x=s<l?1:-1,v=a<u?1:-1;let A=0;const T=l+x;for(let D=s,P=a;D!==T;D+=x){const L=h?P:D,V=h?D:P;if(A===1===this.image.get(L,V)){if(A===2)return je.distance(D,P,s,a);A++}if(y+=f,y>0){if(P===u)break;P+=v,y-=d}}return A===2?je.distance(l+x,u,s,a):NaN}findAlignmentInRegion(s,a,l,u){const h=Math.floor(u*s),d=Math.max(0,a-h),f=Math.min(this.image.getWidth()-1,a+h);if(f-d<s*3)throw new W("Alignment top exceeds estimated module size.");const y=Math.max(0,l-h),x=Math.min(this.image.getHeight()-1,l+h);if(x-y<s*3)throw new W("Alignment bottom exceeds estimated module size.");return new Iu(this.image,d,y,f-d,x-y,s,this.resultPointCallback).find()}}class $i{constructor(){this.decoder=new WI}getDecoder(){return this.decoder}decode(s,a){let l,u;if(a!=null&&a.get(G.PURE_BARCODE)!==void 0){const y=$i.extractPureBits(s.getBlackMatrix());l=this.decoder.decodeBitMatrix(y,a),u=$i.NO_POINTS}else{const y=new ll(s.getBlackMatrix()).detect(a);l=this.decoder.decodeBitMatrix(y.getBits(),a),u=y.getPoints()}l.getOther()instanceof A2&&l.getOther().applyMirroredCorrection(u);const h=new xt(l.getText(),l.getRawBytes(),void 0,u,fe.QR_CODE,void 0),d=l.getByteSegments();d!==null&&h.putMetadata(Qt.BYTE_SEGMENTS,d);const f=l.getECLevel();return f!==null&&h.putMetadata(Qt.ERROR_CORRECTION_LEVEL,f),l.hasStructuredAppend()&&(h.putMetadata(Qt.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),h.putMetadata(Qt.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),h}reset(){}static extractPureBits(s){const a=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(a===null||l===null)throw new W;const u=this.moduleSize(a,s);let h=a[1],d=l[1],f=a[0],y=l[0];if(f>=y||h>=d)throw new W;if(d-h!==y-f&&(y=f+(d-h),y>=s.getWidth()))throw new W;const x=Math.round((y-f+1)/u),v=Math.round((d-h+1)/u);if(x<=0||v<=0)throw new W;if(v!==x)throw new W;const A=Math.floor(u/2);h+=A,f+=A;const T=f+Math.floor((x-1)*u)-y;if(T>0){if(T>A)throw new W;f-=T}const D=h+Math.floor((v-1)*u)-d;if(D>0){if(D>A)throw new W;h-=D}const P=new yt(x,v);for(let L=0;L<v;L++){const V=h+Math.floor(L*u);for(let H=0;H<x;H++)s.get(f+Math.floor(H*u),V)&&P.set(H,L)}return P}static moduleSize(s,a){const l=a.getHeight(),u=a.getWidth();let h=s[0],d=s[1],f=!0,y=0;for(;h<u&&d<l;){if(f!==a.get(h,d)){if(++y===5)break;f=!f}h++,d++}if(h===u||d===l)throw new W;return(h-s[0])/7}}$i.NO_POINTS=new Array;class Ee{PDF417Common(){}static getBitCountSum(s){return je.sum(s)}static toIntArray(s){if(s==null||!s.length)return Ee.EMPTY_INT_ARRAY;const a=new Int32Array(s.length);let l=0;for(const u of s)a[l++]=u;return a}static getCodeword(s){const a=S.binarySearch(Ee.SYMBOL_TABLE,s&262143);return a<0?-1:(Ee.CODEWORD_TABLE[a]-1)%Ee.NUMBER_OF_CODEWORDS}}Ee.NUMBER_OF_CODEWORDS=929,Ee.MAX_CODEWORDS_IN_BARCODE=Ee.NUMBER_OF_CODEWORDS-1,Ee.MIN_ROWS_IN_BARCODE=3,Ee.MAX_ROWS_IN_BARCODE=90,Ee.MODULES_IN_CODEWORD=17,Ee.MODULES_IN_STOP_PATTERN=18,Ee.BARS_IN_MODULE=8,Ee.EMPTY_INT_ARRAY=new Int32Array([]),Ee.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ee.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class $I{constructor(s,a){this.bits=s,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Ne{static detectMultiple(s,a,l){let u=s.getBlackMatrix(),h=Ne.detect(l,u);return h.length||(u=u.clone(),u.rotate180(),h=Ne.detect(l,u)),new $I(u,h)}static detect(s,a){const l=new Array;let u=0,h=0,d=!1;for(;u<a.getHeight();){const f=Ne.findVertices(a,u,h);if(f[0]==null&&f[3]==null){if(!d)break;d=!1,h=0;for(const y of l)y[1]!=null&&(u=Math.trunc(Math.max(u,y[1].getY()))),y[3]!=null&&(u=Math.max(u,Math.trunc(y[3].getY())));u+=Ne.ROW_STEP;continue}if(d=!0,l.push(f),!s)break;f[2]!=null?(h=Math.trunc(f[2].getX()),u=Math.trunc(f[2].getY())):(h=Math.trunc(f[4].getX()),u=Math.trunc(f[4].getY()))}return l}static findVertices(s,a,l){const u=s.getHeight(),h=s.getWidth(),d=new Array(8);return Ne.copyToResult(d,Ne.findRowsWithPattern(s,u,h,a,l,Ne.START_PATTERN),Ne.INDEXES_START_PATTERN),d[4]!=null&&(l=Math.trunc(d[4].getX()),a=Math.trunc(d[4].getY())),Ne.copyToResult(d,Ne.findRowsWithPattern(s,u,h,a,l,Ne.STOP_PATTERN),Ne.INDEXES_STOP_PATTERN),d}static copyToResult(s,a,l){for(let u=0;u<l.length;u++)s[l[u]]=a[u]}static findRowsWithPattern(s,a,l,u,h,d){const f=new Array(4);let y=!1;const x=new Int32Array(d.length);for(;u<a;u+=Ne.ROW_STEP){let A=Ne.findGuardPattern(s,h,u,l,!1,d,x);if(A!=null){for(;u>0;){const T=Ne.findGuardPattern(s,h,--u,l,!1,d,x);if(T!=null)A=T;else{u++;break}}f[0]=new he(A[0],u),f[1]=new he(A[1],u),y=!0;break}}let v=u+1;if(y){let A=0,T=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;v<a;v++){const D=Ne.findGuardPattern(s,T[0],v,l,!1,d,x);if(D!=null&&Math.abs(T[0]-D[0])<Ne.MAX_PATTERN_DRIFT&&Math.abs(T[1]-D[1])<Ne.MAX_PATTERN_DRIFT)T=D,A=0;else{if(A>Ne.SKIPPED_ROW_COUNT_MAX)break;A++}}v-=A+1,f[2]=new he(T[0],v),f[3]=new he(T[1],v)}return v-u<Ne.BARCODE_MIN_HEIGHT&&S.fill(f,null),f}static findGuardPattern(s,a,l,u,h,d,f){S.fillWithin(f,0,f.length,0);let y=a,x=0;for(;s.get(y,l)&&y>0&&x++<Ne.MAX_PIXEL_DRIFT;)y--;let v=y,A=0,T=d.length;for(let D=h;v<u;v++)if(s.get(v,l)!==D)f[A]++;else{if(A===T-1){if(Ne.patternMatchVariance(f,d,Ne.MAX_INDIVIDUAL_VARIANCE)<Ne.MAX_AVG_VARIANCE)return new Int32Array([y,v]);y+=f[0]+f[1],R.arraycopy(f,2,f,0,A-1),f[A-1]=0,f[A]=0,A--}else A++;f[A]=1,D=!D}return A===T-1&&Ne.patternMatchVariance(f,d,Ne.MAX_INDIVIDUAL_VARIANCE)<Ne.MAX_AVG_VARIANCE?new Int32Array([y,v-1]):null}static patternMatchVariance(s,a,l){let u=s.length,h=0,d=0;for(let x=0;x<u;x++)h+=s[x],d+=a[x];if(h<d)return 1/0;let f=h/d;l*=f;let y=0;for(let x=0;x<u;x++){let v=s[x],A=a[x]*f,T=v>A?v-A:A-v;if(T>l)return 1/0;y+=T}return y/h}}Ne.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ne.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ne.MAX_AVG_VARIANCE=.42,Ne.MAX_INDIVIDUAL_VARIANCE=.8,Ne.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ne.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ne.MAX_PIXEL_DRIFT=3,Ne.MAX_PATTERN_DRIFT=5,Ne.SKIPPED_ROW_COUNT_MAX=25,Ne.ROW_STEP=5,Ne.BARCODE_MIN_HEIGHT=10;class ln{constructor(s,a){if(a.length===0)throw new _;this.field=s;let l=a.length;if(l>1&&a[0]===0){let u=1;for(;u<l&&a[u]===0;)u++;u===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-u),R.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let u=0;for(let h of this.coefficients)u=this.field.add(u,h);return u}let a=this.coefficients[0],l=this.coefficients.length;for(let u=1;u<l;u++)a=this.field.add(this.field.multiply(s,a),this.coefficients[u]);return a}add(s){if(!this.field.equals(s.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let a=this.coefficients,l=s.coefficients;if(a.length>l.length){let d=a;a=l,l=d}let u=new Int32Array(l.length),h=l.length-a.length;R.arraycopy(l,0,u,0,h);for(let d=h;d<l.length;d++)u[d]=this.field.add(a[d-h],l[d]);return new ln(this.field,u)}subtract(s){if(!this.field.equals(s.field))throw new _("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof ln?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new ln(this.field,new Int32Array([0]));let a=this.coefficients,l=a.length,u=s.coefficients,h=u.length,d=new Int32Array(l+h-1);for(let f=0;f<l;f++){let y=a[f];for(let x=0;x<h;x++)d[f+x]=this.field.add(d[f+x],this.field.multiply(y,u[x]))}return new ln(this.field,d)}negative(){let s=this.coefficients.length,a=new Int32Array(s);for(let l=0;l<s;l++)a[l]=this.field.subtract(0,this.coefficients[l]);return new ln(this.field,a)}multiplyScalar(s){if(s===0)return new ln(this.field,new Int32Array([0]));if(s===1)return this;let a=this.coefficients.length,l=new Int32Array(a);for(let u=0;u<a;u++)l[u]=this.field.multiply(this.coefficients[u],s);return new ln(this.field,l)}multiplyByMonomial(s,a){if(s<0)throw new _;if(a===0)return new ln(this.field,new Int32Array([0]));let l=this.coefficients.length,u=new Int32Array(l+s);for(let h=0;h<l;h++)u[h]=this.field.multiply(this.coefficients[h],a);return new ln(this.field,u)}toString(){let s=new Oe;for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);l!==0&&(l<0?(s.append(" - "),l=-l):s.length()>0&&s.append(" + "),(a===0||l!==1)&&s.append(l),a!==0&&(a===1?s.append("x"):(s.append("x^"),s.append(a))))}return s.toString()}}class XI{add(s,a){return(s+a)%this.modulus}subtract(s,a){return(this.modulus+s-a)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new _;return this.logTable[s]}inverse(s){if(s===0)throw new xu;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,a){return s===0||a===0?0:this.expTable[(this.logTable[s]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class Yf extends XI{constructor(s,a){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let l=1;for(let u=0;u<s;u++)this.expTable[u]=l,l=l*a%s;for(let u=0;u<s-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new ln(this,new Int32Array([0])),this.one=new ln(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,a){if(s<0)throw new _;if(a===0)return this.zero;let l=new Int32Array(s+1);return l[0]=a,new ln(this,l)}}Yf.PDF417_GF=new Yf(Ee.NUMBER_OF_CODEWORDS,3);class I2{constructor(){this.field=Yf.PDF417_GF}decode(s,a,l){let u=new ln(this.field,s),h=new Int32Array(a),d=!1;for(let P=a;P>0;P--){let L=u.evaluateAt(this.field.exp(P));h[a-P]=L,L!==0&&(d=!0)}if(!d)return 0;let f=this.field.getOne();if(l!=null)for(const P of l){let L=this.field.exp(s.length-1-P),V=new ln(this.field,new Int32Array([this.field.subtract(0,L),1]));f=f.multiply(V)}let y=new ln(this.field,h),x=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),y,a),v=x[0],A=x[1],T=this.findErrorLocations(v),D=this.findErrorMagnitudes(A,v,T);for(let P=0;P<T.length;P++){let L=s.length-1-this.field.log(T[P]);if(L<0)throw b.getChecksumInstance();s[L]=this.field.subtract(s[L],D[P])}return T.length}runEuclideanAlgorithm(s,a,l){if(s.getDegree()<a.getDegree()){let T=s;s=a,a=T}let u=s,h=a,d=this.field.getZero(),f=this.field.getOne();for(;h.getDegree()>=Math.round(l/2);){let T=u,D=d;if(u=h,d=f,u.isZero())throw b.getChecksumInstance();h=T;let P=this.field.getZero(),L=u.getCoefficient(u.getDegree()),V=this.field.inverse(L);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){let H=h.getDegree()-u.getDegree(),ee=this.field.multiply(h.getCoefficient(h.getDegree()),V);P=P.add(this.field.buildMonomial(H,ee)),h=h.subtract(u.multiplyByMonomial(H,ee))}f=P.multiply(d).subtract(D).negative()}let y=f.getCoefficient(0);if(y===0)throw b.getChecksumInstance();let x=this.field.inverse(y),v=f.multiply(x),A=h.multiply(x);return[v,A]}findErrorLocations(s){let a=s.getDegree(),l=new Int32Array(a),u=0;for(let h=1;h<this.field.getSize()&&u<a;h++)s.evaluateAt(h)===0&&(l[u]=this.field.inverse(h),u++);if(u!==a)throw b.getChecksumInstance();return l}findErrorMagnitudes(s,a,l){let u=a.getDegree(),h=new Int32Array(u);for(let x=1;x<=u;x++)h[u-x]=this.field.multiply(x,a.getCoefficient(x));let d=new ln(this.field,h),f=l.length,y=new Int32Array(f);for(let x=0;x<f;x++){let v=this.field.inverse(l[x]),A=this.field.subtract(0,s.evaluateAt(v)),T=this.field.inverse(d.evaluateAt(v));y[x]=this.field.multiply(A,T)}return y}}class zs{constructor(s,a,l,u,h){s instanceof zs?this.constructor_2(s):this.constructor_1(s,a,l,u,h)}constructor_1(s,a,l,u,h){const d=a==null||l==null,f=u==null||h==null;if(d&&f)throw new W;d?(a=new he(0,u.getY()),l=new he(0,h.getY())):f&&(u=new he(s.getWidth()-1,a.getY()),h=new he(s.getWidth()-1,l.getY())),this.image=s,this.topLeft=a,this.bottomLeft=l,this.topRight=u,this.bottomRight=h,this.minX=Math.trunc(Math.min(a.getX(),l.getX())),this.maxX=Math.trunc(Math.max(u.getX(),h.getX())),this.minY=Math.trunc(Math.min(a.getY(),u.getY())),this.maxY=Math.trunc(Math.max(l.getY(),h.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,a){return s==null?a:a==null?s:new zs(s.image,s.topLeft,s.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(s,a,l){let u=this.topLeft,h=this.bottomLeft,d=this.topRight,f=this.bottomRight;if(s>0){let y=l?this.topLeft:this.topRight,x=Math.trunc(y.getY()-s);x<0&&(x=0);let v=new he(y.getX(),x);l?u=v:d=v}if(a>0){let y=l?this.bottomLeft:this.bottomRight,x=Math.trunc(y.getY()+a);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let v=new he(y.getX(),x);l?h=v:f=v}return new zs(this.image,u,h,d,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class YI{constructor(s,a,l,u){this.columnCount=s,this.errorCorrectionLevel=u,this.rowCountUpperPart=a,this.rowCountLowerPart=l,this.rowCount=a+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class cl{constructor(){this.buffer=""}static form(s,a){let l=-1;function u(d,f,y,x,v,A){if(d==="%%")return"%";if(a[++l]===void 0)return;d=x?parseInt(x.substr(1)):void 0;let T=v?parseInt(v.substr(1)):void 0,D;switch(A){case"s":D=a[l];break;case"c":D=a[l][0];break;case"f":D=parseFloat(a[l]).toFixed(d);break;case"p":D=parseFloat(a[l]).toPrecision(d);break;case"e":D=parseFloat(a[l]).toExponential(d);break;case"x":D=parseInt(a[l]).toString(T||16);break;case"d":D=parseFloat(parseInt(a[l],T||10).toPrecision(d)).toFixed(0);break}D=typeof D=="object"?JSON.stringify(D):(+D).toString(T);let P=parseInt(y),L=y&&y[0]+""=="0"?"0":" ";for(;D.length<P;)D=f!==void 0?D+L:L+D;return D}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,u)}format(s,...a){this.buffer+=cl.form(s,a)}toString(){return this.buffer}}class ul{constructor(s){this.boundingBox=new zs(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let a=this.getCodeword(s);if(a!=null)return a;for(let l=1;l<ul.MAX_NEARBY_DISTANCE;l++){let u=this.imageRowToCodewordIndex(s)-l;if(u>=0&&(a=this.codewords[u],a!=null)||(u=this.imageRowToCodewordIndex(s)+l,u<this.codewords.length&&(a=this.codewords[u],a!=null)))return a}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,a){this.codewords[this.imageRowToCodewordIndex(s)]=a}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new cl;let a=0;for(const l of this.codewords){if(l==null){s.format("%3d:    |   %n",a++);continue}s.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue())}return s.toString()}}ul.MAX_NEARBY_DISTANCE=5;class hl{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let a=this.values.get(s);a==null&&(a=0),a++,this.values.set(s,a)}getValue(){let s=-1,a=new Array;for(const[l,u]of this.values.entries()){const h={getKey:()=>l,getValue:()=>u};h.getValue()>s?(s=h.getValue(),a=[],a.push(h.getKey())):h.getValue()===s&&a.push(h.getKey())}return Ee.toIntArray(a)}getConfidence(s){return this.values.get(s)}}class T2 extends ul{constructor(s,a){super(s),this._isLeft=a}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,s);let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),h=this._isLeft?l.getBottomLeft():l.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),f=this.imageRowToCodewordIndex(Math.trunc(h.getY())),y=-1,x=1,v=0;for(let A=d;A<f;A++){if(a[A]==null)continue;let T=a[A],D=T.getRowNumber()-y;if(D===0)v++;else if(D===1)x=Math.max(x,v),v=1,y=T.getRowNumber();else if(D<0||T.getRowNumber()>=s.getRowCount()||D>A)a[A]=null;else{let P;x>2?P=(x-2)*D:P=D;let L=P>=A;for(let V=1;V<=P&&!L;V++)L=a[A-V]!=null;L?a[A]=null:(y=T.getRowNumber(),v=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let a=new Int32Array(s.getRowCount());for(let l of this.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=a.length)continue;a[u]++}return a}adjustIncompleteIndicatorColumnRowNumbers(s){let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),f=this.getCodewords(),y=-1;for(let x=h;x<d;x++){if(f[x]==null)continue;let v=f[x];v.setRowNumberAsRowIndicatorColumn();let A=v.getRowNumber()-y;A===0||(A===1?y=v.getRowNumber():v.getRowNumber()>=s.getRowCount()?f[x]=null:y=v.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),a=new hl,l=new hl,u=new hl,h=new hl;for(let f of s){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let y=f.getValue()%30,x=f.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:l.setValue(y*3+1);break;case 1:h.setValue(y/3),u.setValue(y%3);break;case 2:a.setValue(y+1);break}}if(a.getValue().length===0||l.getValue().length===0||u.getValue().length===0||h.getValue().length===0||a.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<Ee.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>Ee.MAX_ROWS_IN_BARCODE)return null;let d=new YI(a.getValue()[0],l.getValue()[0],u.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(s,d),d}removeIncorrectCodewords(s,a){for(let l=0;l<s.length;l++){let u=s[l];if(s[l]==null)continue;let h=u.getValue()%30,d=u.getRowNumber();if(d>a.getRowCount()){s[l]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:h*3+1!==a.getRowCountUpperPart()&&(s[l]=null);break;case 1:(Math.trunc(h/3)!==a.getErrorCorrectionLevel()||h%3!==a.getRowCountLowerPart())&&(s[l]=null);break;case 2:h+1!==a.getColumnCount()&&(s[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class dl{constructor(s,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=Ee.MAX_CODEWORDS_IN_BARCODE,a;do a=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let l=this.detectionResultColumns[a].getCodewords();for(let u=0;u<l.length;u++)l[u]!=null&&(l[u].hasValidRowNumber()||this.adjustRowNumbers(a,u,l))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++)if(s[l]!=null&&a[l]!=null&&s[l].getRowNumber()===a[l].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let h=this.detectionResultColumns[u].getCodewords()[l];h!=null&&(h.setRowNumber(s[l].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let u=a[l].getRowNumber(),h=0;for(let d=this.barcodeColumnCount+1;d>0&&h<this.ADJUST_ROW_NUMBER_SKIP;d--){let f=this.detectionResultColumns[d].getCodewords()[l];f!=null&&(h=dl.adjustRowNumberIfValid(u,h,f),f.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,a=this.detectionResultColumns[0].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let u=a[l].getRowNumber(),h=0;for(let d=1;d<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;d++){let f=this.detectionResultColumns[d].getCodewords()[l];f!=null&&(h=dl.adjustRowNumberIfValid(u,h,f),f.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,a,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(s)?(l.setRowNumber(s),a=0):++a),a}adjustRowNumbers(s,a,l){if(!this.detectionResultColumns[s-1])return;let u=l[a],h=this.detectionResultColumns[s-1].getCodewords(),d=h;this.detectionResultColumns[s+1]!=null&&(d=this.detectionResultColumns[s+1].getCodewords());let f=new Array(14);f[2]=h[a],f[3]=d[a],a>0&&(f[0]=l[a-1],f[4]=h[a-1],f[5]=d[a-1]),a>1&&(f[8]=l[a-2],f[10]=h[a-2],f[11]=d[a-2]),a<l.length-1&&(f[1]=l[a+1],f[6]=h[a+1],f[7]=d[a+1]),a<l.length-2&&(f[9]=l[a+2],f[12]=h[a+2],f[13]=d[a+2]);for(let y of f)if(dl.adjustRowNumber(u,y))return}static adjustRowNumber(s,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===s.getBucket()?(s.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,a){this.detectionResultColumns[s]=a}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new cl;for(let l=0;l<s.getCodewords().length;l++){a.format("CW %3d:",l);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){a.format("    |   ");continue}let h=this.detectionResultColumns[u].getCodewords()[l];if(h==null){a.format("    |   ");continue}a.format(" %3d|%3d",h.getRowNumber(),h.getValue())}a.format("%n")}return a.toString()}}class fl{constructor(s,a,l,u){this.rowNumber=fl.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(a),this.bucket=Math.trunc(l),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==fl.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}fl.BARCODE_ROW_UNKNOWN=-1;class Xn{static initialize(){for(let s=0;s<Ee.SYMBOL_TABLE.length;s++){let a=Ee.SYMBOL_TABLE[s],l=a&1;for(let u=0;u<Ee.BARS_IN_MODULE;u++){let h=0;for(;(a&1)===l;)h+=1,a>>=1;l=a&1,Xn.RATIOS_TABLE[s]||(Xn.RATIOS_TABLE[s]=new Array(Ee.BARS_IN_MODULE)),Xn.RATIOS_TABLE[s][Ee.BARS_IN_MODULE-u-1]=Math.fround(h/Ee.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let a=Xn.getDecodedCodewordValue(Xn.sampleBitCounts(s));return a!==-1?a:Xn.getClosestDecodedValue(s)}static sampleBitCounts(s){let a=je.sum(s),l=new Int32Array(Ee.BARS_IN_MODULE),u=0,h=0;for(let d=0;d<Ee.MODULES_IN_CODEWORD;d++){let f=a/(2*Ee.MODULES_IN_CODEWORD)+d*a/Ee.MODULES_IN_CODEWORD;h+s[u]<=f&&(h+=s[u],u++),l[u]++}return l}static getDecodedCodewordValue(s){let a=Xn.getBitValue(s);return Ee.getCodeword(a)===-1?-1:a}static getBitValue(s){let a=0;for(let l=0;l<s.length;l++)for(let u=0;u<s[l];u++)a=a<<1|(l%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(s){let a=je.sum(s),l=new Array(Ee.BARS_IN_MODULE);if(a>1)for(let d=0;d<l.length;d++)l[d]=Math.fround(s[d]/a);let u=wu.MAX_VALUE,h=-1;this.bSymbolTableReady||Xn.initialize();for(let d=0;d<Xn.RATIOS_TABLE.length;d++){let f=0,y=Xn.RATIOS_TABLE[d];for(let x=0;x<Ee.BARS_IN_MODULE;x++){let v=Math.fround(y[x]-l[x]);if(f+=Math.fround(v*v),f>=u)break}f<u&&(u=f,h=Ee.SYMBOL_TABLE[d])}return h}}Xn.bSymbolTableReady=!1,Xn.RATIOS_TABLE=new Array(Ee.SYMBOL_TABLE.length).map(C=>new Array(Ee.BARS_IN_MODULE));class S2{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class b2{static parseLong(s,a=void 0){return parseInt(s,a)}}class N2 extends p{}N2.kind="NullPointerException";class KI{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,a,l){if(s==null)throw new N2;if(a<0||a>s.length||l<0||a+l>s.length||a+l<0)throw new F;if(l===0)return;for(let u=0;u<l;u++)this.write(s[a+u])}flush(){}close(){}}class qI extends p{}class QI extends KI{constructor(s=32){if(super(),this.count=0,s<0)throw new _("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let l=this.buf.length<<1;if(l-s<0&&(l=s),l<0){if(s<0)throw new qI;l=O.MAX_VALUE}this.buf=S.copyOfUint8Array(this.buf,l)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,a,l){if(a<0||a>s.length||l<0||a+l-s.length>0)throw new F;this.ensureCapacity(this.count+l),R.arraycopy(s,a,this.buf,this.count,l),this.count+=l}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return S.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var tt;(function(C){C[C.ALPHA=0]="ALPHA",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.PUNCT=3]="PUNCT",C[C.ALPHA_SHIFT=4]="ALPHA_SHIFT",C[C.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(tt||(tt={}));function R2(){if(typeof window<"u")return window.BigInt||null;if(typeof ml<"u")return ml.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Tu;function Xi(C){if(typeof Tu>"u"&&(Tu=R2()),Tu===null)throw new Error("BigInt is not supported!");return Tu(C)}function ZI(){let C=[];C[0]=Xi(1);let s=Xi(900);C[1]=s;for(let a=2;a<16;a++)C[a]=C[a-1]*s;return C}class z{static decode(s,a){let l=new Oe(""),u=$.ISO8859_1;l.enableDecoding(u);let h=1,d=s[h++],f=new S2;for(;h<s[0];){switch(d){case z.TEXT_COMPACTION_MODE_LATCH:h=z.textCompaction(s,h,l);break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:h=z.byteCompaction(d,s,u,h,l);break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[h++]);break;case z.NUMERIC_COMPACTION_MODE_LATCH:h=z.numericCompaction(s,h,l);break;case z.ECI_CHARSET:$.getCharacterSetECIByValue(s[h++]);break;case z.ECI_GENERAL_PURPOSE:h+=2;break;case z.ECI_USER_DEFINED:h++;break;case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=z.decodeMacroBlock(s,h,f);break;case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:throw new j;default:h--,h=z.textCompaction(s,h,l);break}if(h<s.length)d=s[h++];else throw j.getFormatInstance()}if(l.length()===0)throw j.getFormatInstance();let y=new il(null,l.toString(),null,a);return y.setOther(f),y}static decodeMacroBlock(s,a,l){if(a+z.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw j.getFormatInstance();let u=new Int32Array(z.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<z.NUMBER_OF_SEQUENCE_CODEWORDS;f++,a++)u[f]=s[a];l.setSegmentIndex(O.parseInt(z.decodeBase900toBase10(u,z.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new Oe;a=z.textCompaction(s,a,h),l.setFileId(h.toString());let d=-1;for(s[a]===z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=a+1);a<s[0];)switch(s[a]){case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,s[a]){case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new Oe;a=z.textCompaction(s,a+1,f),l.setFileName(f.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new Oe;a=z.textCompaction(s,a+1,y),l.setSender(y.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new Oe;a=z.textCompaction(s,a+1,x),l.setAddressee(x.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let v=new Oe;a=z.numericCompaction(s,a+1,v),l.setSegmentCount(O.parseInt(v.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let A=new Oe;a=z.numericCompaction(s,a+1,A),l.setTimestamp(b2.parseLong(A.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let T=new Oe;a=z.numericCompaction(s,a+1,T),l.setChecksum(O.parseInt(T.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let D=new Oe;a=z.numericCompaction(s,a+1,D),l.setFileSize(b2.parseLong(D.toString()));break;default:throw j.getFormatInstance()}break;case z.MACRO_PDF417_TERMINATOR:a++,l.setLastSegment(!0);break;default:throw j.getFormatInstance()}if(d!==-1){let f=a-d;l.isLastSegment()&&f--,l.setOptionalData(S.copyOfRange(s,d,d+f))}return a}static textCompaction(s,a,l){let u=new Int32Array((s[0]-a)*2),h=new Int32Array((s[0]-a)*2),d=0,f=!1;for(;a<s[0]&&!f;){let y=s[a++];if(y<z.TEXT_COMPACTION_MODE_LATCH)u[d]=y/30,u[d+1]=y%30,d+=2;else switch(y){case z.TEXT_COMPACTION_MODE_LATCH:u[d++]=z.TEXT_COMPACTION_MODE_LATCH;break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:a--,f=!0;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[d]=z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=s[a++],h[d]=y,d++;break}}return z.decodeTextCompaction(u,h,d,l),a}static decodeTextCompaction(s,a,l,u){let h=tt.ALPHA,d=tt.ALPHA,f=0;for(;f<l;){let y=s[f],x="";switch(h){case tt.ALPHA:if(y<26)x=String.fromCharCode(65+y);else switch(y){case 26:x=" ";break;case z.LL:h=tt.LOWER;break;case z.ML:h=tt.MIXED;break;case z.PS:d=h,h=tt.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:h=tt.ALPHA;break}break;case tt.LOWER:if(y<26)x=String.fromCharCode(97+y);else switch(y){case 26:x=" ";break;case z.AS:d=h,h=tt.ALPHA_SHIFT;break;case z.ML:h=tt.MIXED;break;case z.PS:d=h,h=tt.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:h=tt.ALPHA;break}break;case tt.MIXED:if(y<z.PL)x=z.MIXED_CHARS[y];else switch(y){case z.PL:h=tt.PUNCT;break;case 26:x=" ";break;case z.LL:h=tt.LOWER;break;case z.AL:h=tt.ALPHA;break;case z.PS:d=h,h=tt.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:h=tt.ALPHA;break}break;case tt.PUNCT:if(y<z.PAL)x=z.PUNCT_CHARS[y];else switch(y){case z.PAL:h=tt.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:h=tt.ALPHA;break}break;case tt.ALPHA_SHIFT:if(h=d,y<26)x=String.fromCharCode(65+y);else switch(y){case 26:x=" ";break;case z.TEXT_COMPACTION_MODE_LATCH:h=tt.ALPHA;break}break;case tt.PUNCT_SHIFT:if(h=d,y<z.PAL)x=z.PUNCT_CHARS[y];else switch(y){case z.PAL:h=tt.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:h=tt.ALPHA;break}break}x!==""&&u.append(x),f++}}static byteCompaction(s,a,l,u,h){let d=new QI,f=0,y=0,x=!1;switch(s){case z.BYTE_COMPACTION_MODE_LATCH:let v=new Int32Array(6),A=a[u++];for(;u<a[0]&&!x;)switch(v[f++]=A,y=900*y+A,A=a[u++],A){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:u--,x=!0;break;default:if(f%5===0&&f>0){for(let T=0;T<6;++T)d.write(Number(Xi(y)>>Xi(8*(5-T))));y=0,f=0}break}u===a[0]&&A<z.TEXT_COMPACTION_MODE_LATCH&&(v[f++]=A);for(let T=0;T<f;T++)d.write(v[T]);break;case z.BYTE_COMPACTION_MODE_LATCH_6:for(;u<a[0]&&!x;){let T=a[u++];if(T<z.TEXT_COMPACTION_MODE_LATCH)f++,y=900*y+T;else switch(T){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:u--,x=!0;break}if(f%5===0&&f>0){for(let D=0;D<6;++D)d.write(Number(Xi(y)>>Xi(8*(5-D))));y=0,f=0}}break}return h.append(Me.decode(d.toByteArray(),l)),u}static numericCompaction(s,a,l){let u=0,h=!1,d=new Int32Array(z.MAX_NUMERIC_CODEWORDS);for(;a<s[0]&&!h;){let f=s[a++];if(a===s[0]&&(h=!0),f<z.TEXT_COMPACTION_MODE_LATCH)d[u]=f,u++;else switch(f){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:a--,h=!0;break}(u%z.MAX_NUMERIC_CODEWORDS===0||f===z.NUMERIC_COMPACTION_MODE_LATCH||h)&&u>0&&(l.append(z.decodeBase900toBase10(d,u)),u=0)}return a}static decodeBase900toBase10(s,a){let l=Xi(0);for(let h=0;h<a;h++)l+=z.EXP900[a-h-1]*Xi(s[h]);let u=l.toString();if(u.charAt(0)!=="1")throw new j;return u.substring(1)}}z.TEXT_COMPACTION_MODE_LATCH=900,z.BYTE_COMPACTION_MODE_LATCH=901,z.NUMERIC_COMPACTION_MODE_LATCH=902,z.BYTE_COMPACTION_MODE_LATCH_6=924,z.ECI_USER_DEFINED=925,z.ECI_GENERAL_PURPOSE=926,z.ECI_CHARSET=927,z.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,z.MACRO_PDF417_TERMINATOR=922,z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,z.MAX_NUMERIC_CODEWORDS=15,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,z.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,z.PL=25,z.LL=27,z.AS=27,z.ML=28,z.AL=28,z.PS=29,z.PAL=29,z.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,z.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",z.EXP900=R2()?ZI():[],z.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Re{constructor(){}static decode(s,a,l,u,h,d,f){let y=new zs(s,a,l,u,h),x=null,v=null,A;for(let P=!0;;P=!1){if(a!=null&&(x=Re.getRowIndicatorColumn(s,y,a,!0,d,f)),u!=null&&(v=Re.getRowIndicatorColumn(s,y,u,!1,d,f)),A=Re.merge(x,v),A==null)throw W.getNotFoundInstance();let L=A.getBoundingBox();if(P&&L!=null&&(L.getMinY()<y.getMinY()||L.getMaxY()>y.getMaxY()))y=L;else break}A.setBoundingBox(y);let T=A.getBarcodeColumnCount()+1;A.setDetectionResultColumn(0,x),A.setDetectionResultColumn(T,v);let D=x!=null;for(let P=1;P<=T;P++){let L=D?P:T-P;if(A.getDetectionResultColumn(L)!==void 0)continue;let V;L===0||L===T?V=new T2(y,L===0):V=new ul(y),A.setDetectionResultColumn(L,V);let H=-1,ee=H;for(let te=y.getMinY();te<=y.getMaxY();te++){if(H=Re.getStartColumn(A,L,te,D),H<0||H>y.getMaxX()){if(ee===-1)continue;H=ee}let q=Re.detectCodeword(s,y.getMinX(),y.getMaxX(),D,H,te,d,f);q!=null&&(V.setCodeword(te,q),ee=H,d=Math.min(d,q.getWidth()),f=Math.max(f,q.getWidth()))}}return Re.createDecoderResult(A)}static merge(s,a){if(s==null&&a==null)return null;let l=Re.getBarcodeMetadata(s,a);if(l==null)return null;let u=zs.merge(Re.adjustBoundingBox(s),Re.adjustBoundingBox(a));return new dl(l,u)}static adjustBoundingBox(s){if(s==null)return null;let a=s.getRowHeights();if(a==null)return null;let l=Re.getMax(a),u=0;for(let f of a)if(u+=l-f,f>0)break;let h=s.getCodewords();for(let f=0;u>0&&h[f]==null;f++)u--;let d=0;for(let f=a.length-1;f>=0&&(d+=l-a[f],!(a[f]>0));f--);for(let f=h.length-1;d>0&&h[f]==null;f--)d--;return s.getBoundingBox().addMissingRows(u,d,s.isLeft())}static getMax(s){let a=-1;for(let l of s)a=Math.max(a,l);return a}static getBarcodeMetadata(s,a){let l;if(s==null||(l=s.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let u;return a==null||(u=a.getBarcodeMetadata())==null?l:l.getColumnCount()!==u.getColumnCount()&&l.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&l.getRowCount()!==u.getRowCount()?null:l}static getRowIndicatorColumn(s,a,l,u,h,d){let f=new T2(a,u);for(let y=0;y<2;y++){let x=y===0?1:-1,v=Math.trunc(Math.trunc(l.getX()));for(let A=Math.trunc(Math.trunc(l.getY()));A<=a.getMaxY()&&A>=a.getMinY();A+=x){let T=Re.detectCodeword(s,0,s.getWidth(),u,v,A,h,d);T!=null&&(f.setCodeword(A,T),u?v=T.getStartX():v=T.getEndX())}}return f}static adjustCodewordCount(s,a){let l=a[0][1],u=l.getValue(),h=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Re.getNumberOfECCodeWords(s.getBarcodeECLevel());if(u.length===0){if(h<1||h>Ee.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();l.setValue(h)}else u[0]!==h&&l.setValue(h)}static createDecoderResult(s){let a=Re.createBarcodeMatrix(s);Re.adjustCodewordCount(s,a);let l=new Array,u=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),h=[],d=new Array;for(let y=0;y<s.getBarcodeRowCount();y++)for(let x=0;x<s.getBarcodeColumnCount();x++){let v=a[y][x+1].getValue(),A=y*s.getBarcodeColumnCount()+x;v.length===0?l.push(A):v.length===1?u[A]=v[0]:(d.push(A),h.push(v))}let f=new Array(h.length);for(let y=0;y<f.length;y++)f[y]=h[y];return Re.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),u,Ee.toIntArray(l),Ee.toIntArray(d),f)}static createDecoderResultFromAmbiguousValues(s,a,l,u,h){let d=new Int32Array(u.length),f=100;for(;f-- >0;){for(let y=0;y<d.length;y++)a[u[y]]=h[y][d[y]];try{return Re.decodeCodewords(a,s,l)}catch(y){if(!(y instanceof b))throw y}if(d.length===0)throw b.getChecksumInstance();for(let y=0;y<d.length;y++)if(d[y]<h[y].length-1){d[y]++;break}else if(d[y]=0,y===d.length-1)throw b.getChecksumInstance()}throw b.getChecksumInstance()}static createBarcodeMatrix(s){let a=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let u=0;u<a.length;u++)for(let h=0;h<a[u].length;h++)a[u][h]=new hl;let l=0;for(let u of s.getDetectionResultColumns()){if(u!=null){for(let h of u.getCodewords())if(h!=null){let d=h.getRowNumber();if(d>=0){if(d>=a.length)continue;a[d][l].setValue(h.getValue())}}}l++}return a}static isValidBarcodeColumn(s,a){return a>=0&&a<=s.getBarcodeColumnCount()+1}static getStartColumn(s,a,l,u){let h=u?1:-1,d=null;if(Re.isValidBarcodeColumn(s,a-h)&&(d=s.getDetectionResultColumn(a-h).getCodeword(l)),d!=null)return u?d.getEndX():d.getStartX();if(d=s.getDetectionResultColumn(a).getCodewordNearby(l),d!=null)return u?d.getStartX():d.getEndX();if(Re.isValidBarcodeColumn(s,a-h)&&(d=s.getDetectionResultColumn(a-h).getCodewordNearby(l)),d!=null)return u?d.getEndX():d.getStartX();let f=0;for(;Re.isValidBarcodeColumn(s,a-h);){a-=h;for(let y of s.getDetectionResultColumn(a).getCodewords())if(y!=null)return(u?y.getEndX():y.getStartX())+h*f*(y.getEndX()-y.getStartX());f++}return u?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,a,l,u,h,d,f,y){h=Re.adjustCodewordStartColumn(s,a,l,u,h,d);let x=Re.getModuleBitCount(s,a,l,u,h,d);if(x==null)return null;let v,A=je.sum(x);if(u)v=h+A;else{for(let P=0;P<x.length/2;P++){let L=x[P];x[P]=x[x.length-1-P],x[x.length-1-P]=L}v=h,h=v-A}if(!Re.checkCodewordSkew(A,f,y))return null;let T=Xn.getDecodedValue(x),D=Ee.getCodeword(T);return D===-1?null:new fl(h,v,Re.getCodewordBucketNumber(T),D)}static getModuleBitCount(s,a,l,u,h,d){let f=h,y=new Int32Array(8),x=0,v=u?1:-1,A=u;for(;(u?f<l:f>=a)&&x<y.length;)s.get(f,d)===A?(y[x]++,f+=v):(x++,A=!A);return x===y.length||f===(u?l:a)&&x===y.length-1?y:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,a,l,u,h,d){let f=h,y=u?-1:1;for(let x=0;x<2;x++){for(;(u?f>=a:f<l)&&u===s.get(f,d);){if(Math.abs(h-f)>Re.CODEWORD_SKEW_SIZE)return h;f+=y}y=-y,u=!u}return f}static checkCodewordSkew(s,a,l){return a-Re.CODEWORD_SKEW_SIZE<=s&&s<=l+Re.CODEWORD_SKEW_SIZE}static decodeCodewords(s,a,l){if(s.length===0)throw j.getFormatInstance();let u=1<<a+1,h=Re.correctErrors(s,l,u);Re.verifyCodewordCount(s,u);let d=z.decode(s,""+a);return d.setErrorsCorrected(h),d.setErasures(l.length),d}static correctErrors(s,a,l){if(a!=null&&a.length>l/2+Re.MAX_ERRORS||l<0||l>Re.MAX_EC_CODEWORDS)throw b.getChecksumInstance();return Re.errorCorrection.decode(s,l,a)}static verifyCodewordCount(s,a){if(s.length<4)throw j.getFormatInstance();let l=s[0];if(l>s.length)throw j.getFormatInstance();if(l===0)if(a<s.length)s[0]=s.length-a;else throw j.getFormatInstance()}static getBitCountForCodeword(s){let a=new Int32Array(8),l=0,u=a.length-1;for(;!((s&1)!==l&&(l=s&1,u--,u<0));)a[u]++,s>>=1;return a}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Re.getCodewordBucketNumber(Re.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let a=new cl;for(let l=0;l<s.length;l++){a.format("Row %2d: ",l);for(let u=0;u<s[l].length;u++){let h=s[l][u];h.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}a.format("%n")}return a.toString()}}Re.CODEWORD_SKEW_SIZE=2,Re.MAX_ERRORS=3,Re.MAX_EC_CODEWORDS=512,Re.errorCorrection=new I2;class cn{decode(s,a=null){let l=cn.decode(s,a,!1);if(l==null||l.length===0||l[0]==null)throw W.getNotFoundInstance();return l[0]}decodeMultiple(s,a=null){try{return cn.decode(s,a,!0)}catch(l){throw l instanceof j||l instanceof b?W.getNotFoundInstance():l}}static decode(s,a,l){const u=new Array,h=Ne.detectMultiple(s,a,l);for(const d of h.getPoints()){const f=Re.decode(h.getBits(),d[4],d[5],d[6],d[7],cn.getMinCodewordWidth(d),cn.getMaxCodewordWidth(d)),y=new xt(f.getText(),f.getRawBytes(),void 0,d,fe.PDF_417);y.putMetadata(Qt.ERROR_CORRECTION_LEVEL,f.getECLevel());const x=f.getOther();x!=null&&y.putMetadata(Qt.PDF417_EXTRA_METADATA,x),u.push(y)}return u.map(d=>d)}static getMaxWidth(s,a){return s==null||a==null?0:Math.trunc(Math.abs(s.getX()-a.getX()))}static getMinWidth(s,a){return s==null||a==null?O.MAX_VALUE:Math.trunc(Math.abs(s.getX()-a.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(cn.getMaxWidth(s[0],s[4]),cn.getMaxWidth(s[6],s[2])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN),Math.max(cn.getMaxWidth(s[1],s[5]),cn.getMaxWidth(s[7],s[3])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(cn.getMinWidth(s[0],s[4]),cn.getMinWidth(s[6],s[2])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN),Math.min(cn.getMinWidth(s[1],s[5]),cn.getMinWidth(s[7],s[3])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN)))}reset(){}}class Su extends p{}Su.kind="ReaderException";class O2{constructor(s,a){this.verbose=s===!0,a&&this.setHints(a)}decode(s,a){return a&&this.setHints(a),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const a=!r(s)&&s.get(G.TRY_HARDER)===!0,l=r(s)?null:s.get(G.POSSIBLE_FORMATS),u=new Array;if(!r(l)){const h=l.some(d=>d===fe.UPC_A||d===fe.UPC_E||d===fe.EAN_13||d===fe.EAN_8||d===fe.CODABAR||d===fe.CODE_39||d===fe.CODE_93||d===fe.CODE_128||d===fe.ITF||d===fe.RSS_14||d===fe.RSS_EXPANDED);h&&!a&&u.push(new Do(s,this.verbose)),l.includes(fe.QR_CODE)&&u.push(new $i),l.includes(fe.DATA_MATRIX)&&u.push(new Gi),l.includes(fe.AZTEC)&&u.push(new vu),l.includes(fe.PDF_417)&&u.push(new cn),h&&a&&u.push(new Do(s,this.verbose))}u.length===0&&(a||u.push(new Do(s,this.verbose)),u.push(new $i),u.push(new Gi),u.push(new vu),u.push(new cn),a&&u.push(new Do(s,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new Su("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(s,this.hints)}catch(l){if(l instanceof Su)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}class JI extends mr{constructor(s=null,a=500){const l=new O2;l.setHints(s),super(l,a)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class eT extends mr{constructor(s=500){super(new cn,s)}}class tT extends mr{constructor(s=500){super(new $i,s)}}var Kf;(function(C){C[C.ERROR_CORRECTION=0]="ERROR_CORRECTION",C[C.CHARACTER_SET=1]="CHARACTER_SET",C[C.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",C[C.MIN_SIZE=3]="MIN_SIZE",C[C.MAX_SIZE=4]="MAX_SIZE",C[C.MARGIN=5]="MARGIN",C[C.PDF417_COMPACT=6]="PDF417_COMPACT",C[C.PDF417_COMPACTION=7]="PDF417_COMPACTION",C[C.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",C[C.AZTEC_LAYERS=9]="AZTEC_LAYERS",C[C.QR_VERSION=10]="QR_VERSION"})(Kf||(Kf={}));var Xt=Kf;class qf{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new Wn(s,Int32Array.from([1])))}buildGenerator(s){const a=this.cachedGenerators;if(s>=a.length){let l=a[a.length-1];const u=this.field;for(let h=a.length;h<=s;h++){const d=l.multiply(new Wn(u,Int32Array.from([1,u.exp(h-1+u.getGeneratorBase())])));a.push(d),l=d}}return a[s]}encode(s,a){if(a===0)throw new _("No error correction bytes");const l=s.length-a;if(l<=0)throw new _("No data bytes provided");const u=this.buildGenerator(a),h=new Int32Array(l);R.arraycopy(s,0,h,0,l);let d=new Wn(this.field,h);d=d.multiplyByMonomial(a,1);const y=d.divide(u)[1].getCoefficients(),x=a-y.length;for(let v=0;v<x;v++)s[l+v]=0;R.arraycopy(y,0,s,l+x,y.length)}}class St{constructor(){}static applyMaskPenaltyRule1(s){return St.applyMaskPenaltyRule1Internal(s,!0)+St.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let a=0;const l=s.getArray(),u=s.getWidth(),h=s.getHeight();for(let d=0;d<h-1;d++){const f=l[d];for(let y=0;y<u-1;y++){const x=f[y];x===f[y+1]&&x===l[d+1][y]&&x===l[d+1][y+1]&&a++}}return St.N2*a}static applyMaskPenaltyRule3(s){let a=0;const l=s.getArray(),u=s.getWidth(),h=s.getHeight();for(let d=0;d<h;d++)for(let f=0;f<u;f++){const y=l[d];f+6<u&&y[f]===1&&y[f+1]===0&&y[f+2]===1&&y[f+3]===1&&y[f+4]===1&&y[f+5]===0&&y[f+6]===1&&(St.isWhiteHorizontal(y,f-4,f)||St.isWhiteHorizontal(y,f+7,f+11))&&a++,d+6<h&&l[d][f]===1&&l[d+1][f]===0&&l[d+2][f]===1&&l[d+3][f]===1&&l[d+4][f]===1&&l[d+5][f]===0&&l[d+6][f]===1&&(St.isWhiteVertical(l,f,d-4,d)||St.isWhiteVertical(l,f,d+7,d+11))&&a++}return a*St.N3}static isWhiteHorizontal(s,a,l){a=Math.max(a,0),l=Math.min(l,s.length);for(let u=a;u<l;u++)if(s[u]===1)return!1;return!0}static isWhiteVertical(s,a,l,u){l=Math.max(l,0),u=Math.min(u,s.length);for(let h=l;h<u;h++)if(s[h][a]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let a=0;const l=s.getArray(),u=s.getWidth(),h=s.getHeight();for(let y=0;y<h;y++){const x=l[y];for(let v=0;v<u;v++)x[v]===1&&a++}const d=s.getHeight()*s.getWidth();return Math.floor(Math.abs(a*2-d)*10/d)*St.N4}static getDataMaskBit(s,a,l){let u,h;switch(s){case 0:u=l+a&1;break;case 1:u=l&1;break;case 2:u=a%3;break;case 3:u=(l+a)%3;break;case 4:u=Math.floor(l/2)+Math.floor(a/3)&1;break;case 5:h=l*a,u=(h&1)+h%3;break;case 6:h=l*a,u=(h&1)+h%3&1;break;case 7:h=l*a,u=h%3+(l+a&1)&1;break;default:throw new _("Invalid mask pattern: "+s)}return u===0}static applyMaskPenaltyRule1Internal(s,a){let l=0;const u=a?s.getHeight():s.getWidth(),h=a?s.getWidth():s.getHeight(),d=s.getArray();for(let f=0;f<u;f++){let y=0,x=-1;for(let v=0;v<h;v++){const A=a?d[f][v]:d[v][f];A===x?y++:(y>=5&&(l+=St.N1+(y-5)),y=1,x=A)}y>=5&&(l+=St.N1+(y-5))}return l}}St.N1=3,St.N2=3,St.N3=40,St.N4=10;class bu{constructor(s,a){this.width=s,this.height=a;const l=new Array(a);for(let u=0;u!==a;u++)l[u]=new Uint8Array(s);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(s,a){return this.bytes[a][s]}getArray(){return this.bytes}setNumber(s,a,l){this.bytes[a][s]=l}setBoolean(s,a,l){this.bytes[a][s]=l?1:0}clear(s){for(const a of this.bytes)S.fill(a,s)}equals(s){if(!(s instanceof bu))return!1;const a=s;if(this.width!==a.width||this.height!==a.height)return!1;for(let l=0,u=this.height;l<u;++l){const h=this.bytes[l],d=a.bytes[l];for(let f=0,y=this.width;f<y;++f)if(h[f]!==d[f])return!1}return!0}toString(){const s=new Oe;for(let a=0,l=this.height;a<l;++a){const u=this.bytes[a];for(let h=0,d=this.width;h<d;++h)switch(u[h]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Hs{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new Oe;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Hs.NUM_MASK_PATTERNS}}Hs.NUM_MASK_PATTERNS=8;class rt extends p{}rt.kind="WriterException";class ye{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,a,l,u,h){ye.clearMatrix(h),ye.embedBasicPatterns(l,h),ye.embedTypeInfo(a,u,h),ye.maybeEmbedVersionInfo(l,h),ye.embedDataBits(s,u,h)}static embedBasicPatterns(s,a){ye.embedPositionDetectionPatternsAndSeparators(a),ye.embedDarkDotAtLeftBottomCorner(a),ye.maybeEmbedPositionAdjustmentPatterns(s,a),ye.embedTimingPatterns(a)}static embedTypeInfo(s,a,l){const u=new B;ye.makeTypeInfoBits(s,a,u);for(let h=0,d=u.getSize();h<d;++h){const f=u.get(u.getSize()-1-h),y=ye.TYPE_INFO_COORDINATES[h],x=y[0],v=y[1];if(l.setBoolean(x,v,f),h<8){const A=l.getWidth()-h-1,T=8;l.setBoolean(A,T,f)}else{const T=l.getHeight()-7+(h-8);l.setBoolean(8,T,f)}}}static maybeEmbedVersionInfo(s,a){if(s.getVersionNumber()<7)return;const l=new B;ye.makeVersionInfoBits(s,l);let u=6*3-1;for(let h=0;h<6;++h)for(let d=0;d<3;++d){const f=l.get(u);u--,a.setBoolean(h,a.getHeight()-11+d,f),a.setBoolean(a.getHeight()-11+d,h,f)}}static embedDataBits(s,a,l){let u=0,h=-1,d=l.getWidth()-1,f=l.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);f>=0&&f<l.getHeight();){for(let y=0;y<2;++y){const x=d-y;if(!ye.isEmpty(l.get(x,f)))continue;let v;u<s.getSize()?(v=s.get(u),++u):v=!1,a!==255&&St.getDataMaskBit(a,x,f)&&(v=!v),l.setBoolean(x,f,v)}f+=h}h=-h,f+=h,d-=2}if(u!==s.getSize())throw new rt("Not all bits consumed: "+u+"/"+s.getSize())}static findMSBSet(s){return 32-O.numberOfLeadingZeros(s)}static calculateBCHCode(s,a){if(a===0)throw new _("0 polynomial");const l=ye.findMSBSet(a);for(s<<=l-1;ye.findMSBSet(s)>=l;)s^=a<<ye.findMSBSet(s)-l;return s}static makeTypeInfoBits(s,a,l){if(!Hs.isValidMaskPattern(a))throw new rt("Invalid mask pattern");const u=s.getBits()<<3|a;l.appendBits(u,5);const h=ye.calculateBCHCode(u,ye.TYPE_INFO_POLY);l.appendBits(h,10);const d=new B;if(d.appendBits(ye.TYPE_INFO_MASK_PATTERN,15),l.xor(d),l.getSize()!==15)throw new rt("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(s,a){a.appendBits(s.getVersionNumber(),6);const l=ye.calculateBCHCode(s.getVersionNumber(),ye.VERSION_INFO_POLY);if(a.appendBits(l,12),a.getSize()!==18)throw new rt("should not happen but we got: "+a.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let a=8;a<s.getWidth()-8;++a){const l=(a+1)%2;ye.isEmpty(s.get(a,6))&&s.setNumber(a,6,l),ye.isEmpty(s.get(6,a))&&s.setNumber(6,a,l)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new rt;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,a,l){for(let u=0;u<8;++u){if(!ye.isEmpty(l.get(s+u,a)))throw new rt;l.setNumber(s+u,a,0)}}static embedVerticalSeparationPattern(s,a,l){for(let u=0;u<7;++u){if(!ye.isEmpty(l.get(s,a+u)))throw new rt;l.setNumber(s,a+u,0)}}static embedPositionAdjustmentPattern(s,a,l){for(let u=0;u<5;++u){const h=ye.POSITION_ADJUSTMENT_PATTERN[u];for(let d=0;d<5;++d)l.setNumber(s+d,a+u,h[d])}}static embedPositionDetectionPattern(s,a,l){for(let u=0;u<7;++u){const h=ye.POSITION_DETECTION_PATTERN[u];for(let d=0;d<7;++d)l.setNumber(s+d,a+u,h[d])}}static embedPositionDetectionPatternsAndSeparators(s){const a=ye.POSITION_DETECTION_PATTERN[0].length;ye.embedPositionDetectionPattern(0,0,s),ye.embedPositionDetectionPattern(s.getWidth()-a,0,s),ye.embedPositionDetectionPattern(0,s.getWidth()-a,s);const l=8;ye.embedHorizontalSeparationPattern(0,l-1,s),ye.embedHorizontalSeparationPattern(s.getWidth()-l,l-1,s),ye.embedHorizontalSeparationPattern(0,s.getWidth()-l,s);const u=7;ye.embedVerticalSeparationPattern(u,0,s),ye.embedVerticalSeparationPattern(s.getHeight()-u-1,0,s),ye.embedVerticalSeparationPattern(u,s.getHeight()-u,s)}static maybeEmbedPositionAdjustmentPatterns(s,a){if(s.getVersionNumber()<2)return;const l=s.getVersionNumber()-1,u=ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let h=0,d=u.length;h!==d;h++){const f=u[h];if(f>=0)for(let y=0;y!==d;y++){const x=u[y];x>=0&&ye.isEmpty(a.get(x,f))&&ye.embedPositionAdjustmentPattern(x-2,f-2,a)}}}}ye.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ye.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ye.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ye.VERSION_INFO_POLY=7973,ye.TYPE_INFO_POLY=1335,ye.TYPE_INFO_MASK_PATTERN=21522;class nT{constructor(s,a){this.dataBytes=s,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class lt{constructor(){}static calculateMaskPenalty(s){return St.applyMaskPenaltyRule1(s)+St.applyMaskPenaltyRule2(s)+St.applyMaskPenaltyRule3(s)+St.applyMaskPenaltyRule4(s)}static encode(s,a,l=null){let u=lt.DEFAULT_BYTE_MODE_ENCODING;const h=l!==null&&l.get(Xt.CHARACTER_SET)!==void 0;h&&(u=l.get(Xt.CHARACTER_SET).toString());const d=this.chooseMode(s,u),f=new B;if(d===me.BYTE&&(h||lt.DEFAULT_BYTE_MODE_ENCODING!==u)){const te=$.getCharacterSetECIByName(u);te!==void 0&&this.appendECI(te,f)}this.appendModeInfo(d,f);const y=new B;this.appendBytes(s,d,y,u);let x;if(l!==null&&l.get(Xt.QR_VERSION)!==void 0){const te=Number.parseInt(l.get(Xt.QR_VERSION).toString(),10);x=ge.getVersionForNumber(te);const q=this.calculateBitsNeeded(d,f,y,x);if(!this.willFit(q,x,a))throw new rt("Data too big for requested version")}else x=this.recommendVersion(a,d,f,y);const v=new B;v.appendBitArray(f);const A=d===me.BYTE?y.getSizeInBytes():s.length;this.appendLengthInfo(A,x,d,v),v.appendBitArray(y);const T=x.getECBlocksForLevel(a),D=x.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(D,v);const P=this.interleaveWithECBytes(v,x.getTotalCodewords(),D,T.getNumBlocks()),L=new Hs;L.setECLevel(a),L.setMode(d),L.setVersion(x);const V=x.getDimensionForVersion(),H=new bu(V,V),ee=this.chooseMaskPattern(P,a,x,H);return L.setMaskPattern(ee),ye.buildMatrix(P,a,x,ee,H),L.setMatrix(H),L}static recommendVersion(s,a,l,u){const h=this.calculateBitsNeeded(a,l,u,ge.getVersionForNumber(1)),d=this.chooseVersion(h,s),f=this.calculateBitsNeeded(a,l,u,d);return this.chooseVersion(f,s)}static calculateBitsNeeded(s,a,l,u){return a.getSize()+s.getCharacterCountBits(u)+l.getSize()}static getAlphanumericCode(s){return s<lt.ALPHANUMERIC_TABLE.length?lt.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,a=null){if($.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(s))return me.KANJI;let l=!1,u=!1;for(let h=0,d=s.length;h<d;++h){const f=s.charAt(h);if(lt.isDigit(f))l=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)u=!0;else return me.BYTE}return u?me.ALPHANUMERIC:l?me.NUMERIC:me.BYTE}static isOnlyDoubleByteKanji(s){let a;try{a=Me.encode(s,$.SJIS)}catch{return!1}const l=a.length;if(l%2!==0)return!1;for(let u=0;u<l;u+=2){const h=a[u]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(s,a,l,u){let h=Number.MAX_SAFE_INTEGER,d=-1;for(let f=0;f<Hs.NUM_MASK_PATTERNS;f++){ye.buildMatrix(s,a,l,f,u);let y=this.calculateMaskPenalty(u);y<h&&(h=y,d=f)}return d}static chooseVersion(s,a){for(let l=1;l<=40;l++){const u=ge.getVersionForNumber(l);if(lt.willFit(s,u,a))return u}throw new rt("Data too big")}static willFit(s,a,l){const u=a.getTotalCodewords(),d=a.getECBlocksForLevel(l).getTotalECCodewords(),f=u-d,y=(s+7)/8;return f>=y}static terminateBits(s,a){const l=s*8;if(a.getSize()>l)throw new rt("data bits cannot fit in the QR Code"+a.getSize()+" > "+l);for(let d=0;d<4&&a.getSize()<l;++d)a.appendBit(!1);const u=a.getSize()&7;if(u>0)for(let d=u;d<8;d++)a.appendBit(!1);const h=s-a.getSizeInBytes();for(let d=0;d<h;++d)a.appendBits(d&1?17:236,8);if(a.getSize()!==l)throw new rt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,a,l,u,h,d){if(u>=l)throw new rt("Block ID too large");const f=s%l,y=l-f,x=Math.floor(s/l),v=x+1,A=Math.floor(a/l),T=A+1,D=x-A,P=v-T;if(D!==P)throw new rt("EC bytes mismatch");if(l!==y+f)throw new rt("RS blocks mismatch");if(s!==(A+D)*y+(T+P)*f)throw new rt("Total bytes mismatch");u<y?(h[0]=A,d[0]=D):(h[0]=T,d[0]=P)}static interleaveWithECBytes(s,a,l,u){if(s.getSizeInBytes()!==l)throw new rt("Number of bits and data bytes does not match");let h=0,d=0,f=0;const y=new Array;for(let v=0;v<u;++v){const A=new Int32Array(1),T=new Int32Array(1);lt.getNumDataBytesAndNumECBytesForBlockID(a,l,u,v,A,T);const D=A[0],P=new Uint8Array(D);s.toBytes(8*h,P,0,D);const L=lt.generateECBytes(P,T[0]);y.push(new nT(P,L)),d=Math.max(d,D),f=Math.max(f,L.length),h+=A[0]}if(l!==h)throw new rt("Data bytes does not match offset");const x=new B;for(let v=0;v<d;++v)for(const A of y){const T=A.getDataBytes();v<T.length&&x.appendBits(T[v],8)}for(let v=0;v<f;++v)for(const A of y){const T=A.getErrorCorrectionBytes();v<T.length&&x.appendBits(T[v],8)}if(a!==x.getSizeInBytes())throw new rt("Interleaving error: "+a+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(s,a){const l=s.length,u=new Int32Array(l+a);for(let d=0;d<l;d++)u[d]=s[d]&255;new qf(We.QR_CODE_FIELD_256).encode(u,a);const h=new Uint8Array(a);for(let d=0;d<a;d++)h[d]=u[l+d];return h}static appendModeInfo(s,a){a.appendBits(s.getBits(),4)}static appendLengthInfo(s,a,l,u){const h=l.getCharacterCountBits(a);if(s>=1<<h)throw new rt(s+" is bigger than "+((1<<h)-1));u.appendBits(s,h)}static appendBytes(s,a,l,u){switch(a){case me.NUMERIC:lt.appendNumericBytes(s,l);break;case me.ALPHANUMERIC:lt.appendAlphanumericBytes(s,l);break;case me.BYTE:lt.append8BitBytes(s,l,u);break;case me.KANJI:lt.appendKanjiBytes(s,l);break;default:throw new rt("Invalid mode: "+a)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const a=lt.getDigit(s);return a>=0&&a<=9}static appendNumericBytes(s,a){const l=s.length;let u=0;for(;u<l;){const h=lt.getDigit(s.charAt(u));if(u+2<l){const d=lt.getDigit(s.charAt(u+1)),f=lt.getDigit(s.charAt(u+2));a.appendBits(h*100+d*10+f,10),u+=3}else if(u+1<l){const d=lt.getDigit(s.charAt(u+1));a.appendBits(h*10+d,7),u+=2}else a.appendBits(h,4),u++}}static appendAlphanumericBytes(s,a){const l=s.length;let u=0;for(;u<l;){const h=lt.getAlphanumericCode(s.charCodeAt(u));if(h===-1)throw new rt;if(u+1<l){const d=lt.getAlphanumericCode(s.charCodeAt(u+1));if(d===-1)throw new rt;a.appendBits(h*45+d,11),u+=2}else a.appendBits(h,6),u++}}static append8BitBytes(s,a,l){let u;try{u=Me.encode(s,l)}catch(h){throw new rt(h)}for(let h=0,d=u.length;h!==d;h++){const f=u[h];a.appendBits(f,8)}}static appendKanjiBytes(s,a){let l;try{l=Me.encode(s,$.SJIS)}catch(h){throw new rt(h)}const u=l.length;for(let h=0;h<u;h+=2){const d=l[h]&255,f=l[h+1]&255,y=d<<8&4294967295|f;let x=-1;if(y>=33088&&y<=40956?x=y-33088:y>=57408&&y<=60351&&(x=y-49472),x===-1)throw new rt("Invalid byte sequence");const v=(x>>8)*192+(x&255);a.appendBits(v,13)}}static appendECI(s,a){a.appendBits(me.ECI.getBits(),4),a.appendBits(s.getValue(),8)}}lt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),lt.DEFAULT_BYTE_MODE_ENCODING=$.UTF8.getName();class Ws{write(s,a,l,u=null){if(s.length===0)throw new _("Found empty contents");if(a<0||l<0)throw new _("Requested dimensions are too small: "+a+"x"+l);let h=ot.L,d=Ws.QUIET_ZONE_SIZE;u!==null&&(u.get(Xt.ERROR_CORRECTION)!==void 0&&(h=ot.fromString(u.get(Xt.ERROR_CORRECTION).toString())),u.get(Xt.MARGIN)!==void 0&&(d=Number.parseInt(u.get(Xt.MARGIN).toString(),10)));const f=lt.encode(s,h,u);return this.renderResult(f,a,l,d)}writeToDom(s,a,l,u,h=null){typeof s=="string"&&(s=document.querySelector(s));const d=this.write(a,l,u,h);s&&s.appendChild(d)}renderResult(s,a,l,u){const h=s.getMatrix();if(h===null)throw new Hr;const d=h.getWidth(),f=h.getHeight(),y=d+u*2,x=f+u*2,v=Math.max(a,y),A=Math.max(l,x),T=Math.min(Math.floor(v/y),Math.floor(A/x)),D=Math.floor((v-d*T)/2),P=Math.floor((A-f*T)/2),L=this.createSVGElement(v,A);for(let V=0,H=P;V<f;V++,H+=T)for(let ee=0,te=D;ee<d;ee++,te+=T)if(h.get(ee,V)===1){const q=this.createSvgRectElement(te,H,T,T);L.appendChild(q)}return L}createSVGElement(s,a){const l=document.createElementNS(Ws.SVG_NS,"svg");return l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",a.toString()),l}createSvgRectElement(s,a,l,u){const h=document.createElementNS(Ws.SVG_NS,"rect");return h.setAttributeNS(null,"x",s.toString()),h.setAttributeNS(null,"y",a.toString()),h.setAttributeNS(null,"height",l.toString()),h.setAttributeNS(null,"width",u.toString()),h.setAttributeNS(null,"fill","#000000"),h}}Ws.QUIET_ZONE_SIZE=4,Ws.SVG_NS="http://www.w3.org/2000/svg";class Po{encode(s,a,l,u,h){if(s.length===0)throw new _("Found empty contents");if(a!==fe.QR_CODE)throw new _("Can only encode QR_CODE, but got "+a);if(l<0||u<0)throw new _(`Requested dimensions are too small: ${l}x${u}`);let d=ot.L,f=Po.QUIET_ZONE_SIZE;h!==null&&(h.get(Xt.ERROR_CORRECTION)!==void 0&&(d=ot.fromString(h.get(Xt.ERROR_CORRECTION).toString())),h.get(Xt.MARGIN)!==void 0&&(f=Number.parseInt(h.get(Xt.MARGIN).toString(),10)));const y=lt.encode(s,d,h);return Po.renderResult(y,l,u,f)}static renderResult(s,a,l,u){const h=s.getMatrix();if(h===null)throw new Hr;const d=h.getWidth(),f=h.getHeight(),y=d+u*2,x=f+u*2,v=Math.max(a,y),A=Math.max(l,x),T=Math.min(Math.floor(v/y),Math.floor(A/x)),D=Math.floor((v-d*T)/2),P=Math.floor((A-f*T)/2),L=new yt(v,A);for(let V=0,H=P;V<f;V++,H+=T)for(let ee=0,te=D;ee<d;ee++,te+=T)h.get(ee,V)===1&&L.setRegion(te,H,T,T);return L}}Po.QUIET_ZONE_SIZE=4;class rT{encode(s,a,l,u,h){let d;switch(a){case fe.QR_CODE:d=new Po;break;default:throw new _("No encoder available for format "+a)}return d.encode(s,a,l,u,h)}}class Xr extends oe{constructor(s,a,l,u,h,d,f,y){if(super(d,f),this.yuvData=s,this.dataWidth=a,this.dataHeight=l,this.left=u,this.top=h,u+d>a||h+f>l)throw new _("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(d,f)}getRow(s,a){if(s<0||s>=this.getHeight())throw new _("Requested row is outside the image: "+s);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const u=(s+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,u,a,0,l),a}getMatrix(){const s=this.getWidth(),a=this.getHeight();if(s===this.dataWidth&&a===this.dataHeight)return this.yuvData;const l=s*a,u=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return R.arraycopy(this.yuvData,h,u,0,l),u;for(let d=0;d<a;d++){const f=d*s;R.arraycopy(this.yuvData,h,u,f,s),h+=this.dataWidth}return u}isCropSupported(){return!0}crop(s,a,l,u){return new Xr(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+a,l,u,!1)}renderThumbnail(){const s=this.getWidth()/Xr.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/Xr.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(s*a),u=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let d=0;d<a;d++){const f=d*s;for(let y=0;y<s;y++){const x=u[h+y*Xr.THUMBNAIL_SCALE_FACTOR]&255;l[f+y]=4278190080|x*65793}h+=this.dataWidth*Xr.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/Xr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Xr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,a){const l=this.yuvData;for(let u=0,h=this.top*this.dataWidth+this.left;u<a;u++,h+=this.dataWidth){const d=h+s/2;for(let f=h,y=h+s-1;f<d;f++,y--){const x=l[f];l[f]=l[y],l[y]=x}}}invert(){return new xe(this)}}Xr.THUMBNAIL_SCALE_FACTOR=2;class Qf extends oe{constructor(s,a,l,u,h,d,f){if(super(a,l),this.dataWidth=u,this.dataHeight=h,this.left=d,this.top=f,s.BYTES_PER_ELEMENT===4){const y=a*l,x=new Uint8ClampedArray(y);for(let v=0;v<y;v++){const A=s[v],T=A>>16&255,D=A>>7&510,P=A&255;x[v]=(T+D+P)/4&255}this.luminances=x}else this.luminances=s;if(u===void 0&&(this.dataWidth=a),h===void 0&&(this.dataHeight=l),d===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+l>this.dataHeight)throw new _("Crop rectangle does not fit within image data.")}getRow(s,a){if(s<0||s>=this.getHeight())throw new _("Requested row is outside the image: "+s);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const u=(s+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,u,a,0,l),a}getMatrix(){const s=this.getWidth(),a=this.getHeight();if(s===this.dataWidth&&a===this.dataHeight)return this.luminances;const l=s*a,u=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return R.arraycopy(this.luminances,h,u,0,l),u;for(let d=0;d<a;d++){const f=d*s;R.arraycopy(this.luminances,h,u,f,s),h+=this.dataWidth}return u}isCropSupported(){return!0}crop(s,a,l,u){return new Qf(this.luminances,l,u,this.dataWidth,this.dataHeight,this.left+s,this.top+a)}invert(){return new xe(this)}}class k2 extends ${static forName(s){return this.getCharacterSetECIByName(s)}}class Zf{}Zf.ISO_8859_1=$.ISO8859_1;class D2{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class M2{static singletonList(s){return[s]}static min(s,a){return s.sort(a)[0]}}class iT{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Lo extends iT{constructor(s,a,l){super(s),this.value=a,this.bitCount=l}appendTo(s,a){s.appendBits(this.value,this.bitCount)}add(s,a){return new Lo(this,s,a)}addBinaryShift(s,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Lo(this,s,a)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+O.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class Jf extends Lo{constructor(s,a,l){super(s,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=l}appendTo(s,a){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):l===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(a[this.binaryShiftStart+l],8)}addBinaryShift(s,a){return new Jf(this,s,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function sT(C,s,a){return new Jf(C,s,a)}function gl(C,s,a){return new Lo(C,s,a)}const oT=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Yi=0,Nu=1,Er=2,P2=3,Yr=4,aT=new Lo(null,0,0),e0=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function lT(C){for(let s of C)S.fill(s,-1);return C[Yi][Yr]=0,C[Nu][Yr]=0,C[Nu][Yi]=28,C[P2][Yr]=0,C[Er][Yr]=0,C[Er][Yi]=15,C}const L2=lT(S.createInt32Array(6,6));class Kr{constructor(s,a,l,u){this.token=s,this.mode=a,this.binaryShiftByteCount=l,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,a){let l=this.bitCount,u=this.token;if(s!==this.mode){let d=e0[this.mode][s];u=gl(u,d&65535,d>>16),l+=d>>16}let h=s===Er?4:5;return u=gl(u,a,h),new Kr(u,s,0,l+h)}shiftAndAppend(s,a){let l=this.token,u=this.mode===Er?4:5;return l=gl(l,L2[this.mode][s],u),l=gl(l,a,5),new Kr(l,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(s){let a=this.token,l=this.mode,u=this.bitCount;if(this.mode===Yr||this.mode===Er){let f=e0[l][Yi];a=gl(a,f&65535,f>>16),u+=f>>16,l=Yi}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new Kr(a,l,this.binaryShiftByteCount+1,u+h);return d.binaryShiftByteCount===2047+31&&(d=d.endBinaryShift(s+1)),d}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=sT(a,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new Kr(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let a=this.bitCount+(e0[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?a+=Kr.calculateBinaryShiftCost(s)-Kr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(a+=10),a<=s.bitCount}toBitArray(s){let a=[];for(let u=this.endBinaryShift(s.length).token;u!==null;u=u.getPrevious())a.unshift(u);let l=new B;for(const u of a)u.appendTo(l,s);return l}toString(){return pe.format("%s bits=%d bytes=%d",oT[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}Kr.INITIAL_STATE=new Kr(aT,Yi,0,0);function cT(C){const s=pe.getCharCode(" "),a=pe.getCharCode("."),l=pe.getCharCode(",");C[Yi][s]=1;const u=pe.getCharCode("Z"),h=pe.getCharCode("A");for(let T=h;T<=u;T++)C[Yi][T]=T-h+2;C[Nu][s]=1;const d=pe.getCharCode("z"),f=pe.getCharCode("a");for(let T=f;T<=d;T++)C[Nu][T]=T-f+2;C[Er][s]=1;const y=pe.getCharCode("9"),x=pe.getCharCode("0");for(let T=x;T<=y;T++)C[Er][T]=T-x+2;C[Er][l]=12,C[Er][a]=13;const v=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let T=0;T<v.length;T++)C[P2][pe.getCharCode(v[T])]=T;const A=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let T=0;T<A.length;T++)pe.getCharCode(A[T])>0&&(C[Yr][pe.getCharCode(A[T])]=T);return C}const t0=cT(S.createInt32Array(5,256));class pl{constructor(s){this.text=s}encode(){const s=pe.getCharCode(" "),a=pe.getCharCode(`
`);let l=M2.singletonList(Kr.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let d,f=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case pe.getCharCode("\r"):d=f===a?2:0;break;case pe.getCharCode("."):d=f===s?3:0;break;case pe.getCharCode(","):d=f===s?4:0;break;case pe.getCharCode(":"):d=f===s?5:0;break;default:d=0}d>0?(l=pl.updateStateListForPair(l,h,d),h++):l=this.updateStateListForChar(l,h)}return M2.min(l,(h,d)=>h.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,a){const l=[];for(let u of s)this.updateStateForChar(u,a,l);return pl.simplifyStates(l)}updateStateForChar(s,a,l){let u=this.text[a]&255,h=t0[s.getMode()][u]>0,d=null;for(let f=0;f<=Yr;f++){let y=t0[f][u];if(y>0){if(d==null&&(d=s.endBinaryShift(a)),!h||f===s.getMode()||f===Er){const x=d.latchAndAppend(f,y);l.push(x)}if(!h&&L2[s.getMode()][f]>=0){const x=d.shiftAndAppend(f,y);l.push(x)}}}if(s.getBinaryShiftByteCount()>0||t0[s.getMode()][u]===0){let f=s.addBinaryShiftChar(a);l.push(f)}}static updateStateListForPair(s,a,l){const u=[];for(let h of s)this.updateStateForPair(h,a,l,u);return this.simplifyStates(u)}static updateStateForPair(s,a,l,u){let h=s.endBinaryShift(a);if(u.push(h.latchAndAppend(Yr,l)),s.getMode()!==Yr&&u.push(h.shiftAndAppend(Yr,l)),l===3||l===4){let d=h.latchAndAppend(Er,16-l).latchAndAppend(Er,1);u.push(d)}if(s.getBinaryShiftByteCount()>0){let d=s.addBinaryShiftChar(a).addBinaryShiftChar(a+1);u.push(d)}}static simplifyStates(s){let a=[];for(const l of s){let u=!0;for(const h of a){if(h.isBetterThanOrEqualTo(l)){u=!1;break}l.isBetterThanOrEqualTo(h)&&(a=a.filter(d=>d!==h))}u&&a.push(l)}return a}}class Ve{constructor(){}static encodeBytes(s){return Ve.encode(s,Ve.DEFAULT_EC_PERCENT,Ve.DEFAULT_AZTEC_LAYERS)}static encode(s,a,l){let u=new pl(s).encode(),h=O.truncDivision(u.getSize()*a,100)+11,d=u.getSize()+h,f,y,x,v,A;if(l!==Ve.DEFAULT_AZTEC_LAYERS){if(f=l<0,y=Math.abs(l),y>(f?Ve.MAX_NB_BITS_COMPACT:Ve.MAX_NB_BITS))throw new _(pe.format("Illegal value %s for layers",l));x=Ve.totalBitsInLayer(y,f),v=Ve.WORD_SIZE[y];let q=x-x%v;if(A=Ve.stuffBits(u,v),A.getSize()+h>q)throw new _("Data to large for user specified layer");if(f&&A.getSize()>v*64)throw new _("Data to large for user specified layer")}else{v=0,A=null;for(let q=0;;q++){if(q>Ve.MAX_NB_BITS)throw new _("Data too large for an Aztec code");if(f=q<=3,y=f?q+1:q,x=Ve.totalBitsInLayer(y,f),d>x)continue;(A==null||v!==Ve.WORD_SIZE[y])&&(v=Ve.WORD_SIZE[y],A=Ve.stuffBits(u,v));let ke=x-x%v;if(!(f&&A.getSize()>v*64)&&A.getSize()+h<=ke)break}}let T=Ve.generateCheckWords(A,x,v),D=A.getSize()/v,P=Ve.generateModeMessage(f,y,D),L=(f?11:14)+y*4,V=new Int32Array(L),H;if(f){H=L;for(let q=0;q<V.length;q++)V[q]=q}else{H=L+1+2*O.truncDivision(O.truncDivision(L,2)-1,15);let q=O.truncDivision(L,2),ke=O.truncDivision(H,2);for(let Te=0;Te<q;Te++){let Yn=Te+O.truncDivision(Te,15);V[q-Te-1]=ke-Yn-1,V[q+Te]=ke+Yn+1}}let ee=new yt(H);for(let q=0,ke=0;q<y;q++){let Te=(y-q)*4+(f?9:12);for(let Yn=0;Yn<Te;Yn++){let Rr=Yn*2;for(let Kn=0;Kn<2;Kn++)T.get(ke+Rr+Kn)&&ee.set(V[q*2+Kn],V[q*2+Yn]),T.get(ke+Te*2+Rr+Kn)&&ee.set(V[q*2+Yn],V[L-1-q*2-Kn]),T.get(ke+Te*4+Rr+Kn)&&ee.set(V[L-1-q*2-Kn],V[L-1-q*2-Yn]),T.get(ke+Te*6+Rr+Kn)&&ee.set(V[L-1-q*2-Yn],V[q*2+Kn])}ke+=Te*8}if(Ve.drawModeMessage(ee,f,H,P),f)Ve.drawBullsEye(ee,O.truncDivision(H,2),5);else{Ve.drawBullsEye(ee,O.truncDivision(H,2),7);for(let q=0,ke=0;q<O.truncDivision(L,2)-1;q+=15,ke+=16)for(let Te=O.truncDivision(H,2)&1;Te<H;Te+=2)ee.set(O.truncDivision(H,2)-ke,Te),ee.set(O.truncDivision(H,2)+ke,Te),ee.set(Te,O.truncDivision(H,2)-ke),ee.set(Te,O.truncDivision(H,2)+ke)}let te=new D2;return te.setCompact(f),te.setSize(H),te.setLayers(y),te.setCodeWords(D),te.setMatrix(ee),te}static drawBullsEye(s,a,l){for(let u=0;u<l;u+=2)for(let h=a-u;h<=a+u;h++)s.set(h,a-u),s.set(h,a+u),s.set(a-u,h),s.set(a+u,h);s.set(a-l,a-l),s.set(a-l+1,a-l),s.set(a-l,a-l+1),s.set(a+l,a-l),s.set(a+l,a-l+1),s.set(a+l,a+l-1)}static generateModeMessage(s,a,l){let u=new B;return s?(u.appendBits(a-1,2),u.appendBits(l-1,6),u=Ve.generateCheckWords(u,28,4)):(u.appendBits(a-1,5),u.appendBits(l-1,11),u=Ve.generateCheckWords(u,40,4)),u}static drawModeMessage(s,a,l,u){let h=O.truncDivision(l,2);if(a)for(let d=0;d<7;d++){let f=h-3+d;u.get(d)&&s.set(f,h-5),u.get(d+7)&&s.set(h+5,f),u.get(20-d)&&s.set(f,h+5),u.get(27-d)&&s.set(h-5,f)}else for(let d=0;d<10;d++){let f=h-5+d+O.truncDivision(d,5);u.get(d)&&s.set(f,h-7),u.get(d+10)&&s.set(h+7,f),u.get(29-d)&&s.set(f,h+7),u.get(39-d)&&s.set(h-7,f)}}static generateCheckWords(s,a,l){let u=s.getSize()/l,h=new qf(Ve.getGF(l)),d=O.truncDivision(a,l),f=Ve.bitsToWords(s,l,d);h.encode(f,d-u);let y=a%l,x=new B;x.appendBits(0,y);for(const v of Array.from(f))x.appendBits(v,l);return x}static bitsToWords(s,a,l){let u=new Int32Array(l),h,d;for(h=0,d=s.getSize()/a;h<d;h++){let f=0;for(let y=0;y<a;y++)f|=s.get(h*a+y)?1<<a-y-1:0;u[h]=f}return u}static getGF(s){switch(s){case 4:return We.AZTEC_PARAM;case 6:return We.AZTEC_DATA_6;case 8:return We.AZTEC_DATA_8;case 10:return We.AZTEC_DATA_10;case 12:return We.AZTEC_DATA_12;default:throw new _("Unsupported word size "+s)}}static stuffBits(s,a){let l=new B,u=s.getSize(),h=(1<<a)-2;for(let d=0;d<u;d+=a){let f=0;for(let y=0;y<a;y++)(d+y>=u||s.get(d+y))&&(f|=1<<a-1-y);(f&h)===h?(l.appendBits(f&h,a),d--):f&h?l.appendBits(f,a):(l.appendBits(f|1,a),d--)}return l}static totalBitsInLayer(s,a){return((a?88:112)+16*s)*s}}Ve.DEFAULT_EC_PERCENT=33,Ve.DEFAULT_AZTEC_LAYERS=0,Ve.MAX_NB_BITS=32,Ve.MAX_NB_BITS_COMPACT=4,Ve.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ru{encode(s,a,l,u){return this.encodeWithHints(s,a,l,u,null)}encodeWithHints(s,a,l,u,h){let d=Zf.ISO_8859_1,f=Ve.DEFAULT_EC_PERCENT,y=Ve.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(Xt.CHARACTER_SET)&&(d=k2.forName(h.get(Xt.CHARACTER_SET).toString())),h.has(Xt.ERROR_CORRECTION)&&(f=O.parseInt(h.get(Xt.ERROR_CORRECTION).toString())),h.has(Xt.AZTEC_LAYERS)&&(y=O.parseInt(h.get(Xt.AZTEC_LAYERS).toString()))),Ru.encodeLayers(s,a,l,u,d,f,y)}static encodeLayers(s,a,l,u,h,d,f){if(a!==fe.AZTEC)throw new _("Can only encode AZTEC, but got "+a);let y=Ve.encode(pe.getBytes(s,h),d,f);return Ru.renderResult(y,l,u)}static renderResult(s,a,l){let u=s.getMatrix();if(u==null)throw new Hr;let h=u.getWidth(),d=u.getHeight(),f=Math.max(a,h),y=Math.max(l,d),x=Math.min(f/h,y/d),v=(f-h*x)/2,A=(y-d*x)/2,T=new yt(f,y);for(let D=0,P=A;D<d;D++,P+=x)for(let L=0,V=v;L<h;L++,V+=x)u.get(L,D)&&T.setRegion(V,P,x,x);return T}}n.AbstractExpandedDecoder=Vf,n.ArgumentException=w,n.ArithmeticException=xu,n.AztecCode=D2,n.AztecCodeReader=vu,n.AztecCodeWriter=Ru,n.AztecDecoder=st,n.AztecDetector=w2,n.AztecDetectorResult=y2,n.AztecEncoder=Ve,n.AztecHighLevelEncoder=pl,n.AztecPoint=Mn,n.BarcodeFormat=fe,n.Binarizer=M,n.BinaryBitmap=I,n.BitArray=B,n.BitMatrix=yt,n.BitSource=Wf,n.BrowserAztecCodeReader=PI,n.BrowserBarcodeReader=VI,n.BrowserCodeReader=mr,n.BrowserDatamatrixCodeReader=zI,n.BrowserMultiFormatReader=JI,n.BrowserPDF417Reader=eT,n.BrowserQRCodeReader=tT,n.BrowserQRCodeSvgWriter=Ws,n.CharacterSetECI=$,n.ChecksumException=b,n.Code128Reader=re,n.Code39Reader=Gt,n.DataMatrixDecodedBitStreamParser=Wi,n.DataMatrixReader=Gi,n.DecodeHintType=G,n.DecoderResult=il,n.DefaultGridSampler=x2,n.DetectorResult=Eu,n.EAN13Reader=js,n.EncodeHintType=Xt,n.Exception=p,n.FormatException=j,n.GenericGF=We,n.GenericGFPoly=Wn,n.GlobalHistogramBinarizer=At,n.GridSampler=Lf,n.GridSamplerInstance=zi,n.HTMLCanvasElementLuminanceSource=ve,n.HybridBinarizer=Ae,n.ITFReader=nt,n.IllegalArgumentException=_,n.IllegalStateException=Hr,n.InvertedLuminanceSource=xe,n.LuminanceSource=oe,n.MathUtils=je,n.MultiFormatOneDReader=Do,n.MultiFormatReader=O2,n.MultiFormatWriter=rT,n.NotFoundException=W,n.OneDReader=Ft,n.PDF417DecodedBitStreamParser=z,n.PDF417DecoderErrorCorrection=I2,n.PDF417Reader=cn,n.PDF417ResultMetadata=S2,n.PerspectiveTransform=br,n.PlanarYUVLuminanceSource=Xr,n.QRCodeByteMatrix=bu,n.QRCodeDataMask=xr,n.QRCodeDecodedBitStreamParser=wt,n.QRCodeDecoderErrorCorrectionLevel=ot,n.QRCodeDecoderFormatInformation=En,n.QRCodeEncoder=lt,n.QRCodeEncoderQRCode=Hs,n.QRCodeMaskUtil=St,n.QRCodeMatrixUtil=ye,n.QRCodeMode=me,n.QRCodeReader=$i,n.QRCodeVersion=ge,n.QRCodeWriter=Po,n.RGBLuminanceSource=Qf,n.RSS14Reader=Tt,n.RSSExpandedReader=K,n.ReaderException=Su,n.ReedSolomonDecoder=ol,n.ReedSolomonEncoder=qf,n.ReedSolomonException=No,n.Result=xt,n.ResultMetadataType=Qt,n.ResultPoint=he,n.StringUtils=pe,n.UnsupportedOperationException=se,n.VideoInputDevice=ft,n.WhiteRectangleDetector=xi,n.WriterException=rt,n.ZXingArrays=S,n.ZXingCharset=k2,n.ZXingInteger=O,n.ZXingStandardCharsets=Zf,n.ZXingStringBuilder=Oe,n.ZXingStringEncoding=Me,n.ZXingSystem=R,n.createAbstractExpandedDecoder=C2,Object.defineProperty(n,"__esModule",{value:!0})})})(Lg,Lg.exports);var ut=Lg.exports;const oL=hE(ut),aL=uE({__proto__:null,default:oL},[ut]);var Jw=function(){function t(e,n,r){if(this.formatMap=new Map([[le.QR_CODE,ut.BarcodeFormat.QR_CODE],[le.AZTEC,ut.BarcodeFormat.AZTEC],[le.CODABAR,ut.BarcodeFormat.CODABAR],[le.CODE_39,ut.BarcodeFormat.CODE_39],[le.CODE_93,ut.BarcodeFormat.CODE_93],[le.CODE_128,ut.BarcodeFormat.CODE_128],[le.DATA_MATRIX,ut.BarcodeFormat.DATA_MATRIX],[le.MAXICODE,ut.BarcodeFormat.MAXICODE],[le.ITF,ut.BarcodeFormat.ITF],[le.EAN_13,ut.BarcodeFormat.EAN_13],[le.EAN_8,ut.BarcodeFormat.EAN_8],[le.PDF_417,ut.BarcodeFormat.PDF_417],[le.RSS_14,ut.BarcodeFormat.RSS_14],[le.RSS_EXPANDED,ut.BarcodeFormat.RSS_EXPANDED],[le.UPC_A,ut.BarcodeFormat.UPC_A],[le.UPC_E,ut.BarcodeFormat.UPC_E],[le.UPC_EAN_EXTENSION,ut.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!aL)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(e),o=new Map;o.set(ut.DecodeHintType.POSSIBLE_FORMATS,i),o.set(ut.DecodeHintType.TRY_HARDER,!1),this.hints=o}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,i){try{r(n.decode(e))}catch(o){i(o)}})},t.prototype.decode=function(e){var n=new ut.MultiFormatReader(this.verbose,this.hints),r=new ut.HTMLCanvasElementLuminanceSource(e),i=new ut.BinaryBitmap(new ut.HybridBinarizer(r)),o=n.decode(i);return{text:o.text,format:SI.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),lL=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function g(w){try{p(r.next(w))}catch(_){c(_)}}function m(w){try{p(r.throw(w))}catch(_){c(_)}}function p(w){w.done?o(w.value):i(w.value).then(g,m)}p((r=r.apply(t,e||[])).next())})},cL=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(p){return function(w){return m([p,w])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(w){p=[6,w],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},eE=function(){function t(e,n,r){if(this.formatMap=new Map([[le.QR_CODE,"qr_code"],[le.AZTEC,"aztec"],[le.CODABAR,"codabar"],[le.CODE_39,"code_39"],[le.CODE_93,"code_93"],[le.CODE_128,"code_128"],[le.DATA_MATRIX,"data_matrix"],[le.ITF,"itf"],[le.EAN_13,"ean_13"],[le.EAN_8,"ean_8"],[le.PDF_417,"pdf417"],[le.UPC_A,"upc_a"],[le.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return lL(this,void 0,void 0,function(){var n,r;return cL(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:SI.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,i=0,o=e;i<o.length;i++){var c=o[i],g=c.boundingBox.width*c.boundingBox.height;g>r&&(r=g,n=c)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),tE=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function g(w){try{p(r.next(w))}catch(_){c(_)}}function m(w){try{p(r.throw(w))}catch(_){c(_)}}function p(w){w.done?o(w.value):i(w.value).then(g,m)}p((r=r.apply(t,e||[])).next())})},nE=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(p){return function(w){return m([p,w])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(w){p=[6,w],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},uL=function(){function t(e,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&eE.isSupported()?(this.primaryDecoder=new eE(e,r,i),this.secondaryDecoder=new Jw(e,r,i)):this.primaryDecoder=new Jw(e,r,i)}return t.prototype.decodeAsync=function(e){return tE(this,void 0,void 0,function(){var n;return nE(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return tE(this,void 0,void 0,function(){var n,r;return nE(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];e+=i}var o=e/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),p2=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nd=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function g(w){try{p(r.next(w))}catch(_){c(_)}}function m(w){try{p(r.throw(w))}catch(_){c(_)}}function p(w){w.done?o(w.value):i(w.value).then(g,m)}p((r=r.apply(t,e||[])).next())})},Rd=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(p){return function(w){return m([p,w])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(w){p=[6,w],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},OI=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),hL=function(t){p2(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(OI),dL=function(t){p2(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(hL),fL=function(t){p2(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(OI),gL=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new dL(this.track)},t.prototype.torchFeature=function(){return new fL(this.track)},t}(),pL=function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,i),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,i){return Nd(this,void 0,void 0,function(){var o,c;return Rd(this,function(g){switch(g.label){case 0:return o=new t(e,n,i),r.aspectRatio?(c={aspectRatio:r.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:g.sent(),g.label=2;case 2:return o.setupSurface(),[2,o]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return Nd(this,void 0,void 0,function(){return Rd(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var i=e.mediaStream.getVideoTracks(),o=i.length,c=0;e.mediaStream.getVideoTracks().forEach(function(g){e.mediaStream.removeTrack(g),g.stop(),++c,c>=o&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new gL(this.getFirstTrackOrFail())},t}(),mL=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return Nd(this,void 0,void 0,function(){return Rd(this,function(i){return[2,pL.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return Nd(this,void 0,void 0,function(){var n,r;return Rd(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new t(r)]}})})},t}(),rE=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function g(w){try{p(r.next(w))}catch(_){c(_)}}function m(w){try{p(r.throw(w))}catch(_){c(_)}}function p(w){w.done?o(w.value):i(w.value).then(g,m)}p((r=r.apply(t,e||[])).next())})},iE=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(p){return function(w){return m([p,w])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(w){p=[6,w],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},yL=function(){function t(){}return t.failIfNotSupported=function(){return rE(this,void 0,void 0,function(){return iE(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return rE(this,void 0,void 0,function(){return iE(this,function(n){return[2,mL.create(e)]})})},t}(),xL=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function g(w){try{p(r.next(w))}catch(_){c(_)}}function m(w){try{p(r.throw(w))}catch(_){c(_)}}function p(w){w.done?o(w.value):i(w.value).then(g,m)}p((r=r.apply(t,e||[])).next())})},wL=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(p){return function(w){return m([p,w])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(w){p=[6,w],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},EL=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=ua.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=ua.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return xL(this,void 0,void 0,function(){var e,n,r,i,o,c,g;return wL(this,function(m){switch(m.label){case 0:return e=function(p){for(var w=p.getVideoTracks(),_=0,I=w;_<I.length;_++){var b=I[_];b.enabled=!1,b.stop(),p.removeTrack(b)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=m.sent(),i=[],o=0,c=r;o<c.length;o++)g=c[o],g.kind==="videoinput"&&i.push({id:g.deviceId,label:g.label});return e(n),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(o){for(var c=[],g=0,m=o;g<m.length;g++){var p=m[g];p.kind==="video"&&c.push({id:p.id,label:p.label})}e(c)},i=MediaStreamTrack;i.getSources(r)})},t}(),Rt;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Rt||(Rt={}));var vL=function(){function t(){this.state=Rt.NOT_STARTED,this.onGoingTransactionNewState=Rt.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Rt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Rt.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Rt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Rt.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Rt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Rt.UNKNOWN:throw"Transition from unknown is not allowed";case Rt.NOT_STARTED:this.failIfNewStateIs(e,[Rt.PAUSED]);break;case Rt.SCANNING:break;case Rt.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];if(e===o)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),_L=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Rt.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Rt.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Rt.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Rt.PAUSED},t}(),CL=function(){function t(){}return t.create=function(){return new _L(new vL)},t}(),AL=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rr=function(t){AL(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(Mr),IL=function(){function t(e,n){this.logger=n,this.fps=rr.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=rr.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?RI.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Zr(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),sE=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new NI(this.verbose),this.qrcode=new uL(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=CL.create()}return t.prototype.start=function(e,n,r,i){var o=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;i?c=i:c=this.verbose?this.logger.log:function(){};var g=IL.create(n,this.logger);this.clearElement();var m=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=m,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:rr.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var _=this,I=this.stateManagerProxy.startTransition(Rt.SCANNING);return new Promise(function(b,M){var R=p?g.videoConstraints:_.createVideoConstraints(e);if(!R){I.cancel(),M("videoConstraints should be defined");return}var F={};(!p||g.aspectRatio)&&(F.aspectRatio=g.aspectRatio);var k={onRenderSurfaceReady:function(S,O){_.setupUi(S,O,g),_.isScanning=!0,_.foreverScan(g,r,c)}};yL.failIfNotSupported().then(function(S){S.create(R).then(function(O){return O.render(o.element,F,k).then(function(B){_.renderedCamera=B,I.execute(),b(null)}).catch(function(B){I.cancel(),M(B)})}).catch(function(O){I.cancel(),M(ua.errorGettingUserMedia(O))})}).catch(function(S){I.cancel(),M(ua.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Rt.PAUSED),this.showPausedState(),(Zr(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(Rt.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Rt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var o=document.getElementById(rr.SHADED_REGION_ELEMENT_ID);o&&e.element.removeChild(o)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Zr(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,o){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var c=new Image;c.onload=function(){var g=c.width,m=c.height,p=document.getElementById(r.elementId),w=p.clientWidth?p.clientWidth:rr.DEFAULT_WIDTH,_=Math.max(p.clientHeight?p.clientHeight:m,rr.FILE_SCAN_MIN_HEIGHT),I=r.computeCanvasDrawConfig(g,m,w,_);if(n){var b=r.createCanvasElement(w,_,"qr-canvas-visible");b.style.display="inline-block",p.appendChild(b);var M=b.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=w,M.canvas.height=_,M.drawImage(c,0,0,g,m,I.x,I.y,I.width,I.height)}var R=rr.FILE_SCAN_HIDDEN_CANVAS_PADDING,F=Math.max(c.width,I.width),k=Math.max(c.height,I.height),S=F+2*R,O=k+2*R,B=r.createCanvasElement(S,O);p.appendChild(B);var X=B.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=S,X.canvas.height=O,X.drawImage(c,0,0,g,m,R,R,F,k);try{r.qrcode.decodeRobustlyAsync(B).then(function(G){i(Qw.createFromQrcodeResult(G))}).catch(o)}catch(G){o("QR code parse error, error = ".concat(G))}},c.onerror=o,c.onabort=o,c.onstalled=o,c.onsuspend=o,c.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return EL.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!RI.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[le.QR_CODE,le.AZTEC,le.CODABAR,le.CODE_39,le.CODE_93,le.CODE_128,le.DATA_MATRIX,le.MAXICODE,le.ITF,le.EAN_13,le.EAN_8,le.PDF_417,le.RSS_14,le.RSS_EXPANDED,le.UPC_A,le.UPC_E,le.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,o=e.formatsToSupport;i<o.length;i++){var c=o[i];iL(c)?r.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Zr(e))return!0;if(!Zr(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Zr(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return Zr(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var i=this,o=r.qrbox;this.validateQrboxConfig(o);var c=this.toQrdimensions(e,n,o),g=function(p){if(p<rr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(rr.MIN_QR_BOX_SIZE,"px.")},m=function(p){return p>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=e),p};g(c.width),g(c.height),c.width=m(c.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var i=Zr(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(e,n,i);o.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=r.isShadedBoxEnabled()&&o.height<=n,g={x:0,y:0,width:e,height:n},m=c?this.getShadedRegionBounds(e,n,o):g,p=this.createCanvasElement(m.width,m.height),w={willReadFrequently:!0},_=p.getContext("2d",w);_.canvas.width=m.width,_.canvas.height=m.height,this.element.append(p),c&&this.possiblyInsertShadingElement(this.element,e,n,o),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=_,this.canvasElement=p},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=ua.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,Qw.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var o=ua.codeParseError(i);return n(o,bI.createFrom(o)),!1})},t.prototype.foreverScan=function(e,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),c=o.videoWidth/o.clientWidth,g=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*c,p=this.qrRegion.height*g,w=this.qrRegion.x*c,_=this.qrRegion.y*g;this.context.drawImage(o,w,_,m,p,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,n,r)},i.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(b){!b&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){I()})):I()}).catch(function(b){i.logger.logError("Error happend while scanning context",b),I()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},o="exact",c=function(M){if(M in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(M,"'")},g=Object.keys(e);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var m=Object.keys(e)[0];if(m!==n&&m!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(m===n){var p=e.facingMode;if(typeof p=="string"){if(c(p))return{facingMode:p}}else if(typeof p=="object")if(o in p){if(c(p["".concat(o)]))return{facingMode:{exact:p["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var w=typeof p;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var _=e.deviceId;if(typeof _=="string")return{deviceId:_};if(typeof _=="object"){if(o in _)return{deviceId:{exact:_["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var I=typeof _;throw"Invalid type of 'deviceId' = ".concat(I)}}}var b=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(b)},t.prototype.computeCanvasDrawConfig=function(e,n,r,i){if(e<=r&&n<=i){var o=(r-e)/2,c=(i-n)/2;return{x:o,y:c,width:e,height:n}}else{var g=e,m=n;return e>r&&(n=r/e*n,e=r),n>i&&(e=i/n*e,n=i),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(m)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?rr.BORDER_SHADER_MATCH_COLOR:rr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var i=e,o=n,c=document.createElement("canvas");return c.style.width="".concat(i,"px"),c.style.height="".concat(o,"px"),c.style.display="none",c.id=Zr(r)?"qr-canvas":r,c},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,i){if(!(n-i.width<1||r-i.height<1)){var o=document.createElement("div");o.style.position="absolute";var c=(n-i.width)/2,g=(r-i.height)/2;if(o.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(rr.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var m=5,p=40;this.insertShaderBorders(o,p,m,-m,null,0,!0),this.insertShaderBorders(o,p,m,-m,null,0,!1),this.insertShaderBorders(o,p,m,null,-m,0,!0),this.insertShaderBorders(o,p,m,null,-m,0,!1),this.insertShaderBorders(o,m,p+m,-m,null,-m,!0),this.insertShaderBorders(o,m,p+m,null,-m,-m,!0),this.insertShaderBorders(o,m,p+m,-m,null,-m,!1),this.insertShaderBorders(o,m,p+m,null,-m,-m,!1),this.hasBorderShaders=!0}e.append(o)}},t.prototype.insertShaderBorders=function(e,n,r,i,o,c,g){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=rr.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(n,"px"),m.style.height="".concat(r,"px"),i!==null&&(m.style.top="".concat(i,"px")),o!==null&&(m.style.bottom="".concat(o,"px")),g?m.style.left="".concat(c,"px"):m.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),e.appendChild(m)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),m2="data:image/svg+xml;base64,",TL=m2+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",SL=m2+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",oE=m2+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",bL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",aE=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),NL=function(){function t(){this.data=aE.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=aE.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),RL=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Zw.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var o=document.createElement("a");o.innerText=Zw.reportIssues(),o.href="https://github.com/mebjas/html5-qrcode/issues",o.target="new",o.style.color="white",this.infoDiv.appendChild(o),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),OL=function(){function t(e,n){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=n,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=oE,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=bL,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=oE,this.infoIcon.style.opacity="0.6")},t}(),kL=function(){function t(){var e=this;this.infoDiv=new RL,this.infoIcon=new OL(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t}(),DL=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function g(w){try{p(r.next(w))}catch(_){c(_)}}function m(w){try{p(r.throw(w))}catch(_){c(_)}}function p(w){w.done?o(w.value):i(w.value).then(g,m)}p((r=r.apply(t,e||[])).next())})},ML=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(p){return function(w){return m([p,w])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(w){p=[6,w],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},lE=function(){function t(){}return t.hasPermissions=function(){return DL(this,void 0,void 0,function(){var e,n,r,i;return ML(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=o.sent(),n=0,r=e;n<r.length;n++)if(i=r[n],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},t}(),Qi=function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,n=this.supportedScanTypes;e<n.length;e++){var r=n[e];if(t.isCameraScanType(r))return!0}return!1},t.isCameraScanType=function(e){return e===Ns.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===Ns.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return Mr.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Mr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,i=e;r<i.length;r++){var o=i[r];if(!Mr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(o))throw"Unsupported scan type ".concat(o)}return e},t}(),ar=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),Si=function(){function t(){}return t.createElement=function(e,n){var r=document.createElement(e);return r.id=n,r.classList.add(ar.ALL_ELEMENT_CLASS),e==="button"&&r.setAttribute("type","button"),r},t}(),kI=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function g(w){try{p(r.next(w))}catch(_){c(_)}}function m(w){try{p(r.throw(w))}catch(_){c(_)}}function p(w){w.done?o(w.value):i(w.value).then(g,m)}p((r=r.apply(t,e||[])).next())})},DI=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(p){return function(w){return m([p,w])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(w){p=[6,w],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},cE=function(){function t(e,n,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=n,this.onTorchActionFailureCallback=r}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return kI(this,void 0,void 0,function(){var e,n;return DI(this,function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return n=r.sent(),this.propagateFailure(e,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,n){e===n?(this.buttonController.setText(n?Ze.torchOffButton():Ze.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},t.prototype.propagateFailure=function(e,n){var r=e?Ze.torchOnFailedMessage():Ze.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),PL=function(){function t(e,n){this.onTorchActionFailureCallback=n,this.torchButton=Si.createElement("button",ar.TORCH_BUTTON_ID),this.torchController=new cE(e,this,n)}return t.prototype.render=function(e,n){var r=this;this.torchButton.innerText=Ze.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var i=this;this.torchButton.addEventListener("click",function(o){return kI(r,void 0,void 0,function(){return DI(this,function(c){switch(c.label){case 0:return[4,i.torchController.flipState()];case 1:return c.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(ar.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(ar.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(ar.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(ar.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new cE(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=Ze.torchOnButton(),this.torchController.reset()},t.create=function(e,n,r,i){var o=new t(n,i);return o.render(e,r),o},t}(),LL=function(){function t(e,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",e.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=Si.createElement("button",ar.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(g){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=Si.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var o=this;this.fileScanInput.addEventListener("change",function(g){if(!(g==null||g.target==null)){var m=g.target;if(!(m.files&&m.files.length===0)){var p=m.files,w=p[0],_=w.name;o.setImageNameToButton(_),r(w)}}});var c=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(c),this.fileBasedScanRegion.addEventListener("dragenter",function(g){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(g){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(g){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(g){g.stopPropagation(),g.preventDefault(),o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder();var m=g.dataTransfer;if(m){var p=m.files;if(!p||p.length===0)return;for(var w=!1,_=0;_<p.length;++_){var I=p.item(_);if(I){var b=/image.*/;if(I.type.match(b)){w=!0;var M=I.name;o.setImageNameToButton(M),r(I),c.innerText=Ze.dragAndDropMessage();break}}}w||(c.innerText=Ze.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=Ze.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var n=20;if(e.length>n){var r=e.substring(0,8),i=e.length,o=e.substring(i-8,i);e="".concat(r,"....").concat(o)}var c=Ze.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=c},t.prototype.setInitialValueToButton=function(){var e=Ze.fileSelectionChooseImage()+" - "+Ze.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,n,r){var i=new t(e,n,r);return i},t}(),BL=function(){function t(e){this.selectElement=Si.createElement("select",ar.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var i=Ze.selectCamera();n.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var o=1,c=0,g=this.cameras;c<g.length;c++){var m=g[c],p=m.id,w=m.label==null?p:m.label;(!w||w==="")&&(w=[Ze.anonymousCameraPrefix(),o++].join(" "));var _=document.createElement("option");_.value=p,_.innerText=w,this.options.push(_),this.selectElement.appendChild(_)}n.appendChild(this.selectElement),e.appendChild(n)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var n=0,r=this.options;n<r.length;n++){var i=r[n];if(i.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,n){var r=new t(n);return r.render(e),r},t}(),FL=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Si.createElement("input",ar.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Ze.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=Ze.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,n,r,i){this.rangeInput.min=e.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,n){var r=new t;return r.render(e,n),r},t}(),ir;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ir||(ir={}));function jL(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function VL(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var UL=function(){function t(e,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new Qi(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new NI(this.verbose),this.persistedDataManager=new NL,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(o,c){if(e)e(o,c);else{if(r.lastMatchFound===o)return;r.lastMatchFound=o,r.setHeaderMessage(Ze.lastMatch(o),ir.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(o,c){n&&n(o,c)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new sE(this.getScanRegionId(),VL(this.config,this.verbose))},t.prototype.pause=function(e){(Zr(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,n=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!e.html5Qrcode){r();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(o){if(!e.html5Qrcode){r();return}e.html5Qrcode.clear(),n(),r()}).catch(function(o){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",o),i(o)}):(e.html5Qrcode.clear(),n(),r())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=Mr.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!Mr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=Mr.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=Mr.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:Mr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Mr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Mr.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",e.appendChild(n),Qi.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),o=this.getDashboardId();i.id=o,i.style.width="100%",e.appendChild(i),this.setupInitialDashboard(i)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",e.appendChild(n);var r=new kL;r.renderInto(n);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",n.appendChild(i)},t.prototype.createSection=function(e){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",e.appendChild(n)},t.prototype.createCameraListUi=function(e,n,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(Ze.cameraPermissionRequesting());var o=function(){r||i.createPermissionButton(e,n)};sE.getCameras().then(function(c){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),c&&c.length>0?(e.removeChild(n),i.renderCameraSelection(c)):(i.setHeaderMessage(Ze.noCameraFound(),ir.STATUS_WARNING),o())}).catch(function(c){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:o(),i.setHeaderMessage(c,ir.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,n){var r=this,i=Si.createElement("button",this.getCameraPermissionButtonId());i.innerText=Ze.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(e,n,i)}),n.appendChild(i)},t.prototype.createPermissionsUi=function(e,n){var r=this;if(Qi.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){lE.hasPermissions().then(function(i){i?r.createCameraListUi(e,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n)});return}this.createPermissionButton(e,n)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");e.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Qi.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(n)},t.prototype.renderFileScanUi=function(e){var n=Qi.isFileScanType(this.currentScanType),r=this,i=function(o){if(!r.html5Qrcode)throw"html5Qrcode not defined";Qi.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Ze.loadingImage()),r.html5Qrcode.scanFileV2(o,!0).then(function(c){r.resetHeaderMessage(),r.qrCodeSuccessCallback(c.decodedText,c)}).catch(function(c){r.setHeaderMessage(c,ir.STATUS_WARNING),r.qrCodeErrorCallback(c,bI.createFrom(c))}))};this.fileSelectionUi=LL.create(e,n,i)},t.prototype.renderCameraSelection=function(e){var n=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var o=FL.create(i,!1),c=function(R){var F=R.zoomFeature();if(F.isSupported()){o.setOnCameraZoomValueChangeCallback(function(S){F.apply(S)});var k=1;n.config.defaultZoomValueIfSupported&&(k=n.config.defaultZoomValueIfSupported),k=sL(k,F.min(),F.max()),o.setValues(F.min(),F.max(),k,F.step()),o.show()}},g=BL.create(i,e),m=document.createElement("span"),p=Si.createElement("button",ar.CAMERA_START_BUTTON_ID);p.innerText=Ze.scanButtonStartScanningText(),m.appendChild(p);var w=Si.createElement("button",ar.CAMERA_STOP_BUTTON_ID);w.innerText=Ze.scanButtonStopScanningText(),w.style.display="none",w.disabled=!0,m.appendChild(w);var _,I=function(R){if(!R.torchFeature().isSupported()){_&&_.hide();return}_?_.updateTorchCapability(R.torchFeature()):_=PL.create(m,R.torchFeature(),{display:"none",marginLeft:"5px"},function(F){r.setHeaderMessage(F,ir.STATUS_WARNING)}),_.show()};i.appendChild(m);var b=function(R){R||(p.style.display="none"),p.innerText=Ze.scanButtonStartScanningText(),p.style.opacity="1",p.disabled=!1,R&&(p.style.display="inline-block")};if(p.addEventListener("click",function(R){p.innerText=Ze.scanButtonScanningStarting(),g.disable(),p.disabled=!0,p.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var F=g.getValue();r.persistedDataManager.setLastUsedCameraId(F),r.html5Qrcode.start(F,jL(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(k){w.disabled=!1,w.style.display="inline-block",b(!1);var S=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&I(S),n.config.showZoomSliderIfSupported===!0&&c(S)}).catch(function(k){r.showHideScanTypeSwapLink(!0),g.enable(),b(!0),r.setHeaderMessage(k,ir.STATUS_WARNING)})}),g.hasSingleItem()&&p.click(),w.addEventListener("click",function(R){if(!r.html5Qrcode)throw"html5Qrcode not defined";w.disabled=!0,r.html5Qrcode.stop().then(function(F){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),g.enable(),p.disabled=!1,w.style.display="none",p.style.display="inline-block",_&&(_.reset(),_.hide()),o.removeOnCameraZoomValueChangeCallback(),o.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(F){w.disabled=!1,r.setHeaderMessage(F,ir.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var M=r.persistedDataManager.getLastUsedCameraId();g.hasValue(M)?(g.setValue(M),p.click()):r.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,n=Ze.textIfCameraScanSelected(),r=Ze.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");o.style.textAlign="center";var c=Si.createElement("span",this.getDashboardSectionSwapLinkId());c.style.textDecoration="underline",c.style.cursor="pointer",c.innerText=Qi.isCameraScanType(this.currentScanType)?n:r,c.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,Qi.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),c.innerText=r,e.currentScanType=Ns.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),c.innerText=n,e.currentScanType=Ns.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),o.appendChild(c),i.appendChild(o)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){lE.hasPermissions().then(function(r){if(r){var i=document.getElementById(n.getCameraPermissionButtonId());if(!i)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,n){n||(n=ir.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",n){case ir.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case ir.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case ir.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=TL,this.cameraScanImage.alt=Ze.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=SL,this.fileScanImage.alt=Ze.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return ar.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return ar.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();function zL(){const[t,e]=Y.useState(null),[n,r]=Y.useState("");Y.useEffect(()=>{const o=new UL("reader",{qrbox:{width:250,height:250},fps:5});let c=!0;const g=p=>{c&&(o.clear(),e(p),c=!1)},m=p=>{console.warn(p)};return o.render(g,m),()=>{c=!1}},[]);function i(o){r(o.target.value)}return E.jsxs("div",{className:"App bg-primary h-screen",children:[E.jsx("h1",{children:"QR Scanning Code"}),t?E.jsxs("div",{children:[E.jsxs("p",{children:["Success: ",E.jsx("a",{href:t,children:t})]}),E.jsxs("p",{children:["Serial Number: ",t.slice(-16)]})]}):E.jsxs("div",{children:[E.jsx("div",{id:"reader"}),E.jsx("p",{className:"center-text",children:"Or enter the serial number manually:"}),E.jsxs("div",{className:"center-input",children:[E.jsx("input",{type:"text",value:n,onChange:i}),n&&E.jsxs("p",{children:["Serial Number: ",n.slice(-16)]})]})]})]})}const HL={video:{width:{min:1280,ideal:1920,max:2560},height:{min:720,ideal:1080,max:1440},facingMode:"user"}};function WL(){const[t,e]=Y.useState(null),[n,r]=Y.useState(null),[i,o]=Y.useState(null),c=Hp(),g=qa();tg(c,b=>{if(b){console.log(b);const M=b.uid;console.log(M)}else console.log("no user")}),Y.useEffect(()=>{const b=tg(c,M=>{if(M){console.log(M);const R=M.uid;console.log(R),o(M.email)}else console.log("no user")});return()=>b()},[c]);const m=async()=>{try{const M=(await navigator.mediaDevices.enumerateDevices()).find(R=>R.kind==="videoinput");if(M){const R={...HL,deviceId:{exact:M.deviceId}},F=await navigator.mediaDevices.getUserMedia(R);e(F)}else alert("No video camera found.")}catch(b){console.error("Error accessing camera:",b),alert("Error accessing camera. Please check your settings.")}},p=async()=>{try{const b=Fm(n2,"images"),M=lk(b,ck("timestamp","desc"),uk(1)),R=await Km(M);if(R.empty)console.log("No images found in Firestore.");else{const k=R.docs[0].data().path,S=Tw(Sw,k),O=await Iw(S);r(O)}}catch(b){console.error("Error fetching profile image: ",b)}};Y.useEffect(()=>{p()},[]);const w=async b=>{var R;const M=(R=b.target.files)==null?void 0:R[0];if(M)try{const F=Tw(Sw,`profile-images/${M.name}`);await CD(F,M);const k=await Iw(F);r(k)}catch(F){console.error("Error uploading image: ",F)}},_=()=>{"mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices?m():alert("Media features are not available on this device.")},I=()=>{oC(c).then(()=>{console.log("User signed out"),g("/login")}).catch(b=>{console.error("Sign-out error:",b)})};return E.jsx("div",{className:"bg-primary",children:E.jsxs("div",{className:"grid mb-4 pb-10 px-8 mx-4 rounded-3xl bg-primary",children:[E.jsxs("div",{children:[E.jsxs("button",{onClick:()=>_(),className:"hidden",children:["Start Camera",E.jsxs("svg",{viewBox:"0 0 24 24",height:"30px",width:"30px",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#ffffff",children:[E.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),E.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),E.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",E.jsx("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," ",E.jsx("path",{d:"M3 16.8V9.2C3 8.0799 3 7.51984 3.21799 7.09202C3.40973 6.71569 3.71569 6.40973 4.09202 6.21799C4.51984 6 5.0799 6 6.2 6H7.25464C7.37758 6 7.43905 6 7.49576 5.9935C7.79166 5.95961 8.05705 5.79559 8.21969 5.54609C8.25086 5.49827 8.27836 5.44328 8.33333 5.33333C8.44329 5.11342 8.49827 5.00346 8.56062 4.90782C8.8859 4.40882 9.41668 4.08078 10.0085 4.01299C10.1219 4 10.2448 4 10.4907 4H13.5093C13.7552 4 13.8781 4 13.9915 4.01299C14.5833 4.08078 15.1141 4.40882 15.4394 4.90782C15.5017 5.00345 15.5567 5.11345 15.6667 5.33333C15.7216 5.44329 15.7491 5.49827 15.7803 5.54609C15.943 5.79559 16.2083 5.95961 16.5042 5.9935C16.561 6 16.6224 6 16.7454 6H17.8C18.9201 6 19.4802 6 19.908 6.21799C20.2843 6.40973 20.5903 6.71569 20.782 7.09202C21 7.51984 21 8.0799 21 9.2V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8Z",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," "]})]})]}),t&&E.jsx("video",{style:{width:1280,height:720},autoPlay:!0,ref:b=>{b&&(b.srcObject=t)}})]}),E.jsx("div",{className:"grid grid-cols-12 gap-6",children:E.jsx("div",{className:"grid grid-cols-12 col-span-12 gap-6 xxl:col-span-9",children:E.jsxs("div",{className:"col-span-12 mt-8",children:[E.jsxs("div",{className:"flex flex-row justify-center",children:[n?E.jsx(bd,{alt:"Selected Avatar",src:n,style:{width:"150px",height:"150px"}}):E.jsx(bd,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg",style:{width:"150px",height:"150px"}}),E.jsx("label",{htmlFor:"fileInput",className:"file-input-label",children:E.jsxs("svg",{viewBox:"0 0 24 24",height:"30px",width:"30px",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#ffffff",children:[E.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),E.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),E.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",E.jsx("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," ",E.jsx("path",{d:"M3 16.8V9.2C3 8.0799 3 7.51984 3.21799 7.09202C3.40973 6.71569 3.71569 6.40973 4.09202 6.21799C4.51984 6 5.0799 6 6.2 6H7.25464C7.37758 6 7.43905 6 7.49576 5.9935C7.79166 5.95961 8.05705 5.79559 8.21969 5.54609C8.25086 5.49827 8.27836 5.44328 8.33333 5.33333C8.44329 5.11342 8.49827 5.00346 8.56062 4.90782C8.8859 4.40882 9.41668 4.08078 10.0085 4.01299C10.1219 4 10.2448 4 10.4907 4H13.5093C13.7552 4 13.8781 4 13.9915 4.01299C14.5833 4.08078 15.1141 4.40882 15.4394 4.90782C15.5017 5.00345 15.5567 5.11345 15.6667 5.33333C15.7216 5.44329 15.7491 5.49827 15.7803 5.54609C15.943 5.79559 16.2083 5.95961 16.5042 5.9935C16.561 6 16.6224 6 16.7454 6H17.8C18.9201 6 19.4802 6 19.908 6.21799C20.2843 6.40973 20.5903 6.71569 20.782 7.09202C21 7.51984 21 8.0799 21 9.2V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8Z",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," "]})]})}),E.jsx("input",{type:"file",id:"fileInput",accept:"image/*",onChange:w,style:{display:"none"}})]}),E.jsx("div",{className:"grid grid-cols-12 gap-6 mt-5 mb-5",children:E.jsx("div",{className:" bg-gray-200 text-black shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",children:E.jsx("div",{className:" text-sm text-left p-2",children:i})})}),E.jsx("div",{className:"p-3 mt-10 bg-gray-700 text-white rounded-2xl",children:"My wallet"}),E.jsx("div",{className:"p-3 mt-3 bg-gray-700 text-white rounded-2xl",children:"Payment settings"}),E.jsx("div",{className:"p-3 mt-3 bg-gray-700 text-white rounded-2xl",children:"Notifications"}),E.jsx("div",{className:"p-3 mt-3 bg-gray-700 text-white rounded-2xl",children:"Privacy settings"}),E.jsx("div",{className:"p-3 mt-3 bg-gray-700 text-white rounded-2xl",children:"Support and Help"}),E.jsxs("div",{className:"p-3 mt-3 bg-gray-700 text-white rounded-2xl",children:["  ",E.jsx("button",{onClick:I,children:"Logout "})]}),E.jsx("div",{className:"p-3 mt-3 bg-gray-700 text-white rounded-2xl",children:"Delete Account"})]})})})]})})}const GL=()=>{const t=qa(),e=()=>{t("/get")};return E.jsxs("div",{className:"mobile-nav flex flex-col items-center space-y-4 mb-4  ",children:[E.jsx("div",{onClick:()=>{t("/")}}),E.jsxs("div",{className:"flex flex-row space-x-2",children:[E.jsx("div",{className:"bg-black border-primary-500 border-2  p-2 rounded-2xl ",children:E.jsxs("button",{className:"text-white bg-primary bg-transparent",onClick:()=>e(),children:[E.jsxs("svg",{width:"40px",height:"50px",viewBox:"-3.12 -3.12 30.24 30.24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#508F81","stroke-width":"1.464",children:[E.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),E.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),E.jsxs("g",{id:"SVGRepo_iconCarrier",children:[E.jsx("path",{d:"M5.00004 15.7468V18C5.00004 18.5523 5.44775 19 6.00004 19H12H18C18.5523 19 19 18.5523 19 18V15.7468",stroke:"#508F81","stroke-linecap":"round","stroke-linejoin":"round"}),E.jsx("path",{d:"M12.2023 13.5L12.2023 5",stroke:"#508F81","stroke-linecap":"round","stroke-linejoin":"round"}),E.jsx("path",{d:"M15.546 11.1497L12.2021 14.4165L8.85831 11.1497",stroke:"#508F81","stroke-linecap":"round","stroke-linejoin":"round"})]})]}),E.jsx("label",{className:"font-xs",children:"Get"})]})}),E.jsx("div",{className:"bg-black border-primary-500 border-2 p-2  rounded-2xl ",children:E.jsx("button",{className:" text-white bg-primary bg-transparent",children:E.jsxs(Fr,{to:"/buy",children:[E.jsxs("svg",{width:"40px",height:"50px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),E.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),E.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",E.jsx("path",{d:"M18 8V7.2C18 6.0799 18 5.51984 17.782 5.09202C17.5903 4.71569 17.2843 4.40973 16.908 4.21799C16.4802 4 15.9201 4 14.8 4H6.2C5.07989 4 4.51984 4 4.09202 4.21799C3.71569 4.40973 3.40973 4.71569 3.21799 5.09202C3 5.51984 3 6.0799 3 7.2V8M21 12H19C17.8954 12 17 12.8954 17 14C17 15.1046 17.8954 16 19 16H21M3 8V16.8C3 17.9201 3 18.4802 3.21799 18.908C3.40973 19.2843 3.71569 19.5903 4.09202 19.782C4.51984 20 5.07989 20 6.2 20H17.8C18.9201 20 19.4802 20 19.908 19.782C20.2843 19.5903 20.5903 19.2843 20.782 18.908C21 18.4802 21 17.9201 21 16.8V11.2C21 10.0799 21 9.51984 20.782 9.09202C20.5903 8.71569 20.2843 8.40973 19.908 8.21799C19.4802 8 18.9201 8 17.8 8H3Z",stroke:"#508F81","stroke-width":"0.8640000000000001","stroke-linecap":"round","stroke-linejoin":"round"})," "]})]}),E.jsx("label",{className:"font-xs",children:"Buy"})]})})}),E.jsx("div",{className:"bg-black border-primary-500 border-2 p-2  rounded-2xl ",children:E.jsx("button",{className:"text-white bg-primary bg-transparent ",children:E.jsxs(Fr,{to:"/Send",children:[E.jsxs("svg",{width:"40px",height:"50px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),E.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),E.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",E.jsx("path",{d:"M5.00003 15.7468V18C5.00003 18.5523 5.44775 19 6.00003 19H12H18C18.5523 19 19 18.5523 19 18V15.7468",stroke:"#508F81","stroke-linecap":"round","stroke-linejoin":"round"})," ",E.jsx("path",{d:"M12.2023 5.91651L12.2023 14.4165",stroke:"#508F81","stroke-linecap":"round","stroke-linejoin":"round"})," ",E.jsx("path",{d:"M15.546 8.26682L12.2021 5L8.8583 8.26682",stroke:"#508F81","stroke-linecap":"round","stroke-linejoin":"round"})," "]})]}),E.jsx("label",{className:"font-xs",children:"Send"})]})})}),E.jsx("div",{className:"bg-black border-primary-500 border-2 p-2  rounded-2xl ",children:E.jsx("button",{className:" text-white bg-primary bg-transparent  ",children:E.jsxs(Fr,{to:"/swap",children:[E.jsxs("svg",{width:"40px",height:"50px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),E.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),E.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",E.jsx("path",{opacity:"0.4",d:"M23 15.9697C23 19.8397 19.87 22.9697 16 22.9697L17.05 21.2197",stroke:"#508f81","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})," ",E.jsx("path",{opacity:"0.4",d:"M1 7.96973C1 4.09973 4.13 0.969727 8 0.969727L6.95 2.71973",stroke:"#508f81","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})," ",E.jsx("path",{d:"M6.61914 13.0703H9.42914C10.0491 13.0703 10.5591 13.6303 10.5591 14.2003C10.5591 14.8203 10.0591 15.3303 9.42914 15.3303H6.61914V13.0703Z",stroke:"#508f81","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"})," ",E.jsx("path",{d:"M6.61914 15.3301H9.83914C10.5491 15.3301 11.1291 15.8301 11.1291 16.4601C11.1291 17.0801 10.5491 17.5901 9.83914 17.5901H6.61914V15.3301Z",stroke:"#508f81","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"})," ",E.jsx("path",{d:"M8.41992 17.5801V18.7001",stroke:"#508f81","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"})," ",E.jsx("path",{d:"M8.41992 11.9502V13.0702",stroke:"#508f81","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"})," ",E.jsx("path",{d:"M14.8498 15.3302C14.8498 18.7402 12.0898 21.5002 8.67977 21.5002C5.26977 21.5002 2.50977 18.7402 2.50977 15.3302C2.50977 11.9202 5.26977 9.16016 8.67977 9.16016C8.83977 9.16016 8.98977 9.17018 9.15977 9.18018C12.1898 9.41018 14.6098 11.8302 14.8398 14.8602C14.8398 15.0102 14.8498 15.1602 14.8498 15.3302Z",stroke:"#508f81","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"})," ",E.jsx("path",{d:"M21.5002 8.66998C21.5002 12.08 18.7402 14.84 15.3302 14.84H14.8402C14.6102 11.81 12.1902 9.38997 9.16016 9.15997V8.66998C9.16016 5.25998 11.9202 2.5 15.3302 2.5C18.7402 2.5 21.5002 5.25998 21.5002 8.66998Z",stroke:"#508f81","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"})," "]})]}),E.jsx("label",{className:"font-xs",children:"Swap"})]})})})]})]})},$L=()=>{const[t,e]=Y.useState([]);return Y.useEffect(()=>{(async()=>{try{const r=await Km(Fm(n2,"cryptocurrencies")),i=[];r.forEach(o=>{const c=o.data();i.push({...c})}),e(i)}catch(r){console.error("Error fetching data:",r)}})()},[]),E.jsxs("div",{className:" w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white  ",children:[E.jsx("div",{className:"",children:E.jsx(J3,{})}),E.jsxs("div",{className:"w-full",children:[E.jsx("h2",{className:"text-primary-500",children:"Recieve"}),E.jsx("ul",{role:"list",className:"divide-ymt-10",children:t.map(n=>E.jsxs("li",{className:"flex justify-between gap-x-6 py-5",children:[E.jsxs("div",{className:"flex min-w-0 gap-x-4",children:[E.jsx("img",{src:n.image,alt:n.name,className:"h-12 w-12 flex-none rounded-full bg-primary"}),E.jsxs("div",{className:"min-w-0 flex-auto",children:[E.jsxs(Fr,{to:`/receive/${n.name}`,children:["   ",E.jsx("p",{className:"text-sm font-semibold leading-6 text-white",children:n.name})]}),E.jsxs("p",{children:[" ",n.symbol]})]})]}),E.jsx("div",{className:"shrink-0 sm:flex sm:flex-col sm:items-end",children:E.jsxs("p",{className:"text-sm leading-6 text-white",children:["$ ",n.price]})})]},n.id))})]})]})};function XL(){return E.jsx("div",{className:" w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white bg-no-repeat bg-cover ",style:{backgroundImage:`url(${Bs})`},children:E.jsx("div",{className:" w-full h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white  ",children:E.jsx("div",{className:"flex flex-col sm:flex-row items-center md:items-start sm:justify-center md:justify-start flex-auto min-w-0",children:E.jsx("div",{children:E.jsx("div",{className:"lg:text-left text-center",children:E.jsx("div",{className:"flex items-center justify-center",children:E.jsxs("div",{className:"bg-primary flex flex-col w-70 border-2 border-primary-500 rounded-3xl px-8 py-10",children:[E.jsx("h2",{className:"text-3xl sm:text-xl",children:"Add Card"}),E.jsxs("form",{className:"flex flex-col space-y-4 mt-10",children:[E.jsx("label",{className:"align-left",children:"Card Name"}),E.jsx("input",{type:"text",placeholder:"visa",className:"border rounded-lg py-3 px-3 bg-black border-primary-500 placeholder-white-500 text-white"}),E.jsx("label",{className:"leading-loose",children:"Card Number"}),E.jsx("input",{type:"text",placeholder:"XXXX XXXX XXXX XXXX",className:"border rounded-lg py-3 px-3 bg-black border-primary-500 placeholder-white-500 text-white"}),E.jsxs("div",{className:"flex flex-row items-center space-x-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"leading-loose",children:"Exp Month"}),E.jsxs("div",{className:"relative focus-within:text-gray-600 text-white",children:[E.jsx("input",{type:"text",className:"pr-4 pl-10 bg-black py-2 border focus:ring-gray-500 focus:border-primary-500 w-full sm:text-sm border-primary-500 rounded-md focus:outline-none placeholder-white-500 text-white",placeholder:"XX"}),E.jsx("div",{className:"absolute left-3 top-2",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"leading-loose",children:"Exp Year"}),E.jsxs("div",{className:"relative focus-within:text-gray-600 text-white",children:[E.jsx("input",{type:"text",className:"pr-4 pl-10 bg-black py-2 border focus:ring-gray-500 focus:border-primary-500 w-full sm:text-sm border-primary-500 rounded-md focus:outline-none placeholder-white-500 text-white",placeholder:"XX"}),E.jsx("div",{className:"absolute left-3 top-2",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]})]}),E.jsx("label",{className:"leading-loose",children:"CVV"}),E.jsx("input",{type:"text",placeholder:"XXX",className:"border rounded-lg py-3 px-3 bg-black border-primary-500 placeholder-white-500 text-white"})]}),E.jsx("button",{className:"border mt-6  border-primary-500 bg-green-950 text-white rounded-lg py-3 font-semibold",children:"Continue"})]})})})})})})})}const MI=""+new URL("qr-f31ae56f.png",import.meta.url).href,YL=()=>{const{cryptoName:t}=IC(),[e,n]=Y.useState([]),[r,i]=Y.useState(""),[o,c]=Y.useState(""),[g,m]=Y.useState(null),p=async _=>{_.preventDefault();try{if("contacts"in navigator&&"select"in navigator.contacts){const I=await navigator.contacts.select(["name","tel"],{multiple:!0});if(!I.length)return;n(b=>[...b,...I])}else m(!1)}catch(I){console.error("Error accessing contacts:",I)}},w=_=>{if(_.preventDefault(),r===""||o==="")return;const I={name:r,tel:o};n(b=>[...b,I]),i(""),c("")};return E.jsx("div",{className:" w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white bg-no-repeat bg-cover ",style:{backgroundImage:`url(${Bs})`},children:E.jsx("div",{className:" w-full h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white  ",children:E.jsx("div",{className:"flex flex-col sm:flex-row items-center md:items-start sm:justify-center md:justify-start flex-auto min-w-0",children:E.jsx("div",{children:E.jsx("div",{className:"lg:text-left text-center",children:E.jsx("div",{className:"flex items-center justify-center",children:E.jsxs("div",{className:"bg-primary flex flex-col w-70 border-2 border-primary-500 rounded-3xl px-8 py-10",children:[E.jsxs("form",{className:"flex flex-col space-y-8 mt-10",children:[E.jsx("div",{children:E.jsx("img",{src:MI})}),E.jsxs("div",{children:["Send me ",t," to this address"]}),E.jsx("input",{type:"text",placeholder:"set amount",value:o,onChange:_=>c(_.target.value),className:"border rounded-lg py-3 px-3 bg-black border-primary-500  placeholder-white-500 text-white"}),g===!1&&E.jsx("p",{children:"Your device/browser doesn't support the Contact Picker API."}),E.jsx("h2",{className:"flex flex-row ",children:"To: "}),E.jsx("ul",{children:e.map((_,I)=>E.jsx("li",{children:E.jsx("input",{type:"text",placeholder:"set amount",value:_.name,className:"border rounded-lg py-3 px-3 bg-black border-primary-500  placeholder-white-500 text-white"})},I))}),E.jsx("ul",{children:e.map((_,I)=>E.jsx("li",{children:E.jsx("input",{type:"text",placeholder:"set amount",value:_.tel,className:"border rounded-lg py-3 px-3 bg-black border-primary-500  placeholder-white-500 text-white"})},I))}),E.jsxs("div",{className:"flex flex-row flex-wrap space-x-4 justify-center",children:[E.jsx("button",{className:"border border-primary-500 bg-green-950 text-white rounded-lg py-3 px-4 font-semibold",children:E.jsxs("div",{className:"flex flex-row space-x-2",children:[E.jsx("div",{children:E.jsxs("svg",{viewBox:"0 0 24 24",height:"20px",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#fffff",children:[E.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),E.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),E.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",E.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M21 8C21 6.34315 19.6569 5 18 5H10C8.34315 5 7 6.34315 7 8V20C7 21.6569 8.34315 23 10 23H18C19.6569 23 21 21.6569 21 20V8ZM19 8C19 7.44772 18.5523 7 18 7H10C9.44772 7 9 7.44772 9 8V20C9 20.5523 9.44772 21 10 21H18C18.5523 21 19 20.5523 19 20V8Z",fill:"#ffffff"})," ",E.jsx("path",{d:"M6 3H16C16.5523 3 17 2.55228 17 2C17 1.44772 16.5523 1 16 1H6C4.34315 1 3 2.34315 3 4V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V4C5 3.44772 5.44772 3 6 3Z",fill:"#ffffff"})," "]})]})}),E.jsx("div",{children:"Copy"})]})}),E.jsx("button",{className:"border border-primary-500 bg-green-950 text-white rounded-lg py-3 px-4 font-semibold",onClick:p,children:E.jsxs("div",{className:"flex flex-row space-x-2",children:[E.jsx("div",{children:E.jsxs("svg",{viewBox:"0 0 24 24",height:"20px",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#fffff",children:[E.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),E.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),E.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",E.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M21 8C21 6.34315 19.6569 5 18 5H10C8.34315 5 7 6.34315 7 8V20C7 21.6569 8.34315 23 10 23H18C19.6569 23 21 21.6569 21 20V8ZM19 8C19 7.44772 18.5523 7 18 7H10C9.44772 7 9 7.44772 9 8V20C9 20.5523 9.44772 21 10 21H18C18.5523 21 19 20.5523 19 20V8Z",fill:"#ffffff"})," ",E.jsx("path",{d:"M6 3H16C16.5523 3 17 2.55228 17 2C17 1.44772 16.5523 1 16 1H6C4.34315 1 3 2.34315 3 4V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V4C5 3.44772 5.44772 3 6 3Z",fill:"#ffffff"})," "]})]})}),E.jsx("div",{children:"Share"})]})})]})]}),E.jsx("button",{onClick:w,className:"hidden",children:"Add Contact"})]})})})})})})})},KL=()=>{const[t,e]=Y.useState([]),[n,r]=Y.useState(""),[i,o]=Y.useState(""),[c,g]=Y.useState(null),m=async w=>{w.preventDefault();try{if("contacts"in navigator&&"select"in navigator.contacts){const _=await navigator.contacts.select(["name","tel"],{multiple:!0});if(!_.length)return;e(I=>[...I,..._])}else g(!1)}catch(_){console.error("Error accessing contacts:",_)}},p=w=>{if(w.preventDefault(),n===""||i==="")return;const _={name:n,tel:i};e(I=>[...I,_]),r(""),o("")};return E.jsx("div",{className:" w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white bg-no-repeat bg-cover ",style:{backgroundImage:`url(${Bs})`},children:E.jsx("div",{className:" w-full h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white  ",children:E.jsx("div",{className:"flex flex-col sm:flex-row items-center md:items-start sm:justify-center md:justify-start flex-auto min-w-0",children:E.jsx("div",{children:E.jsx("div",{className:"lg:text-left text-center",children:E.jsx("div",{className:"flex items-center justify-center",children:E.jsx("div",{className:"bg-primary flex flex-col w-70 border-2 border-primary-500 rounded-3xl px-8 py-10",children:E.jsxs("form",{className:"flex flex-col space-y-8 mt-10",children:[E.jsx("div",{children:E.jsx("img",{src:MI})}),E.jsx("div",{children:"Send me Bitcoin to this address"}),E.jsx("input",{type:"text",placeholder:"set amount",className:"border rounded-lg py-3 px-3 bg-black border-primary-500  placeholder-white-500 text-white"}),E.jsxs("label",{children:["Sender",E.jsx("input",{type:"text",value:n,onChange:w=>r(w.target.value)})]}),E.jsx("input",{type:"text",placeholder:"set amount",value:i,onChange:w=>o(w.target.value),className:"border rounded-lg py-3 px-3 bg-black border-primary-500  placeholder-white-500 text-white"}),E.jsxs("div",{className:"flex flex-row flex-wrap space-x-4 justify-center",children:[E.jsx("button",{className:"border border-primary-500 bg-green-950 text-white rounded-lg py-3 px-4 font-semibold",children:E.jsxs("div",{className:"flex flex-row space-x-2",children:[E.jsx("div",{children:E.jsxs("svg",{viewBox:"0 0 24 24",height:"20px",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#fffff",children:[E.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),E.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),E.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",E.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M21 8C21 6.34315 19.6569 5 18 5H10C8.34315 5 7 6.34315 7 8V20C7 21.6569 8.34315 23 10 23H18C19.6569 23 21 21.6569 21 20V8ZM19 8C19 7.44772 18.5523 7 18 7H10C9.44772 7 9 7.44772 9 8V20C9 20.5523 9.44772 21 10 21H18C18.5523 21 19 20.5523 19 20V8Z",fill:"#ffffff"})," ",E.jsx("path",{d:"M6 3H16C16.5523 3 17 2.55228 17 2C17 1.44772 16.5523 1 16 1H6C4.34315 1 3 2.34315 3 4V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V4C5 3.44772 5.44772 3 6 3Z",fill:"#ffffff"})," "]})]})}),E.jsx("div",{children:"Copy"})]})}),E.jsx("button",{className:"border border-primary-500 bg-green-950 text-white rounded-lg py-3 px-4 font-semibold",onClick:m,children:E.jsxs("div",{className:"flex flex-row space-x-2",children:[E.jsx("div",{children:E.jsxs("svg",{viewBox:"0 0 24 24",height:"20px",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#fffff",children:[E.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),E.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),E.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",E.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M21 8C21 6.34315 19.6569 5 18 5H10C8.34315 5 7 6.34315 7 8V20C7 21.6569 8.34315 23 10 23H18C19.6569 23 21 21.6569 21 20V8ZM19 8C19 7.44772 18.5523 7 18 7H10C9.44772 7 9 7.44772 9 8V20C9 20.5523 9.44772 21 10 21H18C18.5523 21 19 20.5523 19 20V8Z",fill:"#ffffff"})," ",E.jsx("path",{d:"M6 3H16C16.5523 3 17 2.55228 17 2C17 1.44772 16.5523 1 16 1H6C4.34315 1 3 2.34315 3 4V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V4C5 3.44772 5.44772 3 6 3Z",fill:"#ffffff"})," "]})]})}),E.jsx("div",{children:"Share"})]})}),c===!1&&E.jsx("p",{children:"Your device/browser doesn't support the Contact Picker API."}),E.jsx("ul",{children:t.map((w,_)=>E.jsxs("li",{children:[w.name," - ",w.tel]},_))}),E.jsx("button",{onClick:p,children:"Add Contact"})]})]})})})})})})})})};function qL(){return E.jsxs("div",{className:"bg-primary  w-full overflow-hidden  ",children:[E.jsx("div",{className:`${vi.paddingX} ${vi.flexCenter}  `,children:E.jsx("div",{className:`${vi.boxWidth} `,children:E.jsx(DD,{})})}),E.jsx("div",{children:E.jsx(GL,{})}),E.jsx("div",{className:`bg-primary ${vi.flexStart}`,children:E.jsx("div",{className:`${vi.boxWidth}`,children:E.jsxs(a5,{children:[E.jsx(Bn,{path:"/home",element:E.jsx(LD,{})}),E.jsx(Bn,{path:"/send",element:E.jsx(BD,{})}),E.jsx(Bn,{path:"/swap",element:E.jsx(FD,{})}),E.jsx(Bn,{path:"/buy",element:E.jsx(jD,{})}),E.jsx(Bn,{path:"/get",element:E.jsx($L,{})}),E.jsx(Bn,{path:"/login",element:E.jsx(UD,{})}),E.jsx(Bn,{path:"/createWallet",element:E.jsx(Q3,{})}),E.jsx(Bn,{path:"/camera",element:E.jsx(rL,{})}),E.jsx(Bn,{path:"/barcodescanner",element:E.jsx(zL,{})}),E.jsx(Bn,{path:"/profile",element:E.jsx(WL,{})}),E.jsx(Bn,{path:"/card",element:E.jsx(XL,{})}),E.jsx(Bn,{path:"/buy2/:cryptoName",element:E.jsx(VD,{})}),E.jsx(Bn,{path:"/receive/:cryptoName",element:E.jsx(YL,{})}),E.jsx(Bn,{path:"/test",element:E.jsx(KL,{})})]})})})]})}"BarcodeDetector"in window?console.log("BarcodeDetector is supported by this browser"):console.log("BarcodeDetector is not supported by this browser");Notification.requestPermission().then(t=>{console.log("notification permission",t)});n1.createRoot(document.getElementById("root")).render(E.jsx(vE.StrictMode,{children:E.jsx(f5,{children:E.jsx(ND,{children:E.jsx(qL,{})})})}));
