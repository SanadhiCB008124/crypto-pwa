function Fw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var hl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jw={exports:{}},Cd={},Vw={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uc=Symbol.for("react.element"),bI=Symbol.for("react.portal"),NI=Symbol.for("react.fragment"),RI=Symbol.for("react.strict_mode"),OI=Symbol.for("react.profiler"),kI=Symbol.for("react.provider"),DI=Symbol.for("react.context"),MI=Symbol.for("react.forward_ref"),PI=Symbol.for("react.suspense"),LI=Symbol.for("react.memo"),BI=Symbol.for("react.lazy"),p2=Symbol.iterator;function FI(t){return t===null||typeof t!="object"?null:(t=p2&&t[p2]||t["@@iterator"],typeof t=="function"?t:null)}var zw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hw=Object.assign,Ww={};function ja(t,e,n){this.props=t,this.context=e,this.refs=Ww,this.updater=n||zw}ja.prototype.isReactComponent={};ja.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ja.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $w(){}$w.prototype=ja.prototype;function Rg(t,e,n){this.props=t,this.context=e,this.refs=Ww,this.updater=n||zw}var Og=Rg.prototype=new $w;Og.constructor=Rg;Hw(Og,ja.prototype);Og.isPureReactComponent=!0;var m2=Array.isArray,Gw=Object.prototype.hasOwnProperty,kg={current:null},Xw={key:!0,ref:!0,__self:!0,__source:!0};function Yw(t,e,n){var r,s={},o=null,c=null;if(e!=null)for(r in e.ref!==void 0&&(c=e.ref),e.key!==void 0&&(o=""+e.key),e)Gw.call(e,r)&&!Xw.hasOwnProperty(r)&&(s[r]=e[r]);var g=arguments.length-2;if(g===1)s.children=n;else if(1<g){for(var m=Array(g),p=0;p<g;p++)m[p]=arguments[p+2];s.children=m}if(t&&t.defaultProps)for(r in g=t.defaultProps,g)s[r]===void 0&&(s[r]=g[r]);return{$$typeof:Uc,type:t,key:o,ref:c,props:s,_owner:kg.current}}function UI(t,e){return{$$typeof:Uc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Dg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Uc}function jI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var y2=/\/+/g;function qf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jI(""+t.key):e.toString(36)}function nh(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var c=!1;if(t===null)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case Uc:case bI:c=!0}}if(c)return c=t,s=s(c),t=r===""?"."+qf(c,0):r,m2(s)?(n="",t!=null&&(n=t.replace(y2,"$&/")+"/"),nh(s,e,n,"",function(p){return p})):s!=null&&(Dg(s)&&(s=UI(s,n+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(y2,"$&/")+"/")+t)),e.push(s)),1;if(c=0,r=r===""?".":r+":",m2(t))for(var g=0;g<t.length;g++){o=t[g];var m=r+qf(o,g);c+=nh(o,e,n,m,s)}else if(m=FI(t),typeof m=="function")for(t=m.call(t),g=0;!(o=t.next()).done;)o=o.value,m=r+qf(o,g++),c+=nh(o,e,n,m,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return c}function Iu(t,e,n){if(t==null)return t;var r=[],s=0;return nh(t,r,"","",function(o){return e.call(n,o,s++)}),r}function VI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jn={current:null},rh={transition:null},zI={ReactCurrentDispatcher:jn,ReactCurrentBatchConfig:rh,ReactCurrentOwner:kg};De.Children={map:Iu,forEach:function(t,e,n){Iu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Iu(t,function(){e++}),e},toArray:function(t){return Iu(t,function(e){return e})||[]},only:function(t){if(!Dg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=ja;De.Fragment=NI;De.Profiler=OI;De.PureComponent=Rg;De.StrictMode=RI;De.Suspense=PI;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zI;De.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Hw({},t.props),s=t.key,o=t.ref,c=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,c=kg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var g=t.type.defaultProps;for(m in e)Gw.call(e,m)&&!Xw.hasOwnProperty(m)&&(r[m]=e[m]===void 0&&g!==void 0?g[m]:e[m])}var m=arguments.length-2;if(m===1)r.children=n;else if(1<m){g=Array(m);for(var p=0;p<m;p++)g[p]=arguments[p+2];r.children=g}return{$$typeof:Uc,type:t.type,key:s,ref:o,props:r,_owner:c}};De.createContext=function(t){return t={$$typeof:DI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kI,_context:t},t.Consumer=t};De.createElement=Yw;De.createFactory=function(t){var e=Yw.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:MI,render:t}};De.isValidElement=Dg;De.lazy=function(t){return{$$typeof:BI,_payload:{_status:-1,_result:t},_init:VI}};De.memo=function(t,e){return{$$typeof:LI,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=rh.transition;rh.transition={};try{t()}finally{rh.transition=e}};De.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};De.useCallback=function(t,e){return jn.current.useCallback(t,e)};De.useContext=function(t){return jn.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return jn.current.useDeferredValue(t)};De.useEffect=function(t,e){return jn.current.useEffect(t,e)};De.useId=function(){return jn.current.useId()};De.useImperativeHandle=function(t,e,n){return jn.current.useImperativeHandle(t,e,n)};De.useInsertionEffect=function(t,e){return jn.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return jn.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return jn.current.useMemo(t,e)};De.useReducer=function(t,e,n){return jn.current.useReducer(t,e,n)};De.useRef=function(t){return jn.current.useRef(t)};De.useState=function(t){return jn.current.useState(t)};De.useSyncExternalStore=function(t,e,n){return jn.current.useSyncExternalStore(t,e,n)};De.useTransition=function(){return jn.current.useTransition()};De.version="18.2.0";Vw.exports=De;var K=Vw.exports;const Kw=Uw(K),K0=Fw({__proto__:null,default:Kw},[K]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HI=K,WI=Symbol.for("react.element"),$I=Symbol.for("react.fragment"),GI=Object.prototype.hasOwnProperty,XI=HI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YI={key:!0,ref:!0,__self:!0,__source:!0};function qw(t,e,n){var r,s={},o=null,c=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(c=e.ref);for(r in e)GI.call(e,r)&&!YI.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:WI,type:t,key:o,ref:c,props:s,_owner:XI.current}}Cd.Fragment=$I;Cd.jsx=qw;Cd.jsxs=qw;jw.exports=Cd;var _=jw.exports,q0={},Qw={exports:{}},pr={},Zw={exports:{}},Jw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(oe,ye){var ve=oe.length;oe.push(ye);e:for(;0<ve;){var ft=ve-1>>>1,Be=oe[ft];if(0<s(Be,ye))oe[ft]=ye,oe[ve]=Be,ve=ft;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var ye=oe[0],ve=oe.pop();if(ve!==ye){oe[0]=ve;e:for(var ft=0,Be=oe.length,yr=Be>>>1;ft<yr;){var xt=2*(ft+1)-1,Ms=oe[xt],de=xt+1,ji=oe[de];if(0>s(Ms,ve))de<Be&&0>s(ji,Ms)?(oe[ft]=ji,oe[de]=ve,ft=de):(oe[ft]=Ms,oe[xt]=ve,ft=xt);else if(de<Be&&0>s(ji,ve))oe[ft]=ji,oe[de]=ve,ft=de;else break e}}return ye}function s(oe,ye){var ve=oe.sortIndex-ye.sortIndex;return ve!==0?ve:oe.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,g=c.now();t.unstable_now=function(){return c.now()-g}}var m=[],p=[],w=1,v=null,I=3,R=!1,M=!1,D=!1,U=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(oe){for(var ye=n(p);ye!==null;){if(ye.callback===null)r(p);else if(ye.startTime<=oe)r(p),ye.sortIndex=ye.expirationTime,e(m,ye);else break;ye=n(p)}}function B(oe){if(D=!1,O(oe),!M)if(n(m)!==null)M=!0,Ct(X);else{var ye=n(p);ye!==null&&Ae(B,ye.startTime-oe)}}function X(oe,ye){M=!1,D&&(D=!1,k(Z),Z=-1),R=!0;var ve=I;try{for(O(ye),v=n(m);v!==null&&(!(v.expirationTime>ye)||oe&&!Me());){var ft=v.callback;if(typeof ft=="function"){v.callback=null,I=v.priorityLevel;var Be=ft(v.expirationTime<=ye);ye=t.unstable_now(),typeof Be=="function"?v.callback=Be:v===n(m)&&r(m),O(ye)}else r(m);v=n(m)}if(v!==null)var yr=!0;else{var xt=n(p);xt!==null&&Ae(B,xt.startTime-ye),yr=!1}return yr}finally{v=null,I=ve,R=!1}}var G=!1,F=null,Z=-1,$=5,se=-1;function Me(){return!(t.unstable_now()-se<$)}function ge(){if(F!==null){var oe=t.unstable_now();se=oe;var ye=!0;try{ye=F(!0,oe)}finally{ye?Oe():(G=!1,F=null)}}else G=!1}var Oe;if(typeof S=="function")Oe=function(){S(ge)};else if(typeof MessageChannel<"u"){var yt=new MessageChannel,W=yt.port2;yt.port1.onmessage=ge,Oe=function(){W.postMessage(null)}}else Oe=function(){U(ge,0)};function Ct(oe){F=oe,G||(G=!0,Oe())}function Ae(oe,ye){Z=U(function(){oe(t.unstable_now())},ye)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_continueExecution=function(){M||R||(M=!0,Ct(X))},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return n(m)},t.unstable_next=function(oe){switch(I){case 1:case 2:case 3:var ye=3;break;default:ye=I}var ve=I;I=ye;try{return oe()}finally{I=ve}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(oe,ye){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ve=I;I=oe;try{return ye()}finally{I=ve}},t.unstable_scheduleCallback=function(oe,ye,ve){var ft=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?ft+ve:ft):ve=ft,oe){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=ve+Be,oe={id:w++,callback:ye,priorityLevel:oe,startTime:ve,expirationTime:Be,sortIndex:-1},ve>ft?(oe.sortIndex=ve,e(p,oe),n(m)===null&&oe===n(p)&&(D?(k(Z),Z=-1):D=!0,Ae(B,ve-ft))):(oe.sortIndex=Be,e(m,oe),M||R||(M=!0,Ct(X))),oe},t.unstable_shouldYield=Me,t.unstable_wrapCallback=function(oe){var ye=I;return function(){var ve=I;I=ye;try{return oe.apply(this,arguments)}finally{I=ve}}}})(Jw);Zw.exports=Jw;var KI=Zw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE=K,fr=KI;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tE=new Set,tc={};function yo(t,e){Ca(t,e),Ca(t+"Capture",e)}function Ca(t,e){for(tc[t]=e,t=0;t<e.length;t++)tE.add(e[t])}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Q0=Object.prototype.hasOwnProperty,qI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x2={},w2={};function QI(t){return Q0.call(w2,t)?!0:Q0.call(x2,t)?!1:qI.test(t)?w2[t]=!0:(x2[t]=!0,!1)}function ZI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JI(t,e,n,r){if(e===null||typeof e>"u"||ZI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vn(t,e,n,r,s,o,c){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=c}var mn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mn[t]=new Vn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mn[e]=new Vn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mn[t]=new Vn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mn[t]=new Vn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mn[t]=new Vn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mn[t]=new Vn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mn[t]=new Vn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mn[t]=new Vn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mn[t]=new Vn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mg=/[\-:]([a-z])/g;function Pg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mg,Pg);mn[e]=new Vn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mg,Pg);mn[e]=new Vn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mg,Pg);mn[e]=new Vn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mn[t]=new Vn(t,1,!1,t.toLowerCase(),null,!1,!1)});mn.xlinkHref=new Vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mn[t]=new Vn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lg(t,e,n,r){var s=mn.hasOwnProperty(e)?mn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JI(e,n,s,r)&&(n=null),r||s===null?QI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ui=eE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tu=Symbol.for("react.element"),Xo=Symbol.for("react.portal"),Yo=Symbol.for("react.fragment"),Bg=Symbol.for("react.strict_mode"),Z0=Symbol.for("react.profiler"),nE=Symbol.for("react.provider"),rE=Symbol.for("react.context"),Fg=Symbol.for("react.forward_ref"),J0=Symbol.for("react.suspense"),e1=Symbol.for("react.suspense_list"),Ug=Symbol.for("react.memo"),Qi=Symbol.for("react.lazy"),iE=Symbol.for("react.offscreen"),E2=Symbol.iterator;function dl(t){return t===null||typeof t!="object"?null:(t=E2&&t[E2]||t["@@iterator"],typeof t=="function"?t:null)}var _t=Object.assign,Qf;function Sl(t){if(Qf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qf=e&&e[1]||""}return`
`+Qf+t}var Zf=!1;function Jf(t,e){if(!t||Zf)return"";Zf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var r=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){r=p}t.call(e.prototype)}else{try{throw Error()}catch(p){r=p}t()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var s=p.stack.split(`
`),o=r.stack.split(`
`),c=s.length-1,g=o.length-1;1<=c&&0<=g&&s[c]!==o[g];)g--;for(;1<=c&&0<=g;c--,g--)if(s[c]!==o[g]){if(c!==1||g!==1)do if(c--,g--,0>g||s[c]!==o[g]){var m=`
`+s[c].replace(" at new "," at ");return t.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",t.displayName)),m}while(1<=c&&0<=g);break}}}finally{Zf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sl(t):""}function eT(t){switch(t.tag){case 5:return Sl(t.type);case 16:return Sl("Lazy");case 13:return Sl("Suspense");case 19:return Sl("SuspenseList");case 0:case 2:case 15:return t=Jf(t.type,!1),t;case 11:return t=Jf(t.type.render,!1),t;case 1:return t=Jf(t.type,!0),t;default:return""}}function t1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yo:return"Fragment";case Xo:return"Portal";case Z0:return"Profiler";case Bg:return"StrictMode";case J0:return"Suspense";case e1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rE:return(t.displayName||"Context")+".Consumer";case nE:return(t._context.displayName||"Context")+".Provider";case Fg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ug:return e=t.displayName||null,e!==null?e:t1(t.type)||"Memo";case Qi:e=t._payload,t=t._init;try{return t1(t(e))}catch{}}return null}function tT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return t1(e);case 8:return e===Bg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _s(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nT(t){var e=sE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(c){r=""+c,o.call(this,c)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Su(t){t._valueTracker||(t._valueTracker=nT(t))}function oE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ih(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function n1(t,e){var n=e.checked;return _t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function v2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_s(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aE(t,e){e=e.checked,e!=null&&Lg(t,"checked",e,!1)}function r1(t,e){aE(t,e);var n=_s(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?i1(t,e.type,n):e.hasOwnProperty("defaultValue")&&i1(t,e.type,_s(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function i1(t,e,n){(e!=="number"||Ih(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bl=Array.isArray;function la(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_s(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function s1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return _t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function C2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(bl(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_s(n)}}function lE(t,e){var n=_s(e.value),r=_s(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function A2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function o1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bu,uE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bu=bu||document.createElement("div"),bu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rT=["Webkit","ms","Moz","O"];Object.keys(Bl).forEach(function(t){rT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bl[e]=Bl[t]})});function hE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bl.hasOwnProperty(t)&&Bl[t]?(""+e).trim():e+"px"}function dE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=hE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var iT=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function a1(t,e){if(e){if(iT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function l1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var c1=null;function jg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var u1=null,ca=null,ua=null;function I2(t){if(t=zc(t)){if(typeof u1!="function")throw Error(J(280));var e=t.stateNode;e&&(e=bd(e),u1(t.stateNode,t.type,e))}}function fE(t){ca?ua?ua.push(t):ua=[t]:ca=t}function gE(){if(ca){var t=ca,e=ua;if(ua=ca=null,I2(t),e)for(t=0;t<e.length;t++)I2(e[t])}}function pE(t,e){return t(e)}function mE(){}var e0=!1;function yE(t,e,n){if(e0)return t(e,n);e0=!0;try{return pE(t,e,n)}finally{e0=!1,(ca!==null||ua!==null)&&(mE(),gE())}}function rc(t,e){var n=t.stateNode;if(n===null)return null;var r=bd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var h1=!1;if(Oi)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){h1=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{h1=!1}function sT(t,e,n,r,s,o,c,g,m){var p=Array.prototype.slice.call(arguments,3);try{e.apply(n,p)}catch(w){this.onError(w)}}var Fl=!1,Th=null,Sh=!1,d1=null,oT={onError:function(t){Fl=!0,Th=t}};function aT(t,e,n,r,s,o,c,g,m){Fl=!1,Th=null,sT.apply(oT,arguments)}function lT(t,e,n,r,s,o,c,g,m){if(aT.apply(this,arguments),Fl){if(Fl){var p=Th;Fl=!1,Th=null}else throw Error(J(198));Sh||(Sh=!0,d1=p)}}function xo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function T2(t){if(xo(t)!==t)throw Error(J(188))}function cT(t){var e=t.alternate;if(!e){if(e=xo(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return T2(s),t;if(o===r)return T2(s),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=s,r=o;else{for(var c=!1,g=s.child;g;){if(g===n){c=!0,n=s,r=o;break}if(g===r){c=!0,r=s,n=o;break}g=g.sibling}if(!c){for(g=o.child;g;){if(g===n){c=!0,n=o,r=s;break}if(g===r){c=!0,r=o,n=s;break}g=g.sibling}if(!c)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function wE(t){return t=cT(t),t!==null?EE(t):null}function EE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=EE(t);if(e!==null)return e;t=t.sibling}return null}var vE=fr.unstable_scheduleCallback,S2=fr.unstable_cancelCallback,uT=fr.unstable_shouldYield,hT=fr.unstable_requestPaint,Lt=fr.unstable_now,dT=fr.unstable_getCurrentPriorityLevel,Vg=fr.unstable_ImmediatePriority,_E=fr.unstable_UserBlockingPriority,bh=fr.unstable_NormalPriority,fT=fr.unstable_LowPriority,CE=fr.unstable_IdlePriority,Ad=null,ai=null;function gT(t){if(ai&&typeof ai.onCommitFiberRoot=="function")try{ai.onCommitFiberRoot(Ad,t,void 0,(t.current.flags&128)===128)}catch{}}var Br=Math.clz32?Math.clz32:yT,pT=Math.log,mT=Math.LN2;function yT(t){return t>>>=0,t===0?32:31-(pT(t)/mT|0)|0}var Nu=64,Ru=4194304;function Nl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Nh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,c=n&268435455;if(c!==0){var g=c&~s;g!==0?r=Nl(g):(o&=c,o!==0&&(r=Nl(o)))}else c=n&~s,c!==0?r=Nl(c):o!==0&&(r=Nl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Br(e),s=1<<n,r|=t[n],e&=~s;return r}function xT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var c=31-Br(o),g=1<<c,m=s[c];m===-1?(!(g&n)||g&r)&&(s[c]=xT(g,e)):m<=e&&(t.expiredLanes|=g),o&=~g}}function f1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function AE(){var t=Nu;return Nu<<=1,!(Nu&4194240)&&(Nu=64),t}function t0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Br(e),t[e]=n}function ET(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Br(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function zg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Br(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Je=0;function IE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TE,Hg,SE,bE,NE,g1=!1,Ou=[],hs=null,ds=null,fs=null,ic=new Map,sc=new Map,Ji=[],vT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function b2(t,e){switch(t){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":ic.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(e.pointerId)}}function gl(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=zc(e),e!==null&&Hg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function _T(t,e,n,r,s){switch(e){case"focusin":return hs=gl(hs,t,e,n,r,s),!0;case"dragenter":return ds=gl(ds,t,e,n,r,s),!0;case"mouseover":return fs=gl(fs,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return ic.set(o,gl(ic.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,sc.set(o,gl(sc.get(o)||null,t,e,n,r,s)),!0}return!1}function RE(t){var e=Ws(t.target);if(e!==null){var n=xo(e);if(n!==null){if(e=n.tag,e===13){if(e=xE(n),e!==null){t.blockedOn=e,NE(t.priority,function(){SE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ih(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=p1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);c1=r,n.target.dispatchEvent(r),c1=null}else return e=zc(n),e!==null&&Hg(e),t.blockedOn=n,!1;e.shift()}return!0}function N2(t,e,n){ih(t)&&n.delete(e)}function CT(){g1=!1,hs!==null&&ih(hs)&&(hs=null),ds!==null&&ih(ds)&&(ds=null),fs!==null&&ih(fs)&&(fs=null),ic.forEach(N2),sc.forEach(N2)}function pl(t,e){t.blockedOn===e&&(t.blockedOn=null,g1||(g1=!0,fr.unstable_scheduleCallback(fr.unstable_NormalPriority,CT)))}function oc(t){function e(s){return pl(s,t)}if(0<Ou.length){pl(Ou[0],t);for(var n=1;n<Ou.length;n++){var r=Ou[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hs!==null&&pl(hs,t),ds!==null&&pl(ds,t),fs!==null&&pl(fs,t),ic.forEach(e),sc.forEach(e),n=0;n<Ji.length;n++)r=Ji[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ji.length&&(n=Ji[0],n.blockedOn===null);)RE(n),n.blockedOn===null&&Ji.shift()}var ha=Ui.ReactCurrentBatchConfig,Rh=!0;function AT(t,e,n,r){var s=Je,o=ha.transition;ha.transition=null;try{Je=1,Wg(t,e,n,r)}finally{Je=s,ha.transition=o}}function IT(t,e,n,r){var s=Je,o=ha.transition;ha.transition=null;try{Je=4,Wg(t,e,n,r)}finally{Je=s,ha.transition=o}}function Wg(t,e,n,r){if(Rh){var s=p1(t,e,n,r);if(s===null)h0(t,e,r,Oh,n),b2(t,r);else if(_T(s,t,e,n,r))r.stopPropagation();else if(b2(t,r),e&4&&-1<vT.indexOf(t)){for(;s!==null;){var o=zc(s);if(o!==null&&TE(o),o=p1(t,e,n,r),o===null&&h0(t,e,r,Oh,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else h0(t,e,r,null,n)}}var Oh=null;function p1(t,e,n,r){if(Oh=null,t=jg(r),t=Ws(t),t!==null)if(e=xo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oh=t,null}function OE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dT()){case Vg:return 1;case _E:return 4;case bh:case fT:return 16;case CE:return 536870912;default:return 16}default:return 16}}var os=null,$g=null,sh=null;function kE(){if(sh)return sh;var t,e=$g,n=e.length,r,s="value"in os?os.value:os.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var c=n-t;for(r=1;r<=c&&e[n-r]===s[o-r];r++);return sh=s.slice(t,1<r?1-r:void 0)}function oh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ku(){return!0}function R2(){return!1}function mr(t){function e(n,r,s,o,c){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=c,this.currentTarget=null;for(var g in t)t.hasOwnProperty(g)&&(n=t[g],this[g]=n?n(o):o[g]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ku:R2,this.isPropagationStopped=R2,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ku)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ku)},persist:function(){},isPersistent:ku}),e}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gg=mr(Va),Vc=_t({},Va,{view:0,detail:0}),TT=mr(Vc),n0,r0,ml,Id=_t({},Vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ml&&(ml&&t.type==="mousemove"?(n0=t.screenX-ml.screenX,r0=t.screenY-ml.screenY):r0=n0=0,ml=t),n0)},movementY:function(t){return"movementY"in t?t.movementY:r0}}),O2=mr(Id),ST=_t({},Id,{dataTransfer:0}),bT=mr(ST),NT=_t({},Vc,{relatedTarget:0}),i0=mr(NT),RT=_t({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),OT=mr(RT),kT=_t({},Va,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DT=mr(kT),MT=_t({},Va,{data:0}),k2=mr(MT),PT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=BT[t])?!!e[t]:!1}function Xg(){return FT}var UT=_t({},Vc,{key:function(t){if(t.key){var e=PT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xg,charCode:function(t){return t.type==="keypress"?oh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jT=mr(UT),VT=_t({},Id,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D2=mr(VT),zT=_t({},Vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xg}),HT=mr(zT),WT=_t({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),$T=mr(WT),GT=_t({},Id,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XT=mr(GT),YT=[9,13,27,32],Yg=Oi&&"CompositionEvent"in window,Ul=null;Oi&&"documentMode"in document&&(Ul=document.documentMode);var KT=Oi&&"TextEvent"in window&&!Ul,DE=Oi&&(!Yg||Ul&&8<Ul&&11>=Ul),M2=String.fromCharCode(32),P2=!1;function ME(t,e){switch(t){case"keyup":return YT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ko=!1;function qT(t,e){switch(t){case"compositionend":return PE(e);case"keypress":return e.which!==32?null:(P2=!0,M2);case"textInput":return t=e.data,t===M2&&P2?null:t;default:return null}}function QT(t,e){if(Ko)return t==="compositionend"||!Yg&&ME(t,e)?(t=kE(),sh=$g=os=null,Ko=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DE&&e.locale!=="ko"?null:e.data;default:return null}}var ZT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZT[t.type]:e==="textarea"}function LE(t,e,n,r){fE(r),e=kh(e,"onChange"),0<e.length&&(n=new Gg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jl=null,ac=null;function JT(t){XE(t,0)}function Td(t){var e=Zo(t);if(oE(e))return t}function e4(t,e){if(t==="change")return e}var BE=!1;if(Oi){var s0;if(Oi){var o0="oninput"in document;if(!o0){var B2=document.createElement("div");B2.setAttribute("oninput","return;"),o0=typeof B2.oninput=="function"}s0=o0}else s0=!1;BE=s0&&(!document.documentMode||9<document.documentMode)}function F2(){jl&&(jl.detachEvent("onpropertychange",FE),ac=jl=null)}function FE(t){if(t.propertyName==="value"&&Td(ac)){var e=[];LE(e,ac,t,jg(t)),yE(JT,e)}}function t4(t,e,n){t==="focusin"?(F2(),jl=e,ac=n,jl.attachEvent("onpropertychange",FE)):t==="focusout"&&F2()}function n4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Td(ac)}function r4(t,e){if(t==="click")return Td(e)}function i4(t,e){if(t==="input"||t==="change")return Td(e)}function s4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ur=typeof Object.is=="function"?Object.is:s4;function lc(t,e){if(Ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Q0.call(e,s)||!Ur(t[s],e[s]))return!1}return!0}function U2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function j2(t,e){var n=U2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=U2(n)}}function UE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?UE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jE(){for(var t=window,e=Ih();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ih(t.document)}return e}function Kg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function o4(t){var e=jE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&UE(n.ownerDocument.documentElement,n)){if(r!==null&&Kg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=j2(n,o);var c=j2(n,r);s&&c&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==c.node||t.focusOffset!==c.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(c.node,c.offset)):(e.setEnd(c.node,c.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var a4=Oi&&"documentMode"in document&&11>=document.documentMode,qo=null,m1=null,Vl=null,y1=!1;function V2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;y1||qo==null||qo!==Ih(r)||(r=qo,"selectionStart"in r&&Kg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vl&&lc(Vl,r)||(Vl=r,r=kh(m1,"onSelect"),0<r.length&&(e=new Gg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qo)))}function Du(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qo={animationend:Du("Animation","AnimationEnd"),animationiteration:Du("Animation","AnimationIteration"),animationstart:Du("Animation","AnimationStart"),transitionend:Du("Transition","TransitionEnd")},a0={},VE={};Oi&&(VE=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function Sd(t){if(a0[t])return a0[t];if(!Qo[t])return t;var e=Qo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in VE)return a0[t]=e[n];return t}var zE=Sd("animationend"),HE=Sd("animationiteration"),WE=Sd("animationstart"),$E=Sd("transitionend"),GE=new Map,z2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ns(t,e){GE.set(t,e),yo(e,[t])}for(var l0=0;l0<z2.length;l0++){var c0=z2[l0],l4=c0.toLowerCase(),c4=c0[0].toUpperCase()+c0.slice(1);Ns(l4,"on"+c4)}Ns(zE,"onAnimationEnd");Ns(HE,"onAnimationIteration");Ns(WE,"onAnimationStart");Ns("dblclick","onDoubleClick");Ns("focusin","onFocus");Ns("focusout","onBlur");Ns($E,"onTransitionEnd");Ca("onMouseEnter",["mouseout","mouseover"]);Ca("onMouseLeave",["mouseout","mouseover"]);Ca("onPointerEnter",["pointerout","pointerover"]);Ca("onPointerLeave",["pointerout","pointerover"]);yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function H2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lT(r,e,void 0,t),t.currentTarget=null}function XE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var c=r.length-1;0<=c;c--){var g=r[c],m=g.instance,p=g.currentTarget;if(g=g.listener,m!==o&&s.isPropagationStopped())break e;H2(s,g,p),o=m}else for(c=0;c<r.length;c++){if(g=r[c],m=g.instance,p=g.currentTarget,g=g.listener,m!==o&&s.isPropagationStopped())break e;H2(s,g,p),o=m}}}if(Sh)throw t=d1,Sh=!1,d1=null,t}function ct(t,e){var n=e[_1];n===void 0&&(n=e[_1]=new Set);var r=t+"__bubble";n.has(r)||(YE(e,t,2,!1),n.add(r))}function u0(t,e,n){var r=0;e&&(r|=4),YE(n,t,r,e)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function cc(t){if(!t[Mu]){t[Mu]=!0,tE.forEach(function(n){n!=="selectionchange"&&(u4.has(n)||u0(n,!1,t),u0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mu]||(e[Mu]=!0,u0("selectionchange",!1,e))}}function YE(t,e,n,r){switch(OE(e)){case 1:var s=AT;break;case 4:s=IT;break;default:s=Wg}n=s.bind(null,e,n,t),s=void 0,!h1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function h0(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var g=r.stateNode.containerInfo;if(g===s||g.nodeType===8&&g.parentNode===s)break;if(c===4)for(c=r.return;c!==null;){var m=c.tag;if((m===3||m===4)&&(m=c.stateNode.containerInfo,m===s||m.nodeType===8&&m.parentNode===s))return;c=c.return}for(;g!==null;){if(c=Ws(g),c===null)return;if(m=c.tag,m===5||m===6){r=o=c;continue e}g=g.parentNode}}r=r.return}yE(function(){var p=o,w=jg(n),v=[];e:{var I=GE.get(t);if(I!==void 0){var R=Gg,M=t;switch(t){case"keypress":if(oh(n)===0)break e;case"keydown":case"keyup":R=jT;break;case"focusin":M="focus",R=i0;break;case"focusout":M="blur",R=i0;break;case"beforeblur":case"afterblur":R=i0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=O2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=bT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=HT;break;case zE:case HE:case WE:R=OT;break;case $E:R=$T;break;case"scroll":R=TT;break;case"wheel":R=XT;break;case"copy":case"cut":case"paste":R=DT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=D2}var D=(e&4)!==0,U=!D&&t==="scroll",k=D?I!==null?I+"Capture":null:I;D=[];for(var S=p,O;S!==null;){O=S;var B=O.stateNode;if(O.tag===5&&B!==null&&(O=B,k!==null&&(B=rc(S,k),B!=null&&D.push(uc(S,B,O)))),U)break;S=S.return}0<D.length&&(I=new R(I,M,null,n,w),v.push({event:I,listeners:D}))}}if(!(e&7)){e:{if(I=t==="mouseover"||t==="pointerover",R=t==="mouseout"||t==="pointerout",I&&n!==c1&&(M=n.relatedTarget||n.fromElement)&&(Ws(M)||M[ki]))break e;if((R||I)&&(I=w.window===w?w:(I=w.ownerDocument)?I.defaultView||I.parentWindow:window,R?(M=n.relatedTarget||n.toElement,R=p,M=M?Ws(M):null,M!==null&&(U=xo(M),M!==U||M.tag!==5&&M.tag!==6)&&(M=null)):(R=null,M=p),R!==M)){if(D=O2,B="onMouseLeave",k="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(D=D2,B="onPointerLeave",k="onPointerEnter",S="pointer"),U=R==null?I:Zo(R),O=M==null?I:Zo(M),I=new D(B,S+"leave",R,n,w),I.target=U,I.relatedTarget=O,B=null,Ws(w)===p&&(D=new D(k,S+"enter",M,n,w),D.target=O,D.relatedTarget=U,B=D),U=B,R&&M)t:{for(D=R,k=M,S=0,O=D;O;O=Lo(O))S++;for(O=0,B=k;B;B=Lo(B))O++;for(;0<S-O;)D=Lo(D),S--;for(;0<O-S;)k=Lo(k),O--;for(;S--;){if(D===k||k!==null&&D===k.alternate)break t;D=Lo(D),k=Lo(k)}D=null}else D=null;R!==null&&W2(v,I,R,D,!1),M!==null&&U!==null&&W2(v,U,M,D,!0)}}e:{if(I=p?Zo(p):window,R=I.nodeName&&I.nodeName.toLowerCase(),R==="select"||R==="input"&&I.type==="file")var X=e4;else if(L2(I))if(BE)X=i4;else{X=n4;var G=t4}else(R=I.nodeName)&&R.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(X=r4);if(X&&(X=X(t,p))){LE(v,X,n,w);break e}G&&G(t,I,p),t==="focusout"&&(G=I._wrapperState)&&G.controlled&&I.type==="number"&&i1(I,"number",I.value)}switch(G=p?Zo(p):window,t){case"focusin":(L2(G)||G.contentEditable==="true")&&(qo=G,m1=p,Vl=null);break;case"focusout":Vl=m1=qo=null;break;case"mousedown":y1=!0;break;case"contextmenu":case"mouseup":case"dragend":y1=!1,V2(v,n,w);break;case"selectionchange":if(a4)break;case"keydown":case"keyup":V2(v,n,w)}var F;if(Yg)e:{switch(t){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else Ko?ME(t,n)&&(Z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Z="onCompositionStart");Z&&(DE&&n.locale!=="ko"&&(Ko||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&Ko&&(F=kE()):(os=w,$g="value"in os?os.value:os.textContent,Ko=!0)),G=kh(p,Z),0<G.length&&(Z=new k2(Z,t,null,n,w),v.push({event:Z,listeners:G}),F?Z.data=F:(F=PE(n),F!==null&&(Z.data=F)))),(F=KT?qT(t,n):QT(t,n))&&(p=kh(p,"onBeforeInput"),0<p.length&&(w=new k2("onBeforeInput","beforeinput",null,n,w),v.push({event:w,listeners:p}),w.data=F))}XE(v,e)})}function uc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function kh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=rc(t,n),o!=null&&r.unshift(uc(t,o,s)),o=rc(t,e),o!=null&&r.push(uc(t,o,s))),t=t.return}return r}function Lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function W2(t,e,n,r,s){for(var o=e._reactName,c=[];n!==null&&n!==r;){var g=n,m=g.alternate,p=g.stateNode;if(m!==null&&m===r)break;g.tag===5&&p!==null&&(g=p,s?(m=rc(n,o),m!=null&&c.unshift(uc(n,m,g))):s||(m=rc(n,o),m!=null&&c.push(uc(n,m,g)))),n=n.return}c.length!==0&&t.push({event:e,listeners:c})}var h4=/\r\n?/g,d4=/\u0000|\uFFFD/g;function $2(t){return(typeof t=="string"?t:""+t).replace(h4,`
`).replace(d4,"")}function Pu(t,e,n){if(e=$2(e),$2(t)!==e&&n)throw Error(J(425))}function Dh(){}var x1=null,w1=null;function E1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var v1=typeof setTimeout=="function"?setTimeout:void 0,f4=typeof clearTimeout=="function"?clearTimeout:void 0,G2=typeof Promise=="function"?Promise:void 0,g4=typeof queueMicrotask=="function"?queueMicrotask:typeof G2<"u"?function(t){return G2.resolve(null).then(t).catch(p4)}:v1;function p4(t){setTimeout(function(){throw t})}function d0(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),oc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);oc(e)}function gs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function X2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var za=Math.random().toString(36).slice(2),ei="__reactFiber$"+za,hc="__reactProps$"+za,ki="__reactContainer$"+za,_1="__reactEvents$"+za,m4="__reactListeners$"+za,y4="__reactHandles$"+za;function Ws(t){var e=t[ei];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ki]||n[ei]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=X2(t);t!==null;){if(n=t[ei])return n;t=X2(t)}return e}t=n,n=t.parentNode}return null}function zc(t){return t=t[ei]||t[ki],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function bd(t){return t[hc]||null}var C1=[],Jo=-1;function Rs(t){return{current:t}}function dt(t){0>Jo||(t.current=C1[Jo],C1[Jo]=null,Jo--)}function at(t,e){Jo++,C1[Jo]=t.current,t.current=e}var Cs={},Nn=Rs(Cs),Qn=Rs(!1),ro=Cs;function Aa(t,e){var n=t.type.contextTypes;if(!n)return Cs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Zn(t){return t=t.childContextTypes,t!=null}function Mh(){dt(Qn),dt(Nn)}function Y2(t,e,n){if(Nn.current!==Cs)throw Error(J(168));at(Nn,e),at(Qn,n)}function KE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(J(108,tT(t)||"Unknown",s));return _t({},n,r)}function Ph(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cs,ro=Nn.current,at(Nn,t),at(Qn,Qn.current),!0}function K2(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=KE(t,e,ro),r.__reactInternalMemoizedMergedChildContext=t,dt(Qn),dt(Nn),at(Nn,t)):dt(Qn),at(Qn,n)}var Ei=null,Nd=!1,f0=!1;function qE(t){Ei===null?Ei=[t]:Ei.push(t)}function x4(t){Nd=!0,qE(t)}function Os(){if(!f0&&Ei!==null){f0=!0;var t=0,e=Je;try{var n=Ei;for(Je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ei=null,Nd=!1}catch(s){throw Ei!==null&&(Ei=Ei.slice(t+1)),vE(Vg,Os),s}finally{Je=e,f0=!1}}return null}var ea=[],ta=0,Lh=null,Bh=0,_r=[],Cr=0,io=null,_i=1,Ci="";function Vs(t,e){ea[ta++]=Bh,ea[ta++]=Lh,Lh=t,Bh=e}function QE(t,e,n){_r[Cr++]=_i,_r[Cr++]=Ci,_r[Cr++]=io,io=t;var r=_i;t=Ci;var s=32-Br(r)-1;r&=~(1<<s),n+=1;var o=32-Br(e)+s;if(30<o){var c=s-s%5;o=(r&(1<<c)-1).toString(32),r>>=c,s-=c,_i=1<<32-Br(e)+s|n<<s|r,Ci=o+t}else _i=1<<o|n<<s|r,Ci=t}function qg(t){t.return!==null&&(Vs(t,1),QE(t,1,0))}function Qg(t){for(;t===Lh;)Lh=ea[--ta],ea[ta]=null,Bh=ea[--ta],ea[ta]=null;for(;t===io;)io=_r[--Cr],_r[Cr]=null,Ci=_r[--Cr],_r[Cr]=null,_i=_r[--Cr],_r[Cr]=null}var hr=null,cr=null,mt=!1,Lr=null;function ZE(t,e){var n=Ir(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function q2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hr=t,cr=gs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hr=t,cr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=io!==null?{id:_i,overflow:Ci}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ir(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hr=t,cr=null,!0):!1;default:return!1}}function A1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function I1(t){if(mt){var e=cr;if(e){var n=e;if(!q2(t,e)){if(A1(t))throw Error(J(418));e=gs(n.nextSibling);var r=hr;e&&q2(t,e)?ZE(r,n):(t.flags=t.flags&-4097|2,mt=!1,hr=t)}}else{if(A1(t))throw Error(J(418));t.flags=t.flags&-4097|2,mt=!1,hr=t}}}function Q2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hr=t}function Lu(t){if(t!==hr)return!1;if(!mt)return Q2(t),mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!E1(t.type,t.memoizedProps)),e&&(e=cr)){if(A1(t))throw JE(),Error(J(418));for(;e;)ZE(t,e),e=gs(e.nextSibling)}if(Q2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cr=gs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cr=null}}else cr=hr?gs(t.stateNode.nextSibling):null;return!0}function JE(){for(var t=cr;t;)t=gs(t.nextSibling)}function Ia(){cr=hr=null,mt=!1}function Zg(t){Lr===null?Lr=[t]:Lr.push(t)}var w4=Ui.ReactCurrentBatchConfig;function Dr(t,e){if(t&&t.defaultProps){e=_t({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Fh=Rs(null),Uh=null,na=null,Jg=null;function ep(){Jg=na=Uh=null}function tp(t){var e=Fh.current;dt(Fh),t._currentValue=e}function T1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function da(t,e){Uh=t,Jg=na=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qn=!0),t.firstContext=null)}function Sr(t){var e=t._currentValue;if(Jg!==t)if(t={context:t,memoizedValue:e,next:null},na===null){if(Uh===null)throw Error(J(308));na=t,Uh.dependencies={lanes:0,firstContext:t}}else na=na.next=t;return e}var $s=null;function np(t){$s===null?$s=[t]:$s.push(t)}function ev(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,np(e)):(n.next=s.next,s.next=n),e.interleaved=n,Di(t,r)}function Di(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zi=!1;function rp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ps(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Di(t,n)}return s=r.interleaved,s===null?(e.next=e,np(r)):(e.next=s.next,s.next=e),r.interleaved=e,Di(t,n)}function ah(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zg(t,n)}}function Z2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=c:o=o.next=c,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jh(t,e,n,r){var s=t.updateQueue;Zi=!1;var o=s.firstBaseUpdate,c=s.lastBaseUpdate,g=s.shared.pending;if(g!==null){s.shared.pending=null;var m=g,p=m.next;m.next=null,c===null?o=p:c.next=p,c=m;var w=t.alternate;w!==null&&(w=w.updateQueue,g=w.lastBaseUpdate,g!==c&&(g===null?w.firstBaseUpdate=p:g.next=p,w.lastBaseUpdate=m))}if(o!==null){var v=s.baseState;c=0,w=p=m=null,g=o;do{var I=g.lane,R=g.eventTime;if((r&I)===I){w!==null&&(w=w.next={eventTime:R,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var M=t,D=g;switch(I=e,R=n,D.tag){case 1:if(M=D.payload,typeof M=="function"){v=M.call(R,v,I);break e}v=M;break e;case 3:M.flags=M.flags&-65537|128;case 0:if(M=D.payload,I=typeof M=="function"?M.call(R,v,I):M,I==null)break e;v=_t({},v,I);break e;case 2:Zi=!0}}g.callback!==null&&g.lane!==0&&(t.flags|=64,I=s.effects,I===null?s.effects=[g]:I.push(g))}else R={eventTime:R,lane:I,tag:g.tag,payload:g.payload,callback:g.callback,next:null},w===null?(p=w=R,m=v):w=w.next=R,c|=I;if(g=g.next,g===null){if(g=s.shared.pending,g===null)break;I=g,g=I.next,I.next=null,s.lastBaseUpdate=I,s.shared.pending=null}}while(1);if(w===null&&(m=v),s.baseState=m,s.firstBaseUpdate=p,s.lastBaseUpdate=w,e=s.shared.interleaved,e!==null){s=e;do c|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);oo|=c,t.lanes=c,t.memoizedState=v}}function J2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(J(191,s));s.call(r)}}}var nv=new eE.Component().refs;function S1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rd={isMounted:function(t){return(t=t._reactInternals)?xo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Un(),s=ys(t),o=bi(r,s);o.payload=e,n!=null&&(o.callback=n),e=ps(t,o,s),e!==null&&(Fr(e,t,s,r),ah(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Un(),s=ys(t),o=bi(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ps(t,o,s),e!==null&&(Fr(e,t,s,r),ah(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Un(),r=ys(t),s=bi(n,r);s.tag=2,e!=null&&(s.callback=e),e=ps(t,s,r),e!==null&&(Fr(e,t,r,n),ah(e,t,r))}};function ey(t,e,n,r,s,o,c){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,c):e.prototype&&e.prototype.isPureReactComponent?!lc(n,r)||!lc(s,o):!0}function rv(t,e,n){var r=!1,s=Cs,o=e.contextType;return typeof o=="object"&&o!==null?o=Sr(o):(s=Zn(e)?ro:Nn.current,r=e.contextTypes,o=(r=r!=null)?Aa(t,s):Cs),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function ty(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rd.enqueueReplaceState(e,e.state,null)}function b1(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=nv,rp(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Sr(o):(o=Zn(e)?ro:Nn.current,s.context=Aa(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(S1(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Rd.enqueueReplaceState(s,s.state,null),jh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function yl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(c){var g=s.refs;g===nv&&(g=s.refs={}),c===null?delete g[o]:g[o]=c},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Bu(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ny(t){var e=t._init;return e(t._payload)}function iv(t){function e(k,S){if(t){var O=k.deletions;O===null?(k.deletions=[S],k.flags|=16):O.push(S)}}function n(k,S){if(!t)return null;for(;S!==null;)e(k,S),S=S.sibling;return null}function r(k,S){for(k=new Map;S!==null;)S.key!==null?k.set(S.key,S):k.set(S.index,S),S=S.sibling;return k}function s(k,S){return k=xs(k,S),k.index=0,k.sibling=null,k}function o(k,S,O){return k.index=O,t?(O=k.alternate,O!==null?(O=O.index,O<S?(k.flags|=2,S):O):(k.flags|=2,S)):(k.flags|=1048576,S)}function c(k){return t&&k.alternate===null&&(k.flags|=2),k}function g(k,S,O,B){return S===null||S.tag!==6?(S=E0(O,k.mode,B),S.return=k,S):(S=s(S,O),S.return=k,S)}function m(k,S,O,B){var X=O.type;return X===Yo?w(k,S,O.props.children,B,O.key):S!==null&&(S.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Qi&&ny(X)===S.type)?(B=s(S,O.props),B.ref=yl(k,S,O),B.return=k,B):(B=fh(O.type,O.key,O.props,null,k.mode,B),B.ref=yl(k,S,O),B.return=k,B)}function p(k,S,O,B){return S===null||S.tag!==4||S.stateNode.containerInfo!==O.containerInfo||S.stateNode.implementation!==O.implementation?(S=v0(O,k.mode,B),S.return=k,S):(S=s(S,O.children||[]),S.return=k,S)}function w(k,S,O,B,X){return S===null||S.tag!==7?(S=Qs(O,k.mode,B,X),S.return=k,S):(S=s(S,O),S.return=k,S)}function v(k,S,O){if(typeof S=="string"&&S!==""||typeof S=="number")return S=E0(""+S,k.mode,O),S.return=k,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Tu:return O=fh(S.type,S.key,S.props,null,k.mode,O),O.ref=yl(k,null,S),O.return=k,O;case Xo:return S=v0(S,k.mode,O),S.return=k,S;case Qi:var B=S._init;return v(k,B(S._payload),O)}if(bl(S)||dl(S))return S=Qs(S,k.mode,O,null),S.return=k,S;Bu(k,S)}return null}function I(k,S,O,B){var X=S!==null?S.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return X!==null?null:g(k,S,""+O,B);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Tu:return O.key===X?m(k,S,O,B):null;case Xo:return O.key===X?p(k,S,O,B):null;case Qi:return X=O._init,I(k,S,X(O._payload),B)}if(bl(O)||dl(O))return X!==null?null:w(k,S,O,B,null);Bu(k,O)}return null}function R(k,S,O,B,X){if(typeof B=="string"&&B!==""||typeof B=="number")return k=k.get(O)||null,g(S,k,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Tu:return k=k.get(B.key===null?O:B.key)||null,m(S,k,B,X);case Xo:return k=k.get(B.key===null?O:B.key)||null,p(S,k,B,X);case Qi:var G=B._init;return R(k,S,O,G(B._payload),X)}if(bl(B)||dl(B))return k=k.get(O)||null,w(S,k,B,X,null);Bu(S,B)}return null}function M(k,S,O,B){for(var X=null,G=null,F=S,Z=S=0,$=null;F!==null&&Z<O.length;Z++){F.index>Z?($=F,F=null):$=F.sibling;var se=I(k,F,O[Z],B);if(se===null){F===null&&(F=$);break}t&&F&&se.alternate===null&&e(k,F),S=o(se,S,Z),G===null?X=se:G.sibling=se,G=se,F=$}if(Z===O.length)return n(k,F),mt&&Vs(k,Z),X;if(F===null){for(;Z<O.length;Z++)F=v(k,O[Z],B),F!==null&&(S=o(F,S,Z),G===null?X=F:G.sibling=F,G=F);return mt&&Vs(k,Z),X}for(F=r(k,F);Z<O.length;Z++)$=R(F,k,Z,O[Z],B),$!==null&&(t&&$.alternate!==null&&F.delete($.key===null?Z:$.key),S=o($,S,Z),G===null?X=$:G.sibling=$,G=$);return t&&F.forEach(function(Me){return e(k,Me)}),mt&&Vs(k,Z),X}function D(k,S,O,B){var X=dl(O);if(typeof X!="function")throw Error(J(150));if(O=X.call(O),O==null)throw Error(J(151));for(var G=X=null,F=S,Z=S=0,$=null,se=O.next();F!==null&&!se.done;Z++,se=O.next()){F.index>Z?($=F,F=null):$=F.sibling;var Me=I(k,F,se.value,B);if(Me===null){F===null&&(F=$);break}t&&F&&Me.alternate===null&&e(k,F),S=o(Me,S,Z),G===null?X=Me:G.sibling=Me,G=Me,F=$}if(se.done)return n(k,F),mt&&Vs(k,Z),X;if(F===null){for(;!se.done;Z++,se=O.next())se=v(k,se.value,B),se!==null&&(S=o(se,S,Z),G===null?X=se:G.sibling=se,G=se);return mt&&Vs(k,Z),X}for(F=r(k,F);!se.done;Z++,se=O.next())se=R(F,k,Z,se.value,B),se!==null&&(t&&se.alternate!==null&&F.delete(se.key===null?Z:se.key),S=o(se,S,Z),G===null?X=se:G.sibling=se,G=se);return t&&F.forEach(function(ge){return e(k,ge)}),mt&&Vs(k,Z),X}function U(k,S,O,B){if(typeof O=="object"&&O!==null&&O.type===Yo&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Tu:e:{for(var X=O.key,G=S;G!==null;){if(G.key===X){if(X=O.type,X===Yo){if(G.tag===7){n(k,G.sibling),S=s(G,O.props.children),S.return=k,k=S;break e}}else if(G.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Qi&&ny(X)===G.type){n(k,G.sibling),S=s(G,O.props),S.ref=yl(k,G,O),S.return=k,k=S;break e}n(k,G);break}else e(k,G);G=G.sibling}O.type===Yo?(S=Qs(O.props.children,k.mode,B,O.key),S.return=k,k=S):(B=fh(O.type,O.key,O.props,null,k.mode,B),B.ref=yl(k,S,O),B.return=k,k=B)}return c(k);case Xo:e:{for(G=O.key;S!==null;){if(S.key===G)if(S.tag===4&&S.stateNode.containerInfo===O.containerInfo&&S.stateNode.implementation===O.implementation){n(k,S.sibling),S=s(S,O.children||[]),S.return=k,k=S;break e}else{n(k,S);break}else e(k,S);S=S.sibling}S=v0(O,k.mode,B),S.return=k,k=S}return c(k);case Qi:return G=O._init,U(k,S,G(O._payload),B)}if(bl(O))return M(k,S,O,B);if(dl(O))return D(k,S,O,B);Bu(k,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,S!==null&&S.tag===6?(n(k,S.sibling),S=s(S,O),S.return=k,k=S):(n(k,S),S=E0(O,k.mode,B),S.return=k,k=S),c(k)):n(k,S)}return U}var Ta=iv(!0),sv=iv(!1),Hc={},li=Rs(Hc),dc=Rs(Hc),fc=Rs(Hc);function Gs(t){if(t===Hc)throw Error(J(174));return t}function ip(t,e){switch(at(fc,e),at(dc,t),at(li,Hc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:o1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=o1(e,t)}dt(li),at(li,e)}function Sa(){dt(li),dt(dc),dt(fc)}function ov(t){Gs(fc.current);var e=Gs(li.current),n=o1(e,t.type);e!==n&&(at(dc,t),at(li,n))}function sp(t){dc.current===t&&(dt(li),dt(dc))}var Et=Rs(0);function Vh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var g0=[];function op(){for(var t=0;t<g0.length;t++)g0[t]._workInProgressVersionPrimary=null;g0.length=0}var lh=Ui.ReactCurrentDispatcher,p0=Ui.ReactCurrentBatchConfig,so=0,vt=null,Xt=null,tn=null,zh=!1,zl=!1,gc=0,E4=0;function wn(){throw Error(J(321))}function ap(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ur(t[n],e[n]))return!1;return!0}function lp(t,e,n,r,s,o){if(so=o,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lh.current=t===null||t.memoizedState===null?A4:I4,t=n(r,s),zl){o=0;do{if(zl=!1,gc=0,25<=o)throw Error(J(301));o+=1,tn=Xt=null,e.updateQueue=null,lh.current=T4,t=n(r,s)}while(zl)}if(lh.current=Hh,e=Xt!==null&&Xt.next!==null,so=0,tn=Xt=vt=null,zh=!1,e)throw Error(J(300));return t}function cp(){var t=gc!==0;return gc=0,t}function qr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?vt.memoizedState=tn=t:tn=tn.next=t,tn}function br(){if(Xt===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var e=tn===null?vt.memoizedState:tn.next;if(e!==null)tn=e,Xt=t;else{if(t===null)throw Error(J(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},tn===null?vt.memoizedState=tn=t:tn=tn.next=t}return tn}function pc(t,e){return typeof e=="function"?e(t):e}function m0(t){var e=br(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Xt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var c=s.next;s.next=o.next,o.next=c}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var g=c=null,m=null,p=o;do{var w=p.lane;if((so&w)===w)m!==null&&(m=m.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:t(r,p.action);else{var v={lane:w,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};m===null?(g=m=v,c=r):m=m.next=v,vt.lanes|=w,oo|=w}p=p.next}while(p!==null&&p!==o);m===null?c=r:m.next=g,Ur(r,e.memoizedState)||(qn=!0),e.memoizedState=r,e.baseState=c,e.baseQueue=m,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,vt.lanes|=o,oo|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function y0(t){var e=br(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var c=s=s.next;do o=t(o,c.action),c=c.next;while(c!==s);Ur(o,e.memoizedState)||(qn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function av(){}function lv(t,e){var n=vt,r=br(),s=e(),o=!Ur(r.memoizedState,s);if(o&&(r.memoizedState=s,qn=!0),r=r.queue,up(hv.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||tn!==null&&tn.memoizedState.tag&1){if(n.flags|=2048,mc(9,uv.bind(null,n,r,s,e),void 0,null),nn===null)throw Error(J(349));so&30||cv(n,e,s)}return s}function cv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function uv(t,e,n,r){e.value=n,e.getSnapshot=r,dv(e)&&fv(t)}function hv(t,e,n){return n(function(){dv(e)&&fv(t)})}function dv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ur(t,n)}catch{return!0}}function fv(t){var e=Di(t,1);e!==null&&Fr(e,t,1,-1)}function ry(t){var e=qr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pc,lastRenderedState:t},e.queue=t,t=t.dispatch=C4.bind(null,vt,t),[e.memoizedState,t]}function mc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gv(){return br().memoizedState}function ch(t,e,n,r){var s=qr();vt.flags|=t,s.memoizedState=mc(1|e,n,void 0,r===void 0?null:r)}function Od(t,e,n,r){var s=br();r=r===void 0?null:r;var o=void 0;if(Xt!==null){var c=Xt.memoizedState;if(o=c.destroy,r!==null&&ap(r,c.deps)){s.memoizedState=mc(e,n,o,r);return}}vt.flags|=t,s.memoizedState=mc(1|e,n,o,r)}function iy(t,e){return ch(8390656,8,t,e)}function up(t,e){return Od(2048,8,t,e)}function pv(t,e){return Od(4,2,t,e)}function mv(t,e){return Od(4,4,t,e)}function yv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xv(t,e,n){return n=n!=null?n.concat([t]):null,Od(4,4,yv.bind(null,e,t),n)}function hp(){}function wv(t,e){var n=br();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ap(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ev(t,e){var n=br();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ap(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function vv(t,e,n){return so&21?(Ur(n,e)||(n=AE(),vt.lanes|=n,oo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qn=!0),t.memoizedState=n)}function v4(t,e){var n=Je;Je=n!==0&&4>n?n:4,t(!0);var r=p0.transition;p0.transition={};try{t(!1),e()}finally{Je=n,p0.transition=r}}function _v(){return br().memoizedState}function _4(t,e,n){var r=ys(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Cv(t))Av(e,n);else if(n=ev(t,e,n,r),n!==null){var s=Un();Fr(n,t,r,s),Iv(n,e,r)}}function C4(t,e,n){var r=ys(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cv(t))Av(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var c=e.lastRenderedState,g=o(c,n);if(s.hasEagerState=!0,s.eagerState=g,Ur(g,c)){var m=e.interleaved;m===null?(s.next=s,np(e)):(s.next=m.next,m.next=s),e.interleaved=s;return}}catch{}finally{}n=ev(t,e,s,r),n!==null&&(s=Un(),Fr(n,t,r,s),Iv(n,e,r))}}function Cv(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function Av(t,e){zl=zh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Iv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zg(t,n)}}var Hh={readContext:Sr,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},A4={readContext:Sr,useCallback:function(t,e){return qr().memoizedState=[t,e===void 0?null:e],t},useContext:Sr,useEffect:iy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ch(4194308,4,yv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ch(4194308,4,t,e)},useInsertionEffect:function(t,e){return ch(4,2,t,e)},useMemo:function(t,e){var n=qr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_4.bind(null,vt,t),[r.memoizedState,t]},useRef:function(t){var e=qr();return t={current:t},e.memoizedState=t},useState:ry,useDebugValue:hp,useDeferredValue:function(t){return qr().memoizedState=t},useTransition:function(){var t=ry(!1),e=t[0];return t=v4.bind(null,t[1]),qr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=vt,s=qr();if(mt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),nn===null)throw Error(J(349));so&30||cv(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,iy(hv.bind(null,r,o,t),[t]),r.flags|=2048,mc(9,uv.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=qr(),e=nn.identifierPrefix;if(mt){var n=Ci,r=_i;n=(r&~(1<<32-Br(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=E4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},I4={readContext:Sr,useCallback:wv,useContext:Sr,useEffect:up,useImperativeHandle:xv,useInsertionEffect:pv,useLayoutEffect:mv,useMemo:Ev,useReducer:m0,useRef:gv,useState:function(){return m0(pc)},useDebugValue:hp,useDeferredValue:function(t){var e=br();return vv(e,Xt.memoizedState,t)},useTransition:function(){var t=m0(pc)[0],e=br().memoizedState;return[t,e]},useMutableSource:av,useSyncExternalStore:lv,useId:_v,unstable_isNewReconciler:!1},T4={readContext:Sr,useCallback:wv,useContext:Sr,useEffect:up,useImperativeHandle:xv,useInsertionEffect:pv,useLayoutEffect:mv,useMemo:Ev,useReducer:y0,useRef:gv,useState:function(){return y0(pc)},useDebugValue:hp,useDeferredValue:function(t){var e=br();return Xt===null?e.memoizedState=t:vv(e,Xt.memoizedState,t)},useTransition:function(){var t=y0(pc)[0],e=br().memoizedState;return[t,e]},useMutableSource:av,useSyncExternalStore:lv,useId:_v,unstable_isNewReconciler:!1};function ba(t,e){try{var n="",r=e;do n+=eT(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function x0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function N1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var S4=typeof WeakMap=="function"?WeakMap:Map;function Tv(t,e,n){n=bi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$h||($h=!0,U1=r),N1(t,e)},n}function Sv(t,e,n){n=bi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){N1(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){N1(t,e),typeof r!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var c=e.stack;this.componentDidCatch(e.value,{componentStack:c!==null?c:""})}),n}function sy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new S4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=V4.bind(null,t,e,n),e.then(t,t))}function oy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ay(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bi(-1,1),e.tag=2,ps(n,e,1))),n.lanes|=1),t)}var b4=Ui.ReactCurrentOwner,qn=!1;function Ln(t,e,n,r){e.child=t===null?sv(e,null,n,r):Ta(e,t.child,n,r)}function ly(t,e,n,r,s){n=n.render;var o=e.ref;return da(e,s),r=lp(t,e,n,r,o,s),n=cp(),t!==null&&!qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mi(t,e,s)):(mt&&n&&qg(e),e.flags|=1,Ln(t,e,r,s),e.child)}function cy(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!wp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,bv(t,e,o,r,s)):(t=fh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var c=o.memoizedProps;if(n=n.compare,n=n!==null?n:lc,n(c,r)&&t.ref===e.ref)return Mi(t,e,s)}return e.flags|=1,t=xs(o,r),t.ref=e.ref,t.return=e,e.child=t}function bv(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(lc(o,r)&&t.ref===e.ref)if(qn=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(qn=!0);else return e.lanes=t.lanes,Mi(t,e,s)}return R1(t,e,n,r,s)}function Nv(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(ia,or),or|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(ia,or),or|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,at(ia,or),or|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,at(ia,or),or|=r;return Ln(t,e,s,n),e.child}function Rv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function R1(t,e,n,r,s){var o=Zn(n)?ro:Nn.current;return o=Aa(e,o),da(e,s),n=lp(t,e,n,r,o,s),r=cp(),t!==null&&!qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mi(t,e,s)):(mt&&r&&qg(e),e.flags|=1,Ln(t,e,n,s),e.child)}function uy(t,e,n,r,s){if(Zn(n)){var o=!0;Ph(e)}else o=!1;if(da(e,s),e.stateNode===null)uh(t,e),rv(e,n,r),b1(e,n,r,s),r=!0;else if(t===null){var c=e.stateNode,g=e.memoizedProps;c.props=g;var m=c.context,p=n.contextType;typeof p=="object"&&p!==null?p=Sr(p):(p=Zn(n)?ro:Nn.current,p=Aa(e,p));var w=n.getDerivedStateFromProps,v=typeof w=="function"||typeof c.getSnapshotBeforeUpdate=="function";v||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g!==r||m!==p)&&ty(e,c,r,p),Zi=!1;var I=e.memoizedState;c.state=I,jh(e,r,c,s),m=e.memoizedState,g!==r||I!==m||Qn.current||Zi?(typeof w=="function"&&(S1(e,n,w,r),m=e.memoizedState),(g=Zi||ey(e,n,g,r,I,m,p))?(v||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(e.flags|=4194308)):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=m),c.props=r,c.state=m,c.context=p,r=g):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{c=e.stateNode,tv(t,e),g=e.memoizedProps,p=e.type===e.elementType?g:Dr(e.type,g),c.props=p,v=e.pendingProps,I=c.context,m=n.contextType,typeof m=="object"&&m!==null?m=Sr(m):(m=Zn(n)?ro:Nn.current,m=Aa(e,m));var R=n.getDerivedStateFromProps;(w=typeof R=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g!==v||I!==m)&&ty(e,c,r,m),Zi=!1,I=e.memoizedState,c.state=I,jh(e,r,c,s);var M=e.memoizedState;g!==v||I!==M||Qn.current||Zi?(typeof R=="function"&&(S1(e,n,R,r),M=e.memoizedState),(p=Zi||ey(e,n,p,r,I,M,m)||!1)?(w||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,M,m),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,M,m)),typeof c.componentDidUpdate=="function"&&(e.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof c.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=M),c.props=r,c.state=M,c.context=m,r=p):(typeof c.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(e.flags|=1024),r=!1)}return O1(t,e,n,r,o,s)}function O1(t,e,n,r,s,o){Rv(t,e);var c=(e.flags&128)!==0;if(!r&&!c)return s&&K2(e,n,!1),Mi(t,e,o);r=e.stateNode,b4.current=e;var g=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&c?(e.child=Ta(e,t.child,null,o),e.child=Ta(e,null,g,o)):Ln(t,e,g,o),e.memoizedState=r.state,s&&K2(e,n,!0),e.child}function Ov(t){var e=t.stateNode;e.pendingContext?Y2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Y2(t,e.context,!1),ip(t,e.containerInfo)}function hy(t,e,n,r,s){return Ia(),Zg(s),e.flags|=256,Ln(t,e,n,r),e.child}var k1={dehydrated:null,treeContext:null,retryLane:0};function D1(t){return{baseLanes:t,cachePool:null,transitions:null}}function kv(t,e,n){var r=e.pendingProps,s=Et.current,o=!1,c=(e.flags&128)!==0,g;if((g=c)||(g=t!==null&&t.memoizedState===null?!1:(s&2)!==0),g?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),at(Et,s&1),t===null)return I1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(c=r.children,t=r.fallback,o?(r=e.mode,o=e.child,c={mode:"hidden",children:c},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=c):o=Md(c,r,0,null),t=Qs(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=D1(n),e.memoizedState=k1,t):dp(e,c));if(s=t.memoizedState,s!==null&&(g=s.dehydrated,g!==null))return N4(t,e,c,r,g,s,n);if(o){o=r.fallback,c=e.mode,s=t.child,g=s.sibling;var m={mode:"hidden",children:r.children};return!(c&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=m,e.deletions=null):(r=xs(s,m),r.subtreeFlags=s.subtreeFlags&14680064),g!==null?o=xs(g,o):(o=Qs(o,c,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,c=t.child.memoizedState,c=c===null?D1(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},o.memoizedState=c,o.childLanes=t.childLanes&~n,e.memoizedState=k1,r}return o=t.child,t=o.sibling,r=xs(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function dp(t,e){return e=Md({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fu(t,e,n,r){return r!==null&&Zg(r),Ta(e,t.child,null,n),t=dp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function N4(t,e,n,r,s,o,c){if(n)return e.flags&256?(e.flags&=-257,r=x0(Error(J(422))),Fu(t,e,c,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=Md({mode:"visible",children:r.children},s,0,null),o=Qs(o,s,c,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ta(e,t.child,null,c),e.child.memoizedState=D1(c),e.memoizedState=k1,o);if(!(e.mode&1))return Fu(t,e,c,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var g=r.dgst;return r=g,o=Error(J(419)),r=x0(o,r,void 0),Fu(t,e,c,r)}if(g=(c&t.childLanes)!==0,qn||g){if(r=nn,r!==null){switch(c&-c){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|c)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Di(t,s),Fr(r,t,s,-1))}return xp(),r=x0(Error(J(421))),Fu(t,e,c,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=z4.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,cr=gs(s.nextSibling),hr=e,mt=!0,Lr=null,t!==null&&(_r[Cr++]=_i,_r[Cr++]=Ci,_r[Cr++]=io,_i=t.id,Ci=t.overflow,io=e),e=dp(e,r.children),e.flags|=4096,e)}function dy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),T1(t.return,e,n)}function w0(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Dv(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(Ln(t,e,r.children,n),r=Et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dy(t,n,e);else if(t.tag===19)dy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(at(Et,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Vh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),w0(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Vh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}w0(e,!0,n,null,o);break;case"together":w0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function uh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=xs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function R4(t,e,n){switch(e.tag){case 3:Ov(e),Ia();break;case 5:ov(e);break;case 1:Zn(e.type)&&Ph(e);break;case 4:ip(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;at(Fh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(at(Et,Et.current&1),e.flags|=128,null):n&e.child.childLanes?kv(t,e,n):(at(Et,Et.current&1),t=Mi(t,e,n),t!==null?t.sibling:null);at(Et,Et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Dv(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),at(Et,Et.current),r)break;return null;case 22:case 23:return e.lanes=0,Nv(t,e,n)}return Mi(t,e,n)}var Mv,M1,Pv,Lv;Mv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};M1=function(){};Pv=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Gs(li.current);var o=null;switch(n){case"input":s=n1(t,s),r=n1(t,r),o=[];break;case"select":s=_t({},s,{value:void 0}),r=_t({},r,{value:void 0}),o=[];break;case"textarea":s=s1(t,s),r=s1(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Dh)}a1(n,r);var c;n=null;for(p in s)if(!r.hasOwnProperty(p)&&s.hasOwnProperty(p)&&s[p]!=null)if(p==="style"){var g=s[p];for(c in g)g.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(tc.hasOwnProperty(p)?o||(o=[]):(o=o||[]).push(p,null));for(p in r){var m=r[p];if(g=s!=null?s[p]:void 0,r.hasOwnProperty(p)&&m!==g&&(m!=null||g!=null))if(p==="style")if(g){for(c in g)!g.hasOwnProperty(c)||m&&m.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in m)m.hasOwnProperty(c)&&g[c]!==m[c]&&(n||(n={}),n[c]=m[c])}else n||(o||(o=[]),o.push(p,n)),n=m;else p==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,g=g?g.__html:void 0,m!=null&&g!==m&&(o=o||[]).push(p,m)):p==="children"?typeof m!="string"&&typeof m!="number"||(o=o||[]).push(p,""+m):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(tc.hasOwnProperty(p)?(m!=null&&p==="onScroll"&&ct("scroll",t),o||g===m||(o=[])):(o=o||[]).push(p,m))}n&&(o=o||[]).push("style",n);var p=o;(e.updateQueue=p)&&(e.flags|=4)}};Lv=function(t,e,n,r){n!==r&&(e.flags|=4)};function xl(t,e){if(!mt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function En(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function O4(t,e,n){var r=e.pendingProps;switch(Qg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(e),null;case 1:return Zn(e.type)&&Mh(),En(e),null;case 3:return r=e.stateNode,Sa(),dt(Qn),dt(Nn),op(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lr!==null&&(z1(Lr),Lr=null))),M1(t,e),En(e),null;case 5:sp(e);var s=Gs(fc.current);if(n=e.type,t!==null&&e.stateNode!=null)Pv(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return En(e),null}if(t=Gs(li.current),Lu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ei]=e,r[hc]=o,t=(e.mode&1)!==0,n){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(s=0;s<Rl.length;s++)ct(Rl[s],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":v2(r,o),ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ct("invalid",r);break;case"textarea":C2(r,o),ct("invalid",r)}a1(n,o),s=null;for(var c in o)if(o.hasOwnProperty(c)){var g=o[c];c==="children"?typeof g=="string"?r.textContent!==g&&(o.suppressHydrationWarning!==!0&&Pu(r.textContent,g,t),s=["children",g]):typeof g=="number"&&r.textContent!==""+g&&(o.suppressHydrationWarning!==!0&&Pu(r.textContent,g,t),s=["children",""+g]):tc.hasOwnProperty(c)&&g!=null&&c==="onScroll"&&ct("scroll",r)}switch(n){case"input":Su(r),_2(r,o,!0);break;case"textarea":Su(r),A2(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Dh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{c=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=c.createElement(n,{is:r.is}):(t=c.createElement(n),n==="select"&&(c=t,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):t=c.createElementNS(t,n),t[ei]=e,t[hc]=r,Mv(t,e,!1,!1),e.stateNode=t;e:{switch(c=l1(n,r),n){case"dialog":ct("cancel",t),ct("close",t),s=r;break;case"iframe":case"object":case"embed":ct("load",t),s=r;break;case"video":case"audio":for(s=0;s<Rl.length;s++)ct(Rl[s],t);s=r;break;case"source":ct("error",t),s=r;break;case"img":case"image":case"link":ct("error",t),ct("load",t),s=r;break;case"details":ct("toggle",t),s=r;break;case"input":v2(t,r),s=n1(t,r),ct("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=_t({},r,{value:void 0}),ct("invalid",t);break;case"textarea":C2(t,r),s=s1(t,r),ct("invalid",t);break;default:s=r}a1(n,s),g=s;for(o in g)if(g.hasOwnProperty(o)){var m=g[o];o==="style"?dE(t,m):o==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&uE(t,m)):o==="children"?typeof m=="string"?(n!=="textarea"||m!=="")&&nc(t,m):typeof m=="number"&&nc(t,""+m):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(tc.hasOwnProperty(o)?m!=null&&o==="onScroll"&&ct("scroll",t):m!=null&&Lg(t,o,m,c))}switch(n){case"input":Su(t),_2(t,r,!1);break;case"textarea":Su(t),A2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_s(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?la(t,!!r.multiple,o,!1):r.defaultValue!=null&&la(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Dh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return En(e),null;case 6:if(t&&e.stateNode!=null)Lv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Gs(fc.current),Gs(li.current),Lu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ei]=e,(o=r.nodeValue!==n)&&(t=hr,t!==null))switch(t.tag){case 3:Pu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ei]=e,e.stateNode=r}return En(e),null;case 13:if(dt(Et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mt&&cr!==null&&e.mode&1&&!(e.flags&128))JE(),Ia(),e.flags|=98560,o=!1;else if(o=Lu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[ei]=e}else Ia(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;En(e),o=!1}else Lr!==null&&(z1(Lr),Lr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?Kt===0&&(Kt=3):xp())),e.updateQueue!==null&&(e.flags|=4),En(e),null);case 4:return Sa(),M1(t,e),t===null&&cc(e.stateNode.containerInfo),En(e),null;case 10:return tp(e.type._context),En(e),null;case 17:return Zn(e.type)&&Mh(),En(e),null;case 19:if(dt(Et),o=e.memoizedState,o===null)return En(e),null;if(r=(e.flags&128)!==0,c=o.rendering,c===null)if(r)xl(o,!1);else{if(Kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(c=Vh(t),c!==null){for(e.flags|=128,xl(o,!1),r=c.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,c=o.alternate,c===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,t=c.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return at(Et,Et.current&1|2),e.child}t=t.sibling}o.tail!==null&&Lt()>Na&&(e.flags|=128,r=!0,xl(o,!1),e.lanes=4194304)}else{if(!r)if(t=Vh(c),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!mt)return En(e),null}else 2*Lt()-o.renderingStartTime>Na&&n!==1073741824&&(e.flags|=128,r=!0,xl(o,!1),e.lanes=4194304);o.isBackwards?(c.sibling=e.child,e.child=c):(n=o.last,n!==null?n.sibling=c:e.child=c,o.last=c)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Lt(),e.sibling=null,n=Et.current,at(Et,r?n&1|2:n&1),e):(En(e),null);case 22:case 23:return yp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?or&1073741824&&(En(e),e.subtreeFlags&6&&(e.flags|=8192)):En(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function k4(t,e){switch(Qg(e),e.tag){case 1:return Zn(e.type)&&Mh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sa(),dt(Qn),dt(Nn),op(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sp(e),null;case 13:if(dt(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Ia()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(Et),null;case 4:return Sa(),null;case 10:return tp(e.type._context),null;case 22:case 23:return yp(),null;case 24:return null;default:return null}}var Uu=!1,An=!1,D4=typeof WeakSet=="function"?WeakSet:Set,ce=null;function ra(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rt(t,e,r)}else n.current=null}function P1(t,e,n){try{n()}catch(r){Rt(t,e,r)}}var fy=!1;function M4(t,e){if(x1=Rh,t=jE(),Kg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var c=0,g=-1,m=-1,p=0,w=0,v=t,I=null;t:for(;;){for(var R;v!==n||s!==0&&v.nodeType!==3||(g=c+s),v!==o||r!==0&&v.nodeType!==3||(m=c+r),v.nodeType===3&&(c+=v.nodeValue.length),(R=v.firstChild)!==null;)I=v,v=R;for(;;){if(v===t)break t;if(I===n&&++p===s&&(g=c),I===o&&++w===r&&(m=c),(R=v.nextSibling)!==null)break;v=I,I=v.parentNode}v=R}n=g===-1||m===-1?null:{start:g,end:m}}else n=null}n=n||{start:0,end:0}}else n=null;for(w1={focusedElem:t,selectionRange:n},Rh=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var M=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var D=M.memoizedProps,U=M.memoizedState,k=e.stateNode,S=k.getSnapshotBeforeUpdate(e.elementType===e.type?D:Dr(e.type,D),U);k.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var O=e.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(B){Rt(e,e.return,B)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return M=fy,fy=!1,M}function Hl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&P1(e,n,o)}s=s.next}while(s!==r)}}function kd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function L1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Bv(t){var e=t.alternate;e!==null&&(t.alternate=null,Bv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ei],delete e[hc],delete e[_1],delete e[m4],delete e[y4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Fv(t){return t.tag===5||t.tag===3||t.tag===4}function gy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function B1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Dh));else if(r!==4&&(t=t.child,t!==null))for(B1(t,e,n),t=t.sibling;t!==null;)B1(t,e,n),t=t.sibling}function F1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(F1(t,e,n),t=t.sibling;t!==null;)F1(t,e,n),t=t.sibling}var un=null,Mr=!1;function Yi(t,e,n){for(n=n.child;n!==null;)Uv(t,e,n),n=n.sibling}function Uv(t,e,n){if(ai&&typeof ai.onCommitFiberUnmount=="function")try{ai.onCommitFiberUnmount(Ad,n)}catch{}switch(n.tag){case 5:An||ra(n,e);case 6:var r=un,s=Mr;un=null,Yi(t,e,n),un=r,Mr=s,un!==null&&(Mr?(t=un,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):un.removeChild(n.stateNode));break;case 18:un!==null&&(Mr?(t=un,n=n.stateNode,t.nodeType===8?d0(t.parentNode,n):t.nodeType===1&&d0(t,n),oc(t)):d0(un,n.stateNode));break;case 4:r=un,s=Mr,un=n.stateNode.containerInfo,Mr=!0,Yi(t,e,n),un=r,Mr=s;break;case 0:case 11:case 14:case 15:if(!An&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,c=o.destroy;o=o.tag,c!==void 0&&(o&2||o&4)&&P1(n,e,c),s=s.next}while(s!==r)}Yi(t,e,n);break;case 1:if(!An&&(ra(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(g){Rt(n,e,g)}Yi(t,e,n);break;case 21:Yi(t,e,n);break;case 22:n.mode&1?(An=(r=An)||n.memoizedState!==null,Yi(t,e,n),An=r):Yi(t,e,n);break;default:Yi(t,e,n)}}function py(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new D4),e.forEach(function(r){var s=H4.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function kr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,c=e,g=c;e:for(;g!==null;){switch(g.tag){case 5:un=g.stateNode,Mr=!1;break e;case 3:un=g.stateNode.containerInfo,Mr=!0;break e;case 4:un=g.stateNode.containerInfo,Mr=!0;break e}g=g.return}if(un===null)throw Error(J(160));Uv(o,c,s),un=null,Mr=!1;var m=s.alternate;m!==null&&(m.return=null),s.return=null}catch(p){Rt(s,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jv(e,t),e=e.sibling}function jv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kr(e,t),Kr(t),r&4){try{Hl(3,t,t.return),kd(3,t)}catch(D){Rt(t,t.return,D)}try{Hl(5,t,t.return)}catch(D){Rt(t,t.return,D)}}break;case 1:kr(e,t),Kr(t),r&512&&n!==null&&ra(n,n.return);break;case 5:if(kr(e,t),Kr(t),r&512&&n!==null&&ra(n,n.return),t.flags&32){var s=t.stateNode;try{nc(s,"")}catch(D){Rt(t,t.return,D)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,c=n!==null?n.memoizedProps:o,g=t.type,m=t.updateQueue;if(t.updateQueue=null,m!==null)try{g==="input"&&o.type==="radio"&&o.name!=null&&aE(s,o),l1(g,c);var p=l1(g,o);for(c=0;c<m.length;c+=2){var w=m[c],v=m[c+1];w==="style"?dE(s,v):w==="dangerouslySetInnerHTML"?uE(s,v):w==="children"?nc(s,v):Lg(s,w,v,p)}switch(g){case"input":r1(s,o);break;case"textarea":lE(s,o);break;case"select":var I=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var R=o.value;R!=null?la(s,!!o.multiple,R,!1):I!==!!o.multiple&&(o.defaultValue!=null?la(s,!!o.multiple,o.defaultValue,!0):la(s,!!o.multiple,o.multiple?[]:"",!1))}s[hc]=o}catch(D){Rt(t,t.return,D)}}break;case 6:if(kr(e,t),Kr(t),r&4){if(t.stateNode===null)throw Error(J(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(D){Rt(t,t.return,D)}}break;case 3:if(kr(e,t),Kr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{oc(e.containerInfo)}catch(D){Rt(t,t.return,D)}break;case 4:kr(e,t),Kr(t);break;case 13:kr(e,t),Kr(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(pp=Lt())),r&4&&py(t);break;case 22:if(w=n!==null&&n.memoizedState!==null,t.mode&1?(An=(p=An)||w,kr(e,t),An=p):kr(e,t),Kr(t),r&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!w&&t.mode&1)for(ce=t,w=t.child;w!==null;){for(v=ce=w;ce!==null;){switch(I=ce,R=I.child,I.tag){case 0:case 11:case 14:case 15:Hl(4,I,I.return);break;case 1:ra(I,I.return);var M=I.stateNode;if(typeof M.componentWillUnmount=="function"){r=I,n=I.return;try{e=r,M.props=e.memoizedProps,M.state=e.memoizedState,M.componentWillUnmount()}catch(D){Rt(r,n,D)}}break;case 5:ra(I,I.return);break;case 22:if(I.memoizedState!==null){yy(v);continue}}R!==null?(R.return=I,ce=R):yy(v)}w=w.sibling}e:for(w=null,v=t;;){if(v.tag===5){if(w===null){w=v;try{s=v.stateNode,p?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(g=v.stateNode,m=v.memoizedProps.style,c=m!=null&&m.hasOwnProperty("display")?m.display:null,g.style.display=hE("display",c))}catch(D){Rt(t,t.return,D)}}}else if(v.tag===6){if(w===null)try{v.stateNode.nodeValue=p?"":v.memoizedProps}catch(D){Rt(t,t.return,D)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;w===v&&(w=null),v=v.return}w===v&&(w=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:kr(e,t),Kr(t),r&4&&py(t);break;case 21:break;default:kr(e,t),Kr(t)}}function Kr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Fv(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(nc(s,""),r.flags&=-33);var o=gy(t);F1(t,o,s);break;case 3:case 4:var c=r.stateNode.containerInfo,g=gy(t);B1(t,g,c);break;default:throw Error(J(161))}}catch(m){Rt(t,t.return,m)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function P4(t,e,n){ce=t,Vv(t)}function Vv(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var s=ce,o=s.child;if(s.tag===22&&r){var c=s.memoizedState!==null||Uu;if(!c){var g=s.alternate,m=g!==null&&g.memoizedState!==null||An;g=Uu;var p=An;if(Uu=c,(An=m)&&!p)for(ce=s;ce!==null;)c=ce,m=c.child,c.tag===22&&c.memoizedState!==null?xy(s):m!==null?(m.return=c,ce=m):xy(s);for(;o!==null;)ce=o,Vv(o),o=o.sibling;ce=s,Uu=g,An=p}my(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ce=o):my(t)}}function my(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:An||kd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!An)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Dr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&J2(e,o,r);break;case 3:var c=e.updateQueue;if(c!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}J2(e,c,n)}break;case 5:var g=e.stateNode;if(n===null&&e.flags&4){n=g;var m=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&n.focus();break;case"img":m.src&&(n.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var w=p.memoizedState;if(w!==null){var v=w.dehydrated;v!==null&&oc(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}An||e.flags&512&&L1(e)}catch(I){Rt(e,e.return,I)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function yy(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function xy(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kd(4,e)}catch(m){Rt(e,n,m)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(m){Rt(e,s,m)}}var o=e.return;try{L1(e)}catch(m){Rt(e,o,m)}break;case 5:var c=e.return;try{L1(e)}catch(m){Rt(e,c,m)}}}catch(m){Rt(e,e.return,m)}if(e===t){ce=null;break}var g=e.sibling;if(g!==null){g.return=e.return,ce=g;break}ce=e.return}}var L4=Math.ceil,Wh=Ui.ReactCurrentDispatcher,fp=Ui.ReactCurrentOwner,Tr=Ui.ReactCurrentBatchConfig,ze=0,nn=null,zt=null,gn=0,or=0,ia=Rs(0),Kt=0,yc=null,oo=0,Dd=0,gp=0,Wl=null,Yn=null,pp=0,Na=1/0,wi=null,$h=!1,U1=null,ms=null,ju=!1,as=null,Gh=0,$l=0,j1=null,hh=-1,dh=0;function Un(){return ze&6?Lt():hh!==-1?hh:hh=Lt()}function ys(t){return t.mode&1?ze&2&&gn!==0?gn&-gn:w4.transition!==null?(dh===0&&(dh=AE()),dh):(t=Je,t!==0||(t=window.event,t=t===void 0?16:OE(t.type)),t):1}function Fr(t,e,n,r){if(50<$l)throw $l=0,j1=null,Error(J(185));jc(t,n,r),(!(ze&2)||t!==nn)&&(t===nn&&(!(ze&2)&&(Dd|=n),Kt===4&&es(t,gn)),Jn(t,r),n===1&&ze===0&&!(e.mode&1)&&(Na=Lt()+500,Nd&&Os()))}function Jn(t,e){var n=t.callbackNode;wT(t,e);var r=Nh(t,t===nn?gn:0);if(r===0)n!==null&&S2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&S2(n),e===1)t.tag===0?x4(wy.bind(null,t)):qE(wy.bind(null,t)),g4(function(){!(ze&6)&&Os()}),n=null;else{switch(IE(r)){case 1:n=Vg;break;case 4:n=_E;break;case 16:n=bh;break;case 536870912:n=CE;break;default:n=bh}n=Kv(n,zv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zv(t,e){if(hh=-1,dh=0,ze&6)throw Error(J(327));var n=t.callbackNode;if(fa()&&t.callbackNode!==n)return null;var r=Nh(t,t===nn?gn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xh(t,r);else{e=r;var s=ze;ze|=2;var o=Wv();(nn!==t||gn!==e)&&(wi=null,Na=Lt()+500,qs(t,e));do try{U4();break}catch(g){Hv(t,g)}while(1);ep(),Wh.current=o,ze=s,zt!==null?e=0:(nn=null,gn=0,e=Kt)}if(e!==0){if(e===2&&(s=f1(t),s!==0&&(r=s,e=V1(t,s))),e===1)throw n=yc,qs(t,0),es(t,r),Jn(t,Lt()),n;if(e===6)es(t,r);else{if(s=t.current.alternate,!(r&30)&&!B4(s)&&(e=Xh(t,r),e===2&&(o=f1(t),o!==0&&(r=o,e=V1(t,o))),e===1))throw n=yc,qs(t,0),es(t,r),Jn(t,Lt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:zs(t,Yn,wi);break;case 3:if(es(t,r),(r&130023424)===r&&(e=pp+500-Lt(),10<e)){if(Nh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Un(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=v1(zs.bind(null,t,Yn,wi),e);break}zs(t,Yn,wi);break;case 4:if(es(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var c=31-Br(r);o=1<<c,c=e[c],c>s&&(s=c),r&=~o}if(r=s,r=Lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*L4(r/1960))-r,10<r){t.timeoutHandle=v1(zs.bind(null,t,Yn,wi),r);break}zs(t,Yn,wi);break;case 5:zs(t,Yn,wi);break;default:throw Error(J(329))}}}return Jn(t,Lt()),t.callbackNode===n?zv.bind(null,t):null}function V1(t,e){var n=Wl;return t.current.memoizedState.isDehydrated&&(qs(t,e).flags|=256),t=Xh(t,e),t!==2&&(e=Yn,Yn=n,e!==null&&z1(e)),t}function z1(t){Yn===null?Yn=t:Yn.push.apply(Yn,t)}function B4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Ur(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function es(t,e){for(e&=~gp,e&=~Dd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Br(e),r=1<<n;t[n]=-1,e&=~r}}function wy(t){if(ze&6)throw Error(J(327));fa();var e=Nh(t,0);if(!(e&1))return Jn(t,Lt()),null;var n=Xh(t,e);if(t.tag!==0&&n===2){var r=f1(t);r!==0&&(e=r,n=V1(t,r))}if(n===1)throw n=yc,qs(t,0),es(t,e),Jn(t,Lt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zs(t,Yn,wi),Jn(t,Lt()),null}function mp(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(Na=Lt()+500,Nd&&Os())}}function ao(t){as!==null&&as.tag===0&&!(ze&6)&&fa();var e=ze;ze|=1;var n=Tr.transition,r=Je;try{if(Tr.transition=null,Je=1,t)return t()}finally{Je=r,Tr.transition=n,ze=e,!(ze&6)&&Os()}}function yp(){or=ia.current,dt(ia)}function qs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,f4(n)),zt!==null)for(n=zt.return;n!==null;){var r=n;switch(Qg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Mh();break;case 3:Sa(),dt(Qn),dt(Nn),op();break;case 5:sp(r);break;case 4:Sa();break;case 13:dt(Et);break;case 19:dt(Et);break;case 10:tp(r.type._context);break;case 22:case 23:yp()}n=n.return}if(nn=t,zt=t=xs(t.current,null),gn=or=e,Kt=0,yc=null,gp=Dd=oo=0,Yn=Wl=null,$s!==null){for(e=0;e<$s.length;e++)if(n=$s[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var c=o.next;o.next=s,r.next=c}n.pending=r}$s=null}return t}function Hv(t,e){do{var n=zt;try{if(ep(),lh.current=Hh,zh){for(var r=vt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}zh=!1}if(so=0,tn=Xt=vt=null,zl=!1,gc=0,fp.current=null,n===null||n.return===null){Kt=1,yc=e,zt=null;break}e:{var o=t,c=n.return,g=n,m=e;if(e=gn,g.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var p=m,w=g,v=w.tag;if(!(w.mode&1)&&(v===0||v===11||v===15)){var I=w.alternate;I?(w.updateQueue=I.updateQueue,w.memoizedState=I.memoizedState,w.lanes=I.lanes):(w.updateQueue=null,w.memoizedState=null)}var R=oy(c);if(R!==null){R.flags&=-257,ay(R,c,g,o,e),R.mode&1&&sy(o,p,e),e=R,m=p;var M=e.updateQueue;if(M===null){var D=new Set;D.add(m),e.updateQueue=D}else M.add(m);break e}else{if(!(e&1)){sy(o,p,e),xp();break e}m=Error(J(426))}}else if(mt&&g.mode&1){var U=oy(c);if(U!==null){!(U.flags&65536)&&(U.flags|=256),ay(U,c,g,o,e),Zg(ba(m,g));break e}}o=m=ba(m,g),Kt!==4&&(Kt=2),Wl===null?Wl=[o]:Wl.push(o),o=c;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var k=Tv(o,m,e);Z2(o,k);break e;case 1:g=m;var S=o.type,O=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(ms===null||!ms.has(O)))){o.flags|=65536,e&=-e,o.lanes|=e;var B=Sv(o,g,e);Z2(o,B);break e}}o=o.return}while(o!==null)}Gv(n)}catch(X){e=X,zt===n&&n!==null&&(zt=n=n.return);continue}break}while(1)}function Wv(){var t=Wh.current;return Wh.current=Hh,t===null?Hh:t}function xp(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),nn===null||!(oo&268435455)&&!(Dd&268435455)||es(nn,gn)}function Xh(t,e){var n=ze;ze|=2;var r=Wv();(nn!==t||gn!==e)&&(wi=null,qs(t,e));do try{F4();break}catch(s){Hv(t,s)}while(1);if(ep(),ze=n,Wh.current=r,zt!==null)throw Error(J(261));return nn=null,gn=0,Kt}function F4(){for(;zt!==null;)$v(zt)}function U4(){for(;zt!==null&&!uT();)$v(zt)}function $v(t){var e=Yv(t.alternate,t,or);t.memoizedProps=t.pendingProps,e===null?Gv(t):zt=e,fp.current=null}function Gv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=k4(n,e),n!==null){n.flags&=32767,zt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Kt=6,zt=null;return}}else if(n=O4(n,e,or),n!==null){zt=n;return}if(e=e.sibling,e!==null){zt=e;return}zt=e=t}while(e!==null);Kt===0&&(Kt=5)}function zs(t,e,n){var r=Je,s=Tr.transition;try{Tr.transition=null,Je=1,j4(t,e,n,r)}finally{Tr.transition=s,Je=r}return null}function j4(t,e,n,r){do fa();while(as!==null);if(ze&6)throw Error(J(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(ET(t,o),t===nn&&(zt=nn=null,gn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ju||(ju=!0,Kv(bh,function(){return fa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Tr.transition,Tr.transition=null;var c=Je;Je=1;var g=ze;ze|=4,fp.current=null,M4(t,n),jv(n,t),o4(w1),Rh=!!x1,w1=x1=null,t.current=n,P4(n),hT(),ze=g,Je=c,Tr.transition=o}else t.current=n;if(ju&&(ju=!1,as=t,Gh=s),o=t.pendingLanes,o===0&&(ms=null),gT(n.stateNode),Jn(t,Lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if($h)throw $h=!1,t=U1,U1=null,t;return Gh&1&&t.tag!==0&&fa(),o=t.pendingLanes,o&1?t===j1?$l++:($l=0,j1=t):$l=0,Os(),null}function fa(){if(as!==null){var t=IE(Gh),e=Tr.transition,n=Je;try{if(Tr.transition=null,Je=16>t?16:t,as===null)var r=!1;else{if(t=as,as=null,Gh=0,ze&6)throw Error(J(331));var s=ze;for(ze|=4,ce=t.current;ce!==null;){var o=ce,c=o.child;if(ce.flags&16){var g=o.deletions;if(g!==null){for(var m=0;m<g.length;m++){var p=g[m];for(ce=p;ce!==null;){var w=ce;switch(w.tag){case 0:case 11:case 15:Hl(8,w,o)}var v=w.child;if(v!==null)v.return=w,ce=v;else for(;ce!==null;){w=ce;var I=w.sibling,R=w.return;if(Bv(w),w===p){ce=null;break}if(I!==null){I.return=R,ce=I;break}ce=R}}}var M=o.alternate;if(M!==null){var D=M.child;if(D!==null){M.child=null;do{var U=D.sibling;D.sibling=null,D=U}while(D!==null)}}ce=o}}if(o.subtreeFlags&2064&&c!==null)c.return=o,ce=c;else e:for(;ce!==null;){if(o=ce,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Hl(9,o,o.return)}var k=o.sibling;if(k!==null){k.return=o.return,ce=k;break e}ce=o.return}}var S=t.current;for(ce=S;ce!==null;){c=ce;var O=c.child;if(c.subtreeFlags&2064&&O!==null)O.return=c,ce=O;else e:for(c=S;ce!==null;){if(g=ce,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:kd(9,g)}}catch(X){Rt(g,g.return,X)}if(g===c){ce=null;break e}var B=g.sibling;if(B!==null){B.return=g.return,ce=B;break e}ce=g.return}}if(ze=s,Os(),ai&&typeof ai.onPostCommitFiberRoot=="function")try{ai.onPostCommitFiberRoot(Ad,t)}catch{}r=!0}return r}finally{Je=n,Tr.transition=e}}return!1}function Ey(t,e,n){e=ba(n,e),e=Tv(t,e,1),t=ps(t,e,1),e=Un(),t!==null&&(jc(t,1,e),Jn(t,e))}function Rt(t,e,n){if(t.tag===3)Ey(t,t,n);else for(;e!==null;){if(e.tag===3){Ey(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ms===null||!ms.has(r))){t=ba(n,t),t=Sv(e,t,1),e=ps(e,t,1),t=Un(),e!==null&&(jc(e,1,t),Jn(e,t));break}}e=e.return}}function V4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Un(),t.pingedLanes|=t.suspendedLanes&n,nn===t&&(gn&n)===n&&(Kt===4||Kt===3&&(gn&130023424)===gn&&500>Lt()-pp?qs(t,0):gp|=n),Jn(t,e)}function Xv(t,e){e===0&&(t.mode&1?(e=Ru,Ru<<=1,!(Ru&130023424)&&(Ru=4194304)):e=1);var n=Un();t=Di(t,e),t!==null&&(jc(t,e,n),Jn(t,n))}function z4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Xv(t,n)}function H4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),Xv(t,n)}var Yv;Yv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qn.current)qn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qn=!1,R4(t,e,n);qn=!!(t.flags&131072)}else qn=!1,mt&&e.flags&1048576&&QE(e,Bh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;uh(t,e),t=e.pendingProps;var s=Aa(e,Nn.current);da(e,n),s=lp(null,e,r,t,s,n);var o=cp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zn(r)?(o=!0,Ph(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rp(e),s.updater=Rd,e.stateNode=s,s._reactInternals=e,b1(e,r,t,n),e=O1(null,e,r,!0,o,n)):(e.tag=0,mt&&o&&qg(e),Ln(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(uh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=$4(r),t=Dr(r,t),s){case 0:e=R1(null,e,r,t,n);break e;case 1:e=uy(null,e,r,t,n);break e;case 11:e=ly(null,e,r,t,n);break e;case 14:e=cy(null,e,r,Dr(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dr(r,s),R1(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dr(r,s),uy(t,e,r,s,n);case 3:e:{if(Ov(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,s=o.element,tv(t,e),jh(e,r,null,n);var c=e.memoizedState;if(r=c.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=ba(Error(J(423)),e),e=hy(t,e,r,n,s);break e}else if(r!==s){s=ba(Error(J(424)),e),e=hy(t,e,r,n,s);break e}else for(cr=gs(e.stateNode.containerInfo.firstChild),hr=e,mt=!0,Lr=null,n=sv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ia(),r===s){e=Mi(t,e,n);break e}Ln(t,e,r,n)}e=e.child}return e;case 5:return ov(e),t===null&&I1(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,c=s.children,E1(r,s)?c=null:o!==null&&E1(r,o)&&(e.flags|=32),Rv(t,e),Ln(t,e,c,n),e.child;case 6:return t===null&&I1(e),null;case 13:return kv(t,e,n);case 4:return ip(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ta(e,null,r,n):Ln(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dr(r,s),ly(t,e,r,s,n);case 7:return Ln(t,e,e.pendingProps,n),e.child;case 8:return Ln(t,e,e.pendingProps.children,n),e.child;case 12:return Ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,c=s.value,at(Fh,r._currentValue),r._currentValue=c,o!==null)if(Ur(o.value,c)){if(o.children===s.children&&!Qn.current){e=Mi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var g=o.dependencies;if(g!==null){c=o.child;for(var m=g.firstContext;m!==null;){if(m.context===r){if(o.tag===1){m=bi(-1,n&-n),m.tag=2;var p=o.updateQueue;if(p!==null){p=p.shared;var w=p.pending;w===null?m.next=m:(m.next=w.next,w.next=m),p.pending=m}}o.lanes|=n,m=o.alternate,m!==null&&(m.lanes|=n),T1(o.return,n,e),g.lanes|=n;break}m=m.next}}else if(o.tag===10)c=o.type===e.type?null:o.child;else if(o.tag===18){if(c=o.return,c===null)throw Error(J(341));c.lanes|=n,g=c.alternate,g!==null&&(g.lanes|=n),T1(c,n,e),c=o.sibling}else c=o.child;if(c!==null)c.return=o;else for(c=o;c!==null;){if(c===e){c=null;break}if(o=c.sibling,o!==null){o.return=c.return,c=o;break}c=c.return}o=c}Ln(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,da(e,n),s=Sr(s),r=r(s),e.flags|=1,Ln(t,e,r,n),e.child;case 14:return r=e.type,s=Dr(r,e.pendingProps),s=Dr(r.type,s),cy(t,e,r,s,n);case 15:return bv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dr(r,s),uh(t,e),e.tag=1,Zn(r)?(t=!0,Ph(e)):t=!1,da(e,n),rv(e,r,s),b1(e,r,s,n),O1(null,e,r,!0,t,n);case 19:return Dv(t,e,n);case 22:return Nv(t,e,n)}throw Error(J(156,e.tag))};function Kv(t,e){return vE(t,e)}function W4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(t,e,n,r){return new W4(t,e,n,r)}function wp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $4(t){if(typeof t=="function")return wp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fg)return 11;if(t===Ug)return 14}return 2}function xs(t,e){var n=t.alternate;return n===null?(n=Ir(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fh(t,e,n,r,s,o){var c=2;if(r=t,typeof t=="function")wp(t)&&(c=1);else if(typeof t=="string")c=5;else e:switch(t){case Yo:return Qs(n.children,s,o,e);case Bg:c=8,s|=8;break;case Z0:return t=Ir(12,n,e,s|2),t.elementType=Z0,t.lanes=o,t;case J0:return t=Ir(13,n,e,s),t.elementType=J0,t.lanes=o,t;case e1:return t=Ir(19,n,e,s),t.elementType=e1,t.lanes=o,t;case iE:return Md(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nE:c=10;break e;case rE:c=9;break e;case Fg:c=11;break e;case Ug:c=14;break e;case Qi:c=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Ir(c,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function Qs(t,e,n,r){return t=Ir(7,t,r,e),t.lanes=n,t}function Md(t,e,n,r){return t=Ir(22,t,r,e),t.elementType=iE,t.lanes=n,t.stateNode={isHidden:!1},t}function E0(t,e,n){return t=Ir(6,t,null,e),t.lanes=n,t}function v0(t,e,n){return e=Ir(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function G4(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=t0(0),this.expirationTimes=t0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=t0(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ep(t,e,n,r,s,o,c,g,m){return t=new G4(t,e,n,g,m),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ir(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rp(o),t}function X4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function qv(t){if(!t)return Cs;t=t._reactInternals;e:{if(xo(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Zn(n))return KE(t,n,e)}return e}function Qv(t,e,n,r,s,o,c,g,m){return t=Ep(n,r,!0,t,s,o,c,g,m),t.context=qv(null),n=t.current,r=Un(),s=ys(n),o=bi(r,s),o.callback=e??null,ps(n,o,s),t.current.lanes=s,jc(t,s,r),Jn(t,r),t}function Pd(t,e,n,r){var s=e.current,o=Un(),c=ys(s);return n=qv(n),e.context===null?e.context=n:e.pendingContext=n,e=bi(o,c),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ps(s,e,c),t!==null&&(Fr(t,s,c,o),ah(t,s,c)),c}function Yh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vp(t,e){vy(t,e),(t=t.alternate)&&vy(t,e)}function Y4(){return null}var Zv=typeof reportError=="function"?reportError:function(t){console.error(t)};function _p(t){this._internalRoot=t}Ld.prototype.render=_p.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Pd(t,e,null,null)};Ld.prototype.unmount=_p.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ao(function(){Pd(null,t,null,null)}),e[ki]=null}};function Ld(t){this._internalRoot=t}Ld.prototype.unstable_scheduleHydration=function(t){if(t){var e=bE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ji.length&&e!==0&&e<Ji[n].priority;n++);Ji.splice(n,0,t),n===0&&RE(t)}};function Cp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _y(){}function K4(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var p=Yh(c);o.call(p)}}var c=Qv(e,r,t,0,null,!1,!1,"",_y);return t._reactRootContainer=c,t[ki]=c.current,cc(t.nodeType===8?t.parentNode:t),ao(),c}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var g=r;r=function(){var p=Yh(m);g.call(p)}}var m=Ep(t,0,!1,null,null,!1,!1,"",_y);return t._reactRootContainer=m,t[ki]=m.current,cc(t.nodeType===8?t.parentNode:t),ao(function(){Pd(e,m,n,r)}),m}function Fd(t,e,n,r,s){var o=n._reactRootContainer;if(o){var c=o;if(typeof s=="function"){var g=s;s=function(){var m=Yh(c);g.call(m)}}Pd(e,c,t,s)}else c=K4(n,e,t,s,r);return Yh(c)}TE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Nl(e.pendingLanes);n!==0&&(zg(e,n|1),Jn(e,Lt()),!(ze&6)&&(Na=Lt()+500,Os()))}break;case 13:ao(function(){var r=Di(t,1);if(r!==null){var s=Un();Fr(r,t,1,s)}}),vp(t,1)}};Hg=function(t){if(t.tag===13){var e=Di(t,134217728);if(e!==null){var n=Un();Fr(e,t,134217728,n)}vp(t,134217728)}};SE=function(t){if(t.tag===13){var e=ys(t),n=Di(t,e);if(n!==null){var r=Un();Fr(n,t,e,r)}vp(t,e)}};bE=function(){return Je};NE=function(t,e){var n=Je;try{return Je=t,e()}finally{Je=n}};u1=function(t,e,n){switch(e){case"input":if(r1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=bd(r);if(!s)throw Error(J(90));oE(r),r1(r,s)}}}break;case"textarea":lE(t,n);break;case"select":e=n.value,e!=null&&la(t,!!n.multiple,e,!1)}};pE=mp;mE=ao;var q4={usingClientEntryPoint:!1,Events:[zc,Zo,bd,fE,gE,mp]},wl={findFiberByHostInstance:Ws,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Q4={bundleType:wl.bundleType,version:wl.version,rendererPackageName:wl.rendererPackageName,rendererConfig:wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wE(t),t===null?null:t.stateNode},findFiberByHostInstance:wl.findFiberByHostInstance||Y4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{Ad=Vu.inject(Q4),ai=Vu}catch{}}pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q4;pr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cp(e))throw Error(J(200));return X4(t,e,null,n)};pr.createRoot=function(t,e){if(!Cp(t))throw Error(J(299));var n=!1,r="",s=Zv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ep(t,1,!1,null,null,n,!1,r,s),t[ki]=e.current,cc(t.nodeType===8?t.parentNode:t),new _p(e)};pr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=wE(e),t=t===null?null:t.stateNode,t};pr.flushSync=function(t){return ao(t)};pr.hydrate=function(t,e,n){if(!Bd(e))throw Error(J(200));return Fd(null,t,e,!0,n)};pr.hydrateRoot=function(t,e,n){if(!Cp(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",c=Zv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),e=Qv(e,null,t,1,n??null,s,!1,o,c),t[ki]=e.current,cc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ld(e)};pr.render=function(t,e,n){if(!Bd(e))throw Error(J(200));return Fd(null,t,e,!1,n)};pr.unmountComponentAtNode=function(t){if(!Bd(t))throw Error(J(40));return t._reactRootContainer?(ao(function(){Fd(null,null,t,!1,function(){t._reactRootContainer=null,t[ki]=null})}),!0):!1};pr.unstable_batchedUpdates=mp;pr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bd(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Fd(t,e,n,!1,r)};pr.version="18.2.0-next-9e3b772b8-20220608";function Jv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jv)}catch(t){console.error(t)}}Jv(),Qw.exports=pr;var Z4=Qw.exports,Cy=Z4;q0.createRoot=Cy.createRoot,q0.hydrateRoot=Cy.hydrateRoot;const Ap=""+new URL("coin-5e523742.jpg",import.meta.url).href,J4=""+new URL("close-945782e8.svg",import.meta.url).href,eS=""+new URL("menu-e0613cf3.svg",import.meta.url).href;/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xc(){return xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xc.apply(this,arguments)}var ls;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ls||(ls={}));const Ay="popstate";function tS(t){t===void 0&&(t={});function e(r,s){let{pathname:o,search:c,hash:g}=r.location;return H1("",{pathname:o,search:c,hash:g},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Kh(s)}return rS(e,n,null,t)}function Ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ip(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nS(){return Math.random().toString(36).substr(2,8)}function Iy(t,e){return{usr:t.state,key:t.key,idx:e}}function H1(t,e,n,r){return n===void 0&&(n=null),xc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ha(e):e,{state:n,key:e&&e.key||r||nS()})}function Kh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ha(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function rS(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,c=s.history,g=ls.Pop,m=null,p=w();p==null&&(p=0,c.replaceState(xc({},c.state,{idx:p}),""));function w(){return(c.state||{idx:null}).idx}function v(){g=ls.Pop;let U=w(),k=U==null?null:U-p;p=U,m&&m({action:g,location:D.location,delta:k})}function I(U,k){g=ls.Push;let S=H1(D.location,U,k);n&&n(S,U),p=w()+1;let O=Iy(S,p),B=D.createHref(S);try{c.pushState(O,"",B)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;s.location.assign(B)}o&&m&&m({action:g,location:D.location,delta:1})}function R(U,k){g=ls.Replace;let S=H1(D.location,U,k);n&&n(S,U),p=w();let O=Iy(S,p),B=D.createHref(S);c.replaceState(O,"",B),o&&m&&m({action:g,location:D.location,delta:0})}function M(U){let k=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof U=="string"?U:Kh(U);return Ht(k,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,k)}let D={get action(){return g},get location(){return t(s,c)},listen(U){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(Ay,v),m=U,()=>{s.removeEventListener(Ay,v),m=null}},createHref(U){return e(s,U)},createURL:M,encodeLocation(U){let k=M(U);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:I,replace:R,go(U){return c.go(U)}};return D}var Ty;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ty||(Ty={}));function iS(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ha(e):e,s=Tp(r.pathname||"/",n);if(s==null)return null;let o=e_(t);sS(o);let c=null;for(let g=0;c==null&&g<o.length;++g)c=gS(o[g],yS(s));return c}function e_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,c,g)=>{let m={relativePath:g===void 0?o.path||"":g,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};m.relativePath.startsWith("/")&&(Ht(m.relativePath.startsWith(r),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(r.length));let p=ws([r,m.relativePath]),w=n.concat(m);o.children&&o.children.length>0&&(Ht(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),e_(o.children,e,w,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:dS(p,o.index),routesMeta:w})};return t.forEach((o,c)=>{var g;if(o.path===""||!((g=o.path)!=null&&g.includes("?")))s(o,c);else for(let m of t_(o.path))s(o,c,m)}),e}function t_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let c=t_(r.join("/")),g=[];return g.push(...c.map(m=>m===""?o:[o,m].join("/"))),s&&g.push(...c),g.map(m=>t.startsWith("/")&&m===""?"/":m)}function sS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oS=/^:\w+$/,aS=3,lS=2,cS=1,uS=10,hS=-2,Sy=t=>t==="*";function dS(t,e){let n=t.split("/"),r=n.length;return n.some(Sy)&&(r+=hS),e&&(r+=lS),n.filter(s=>!Sy(s)).reduce((s,o)=>s+(oS.test(o)?aS:o===""?cS:uS),r)}function fS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function gS(t,e){let{routesMeta:n}=t,r={},s="/",o=[];for(let c=0;c<n.length;++c){let g=n[c],m=c===n.length-1,p=s==="/"?e:e.slice(s.length)||"/",w=pS({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},p);if(!w)return null;Object.assign(r,w.params);let v=g.route;o.push({params:r,pathname:ws([s,w.pathname]),pathnameBase:vS(ws([s,w.pathnameBase])),route:v}),w.pathnameBase!=="/"&&(s=ws([s,w.pathnameBase]))}return o}function pS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mS(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),g=s.slice(1);return{params:r.reduce((p,w,v)=>{if(w==="*"){let I=g[v]||"";c=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}return p[w]=xS(g[v]||"",w),p},{}),pathname:o,pathnameBase:c,pattern:t}}function mS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ip(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(c,g)=>(r.push(g),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function yS(t){try{return decodeURI(t)}catch(e){return Ip(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xS(t,e){try{return decodeURIComponent(t)}catch(n){return Ip(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Tp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function wS(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ha(t):t;return{pathname:n?n.startsWith("/")?n:ES(n,e):e,search:_S(r),hash:CS(s)}}function ES(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function _0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function r_(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ha(t):(s=xc({},t),Ht(!s.pathname||!s.pathname.includes("?"),_0("?","pathname","search",s)),Ht(!s.pathname||!s.pathname.includes("#"),_0("#","pathname","hash",s)),Ht(!s.search||!s.search.includes("#"),_0("#","search","hash",s)));let o=t===""||s.pathname==="",c=o?"/":s.pathname,g;if(r||c==null)g=n;else{let v=e.length-1;if(c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),v-=1;s.pathname=I.join("/")}g=v>=0?e[v]:"/"}let m=wS(s,g),p=c&&c!=="/"&&c.endsWith("/"),w=(o||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||w)&&(m.pathname+="/"),m}const ws=t=>t.join("/").replace(/\/\/+/g,"/"),vS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_S=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function AS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const i_=["post","put","patch","delete"];new Set(i_);const IS=["get",...i_];new Set(IS);/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qh(){return qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qh.apply(this,arguments)}const Sp=K.createContext(null),TS=K.createContext(null),Wa=K.createContext(null),Ud=K.createContext(null),wo=K.createContext({outlet:null,matches:[],isDataRoute:!1}),s_=K.createContext(null);function SS(t,e){let{relative:n}=e===void 0?{}:e;Wc()||Ht(!1);let{basename:r,navigator:s}=K.useContext(Wa),{hash:o,pathname:c,search:g}=a_(t,{relative:n}),m=c;return r!=="/"&&(m=c==="/"?r:ws([r,c])),s.createHref({pathname:m,search:g,hash:o})}function Wc(){return K.useContext(Ud)!=null}function jd(){return Wc()||Ht(!1),K.useContext(Ud).location}function o_(t){K.useContext(Wa).static||K.useLayoutEffect(t)}function Vd(){let{isDataRoute:t}=K.useContext(wo);return t?jS():bS()}function bS(){Wc()||Ht(!1);let t=K.useContext(Sp),{basename:e,navigator:n}=K.useContext(Wa),{matches:r}=K.useContext(wo),{pathname:s}=jd(),o=JSON.stringify(n_(r).map(m=>m.pathnameBase)),c=K.useRef(!1);return o_(()=>{c.current=!0}),K.useCallback(function(m,p){if(p===void 0&&(p={}),!c.current)return;if(typeof m=="number"){n.go(m);return}let w=r_(m,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:ws([e,w.pathname])),(p.replace?n.replace:n.push)(w,p.state,p)},[e,n,o,s,t])}function a_(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=K.useContext(wo),{pathname:s}=jd(),o=JSON.stringify(n_(r).map(c=>c.pathnameBase));return K.useMemo(()=>r_(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function NS(t,e){return RS(t,e)}function RS(t,e,n){Wc()||Ht(!1);let{navigator:r}=K.useContext(Wa),{matches:s}=K.useContext(wo),o=s[s.length-1],c=o?o.params:{};o&&o.pathname;let g=o?o.pathnameBase:"/";o&&o.route;let m=jd(),p;if(e){var w;let D=typeof e=="string"?Ha(e):e;g==="/"||(w=D.pathname)!=null&&w.startsWith(g)||Ht(!1),p=D}else p=m;let v=p.pathname||"/",I=g==="/"?v:v.slice(g.length)||"/",R=iS(t,{pathname:I}),M=PS(R&&R.map(D=>Object.assign({},D,{params:Object.assign({},c,D.params),pathname:ws([g,r.encodeLocation?r.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:ws([g,r.encodeLocation?r.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),s,n);return e&&M?K.createElement(Ud.Provider,{value:{location:qh({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ls.Pop}},M):M}function OS(){let t=US(),e=AS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:s},n):null,o)}const kS=K.createElement(OS,null);class DS extends K.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?K.createElement(wo.Provider,{value:this.props.routeContext},K.createElement(s_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MS(t){let{routeContext:e,match:n,children:r}=t,s=K.useContext(Sp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),K.createElement(wo.Provider,{value:e},r)}function PS(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,c=(r=n)==null?void 0:r.errors;if(c!=null){let g=o.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id]));g>=0||Ht(!1),o=o.slice(0,Math.min(o.length,g+1))}return o.reduceRight((g,m,p)=>{let w=m.route.id?c==null?void 0:c[m.route.id]:null,v=null;n&&(v=m.route.errorElement||kS);let I=e.concat(o.slice(0,p+1)),R=()=>{let M;return w?M=v:m.route.Component?M=K.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=g,K.createElement(MS,{match:m,routeContext:{outlet:g,matches:I,isDataRoute:n!=null},children:M})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?K.createElement(DS,{location:n.location,revalidation:n.revalidation,component:v,error:w,children:R(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):R()},null)}var l_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(l_||{}),Qh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Qh||{});function LS(t){let e=K.useContext(Sp);return e||Ht(!1),e}function BS(t){let e=K.useContext(TS);return e||Ht(!1),e}function FS(t){let e=K.useContext(wo);return e||Ht(!1),e}function c_(t){let e=FS(),n=e.matches[e.matches.length-1];return n.route.id||Ht(!1),n.route.id}function US(){var t;let e=K.useContext(s_),n=BS(Qh.UseRouteError),r=c_(Qh.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function jS(){let{router:t}=LS(l_.UseNavigateStable),e=c_(Qh.UseNavigateStable),n=K.useRef(!1);return o_(()=>{n.current=!0}),K.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,qh({fromRouteId:e},o)))},[t,e])}function Pn(t){Ht(!1)}function VS(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ls.Pop,navigator:o,static:c=!1}=t;Wc()&&Ht(!1);let g=e.replace(/^\/*/,"/"),m=K.useMemo(()=>({basename:g,navigator:o,static:c}),[g,o,c]);typeof r=="string"&&(r=Ha(r));let{pathname:p="/",search:w="",hash:v="",state:I=null,key:R="default"}=r,M=K.useMemo(()=>{let D=Tp(p,g);return D==null?null:{location:{pathname:D,search:w,hash:v,state:I,key:R},navigationType:s}},[g,p,w,v,I,R,s]);return M==null?null:K.createElement(Wa.Provider,{value:m},K.createElement(Ud.Provider,{children:n,value:M}))}function zS(t){let{children:e,location:n}=t;return NS(W1(e),n)}new Promise(()=>{});function W1(t,e){e===void 0&&(e=[]);let n=[];return K.Children.forEach(t,(r,s)=>{if(!K.isValidElement(r))return;let o=[...e,s];if(r.type===K.Fragment){n.push.apply(n,W1(r.props.children,o));return}r.type!==Pn&&Ht(!1),!r.props.index||!r.props.children||Ht(!1);let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=W1(r.props.children,o)),n.push(c)}),n}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $1(){return $1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$1.apply(this,arguments)}function HS(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function WS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $S(t,e){return t.button===0&&(!e||e==="_self")&&!WS(t)}const GS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],XS="startTransition",by=K0[XS];function YS(t){let{basename:e,children:n,future:r,window:s}=t,o=K.useRef();o.current==null&&(o.current=tS({window:s,v5Compat:!0}));let c=o.current,[g,m]=K.useState({action:c.action,location:c.location}),{v7_startTransition:p}=r||{},w=K.useCallback(v=>{p&&by?by(()=>m(v)):m(v)},[m,p]);return K.useLayoutEffect(()=>c.listen(w),[c,w]),K.createElement(VS,{basename:e,children:n,location:g.location,navigationType:g.action,navigator:c})}const KS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bn=K.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:o,replace:c,state:g,target:m,to:p,preventScrollReset:w}=e,v=HS(e,GS),{basename:I}=K.useContext(Wa),R,M=!1;if(typeof p=="string"&&qS.test(p)&&(R=p,KS))try{let S=new URL(window.location.href),O=p.startsWith("//")?new URL(S.protocol+p):new URL(p),B=Tp(O.pathname,I);O.origin===S.origin&&B!=null?p=B+O.search+O.hash:M=!0}catch{}let D=SS(p,{relative:s}),U=QS(p,{replace:c,state:g,target:m,preventScrollReset:w,relative:s});function k(S){r&&r(S),S.defaultPrevented||U(S)}return K.createElement("a",$1({},v,{href:R||D,onClick:M||o?r:k,ref:n,target:m}))});var Ny;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(Ny||(Ny={}));var Ry;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ry||(Ry={}));function QS(t,e){let{target:n,replace:r,state:s,preventScrollReset:o,relative:c}=e===void 0?{}:e,g=Vd(),m=jd(),p=a_(t,{relative:c});return K.useCallback(w=>{if($S(w,n)){w.preventDefault();let v=r!==void 0?r:Kh(m)===Kh(p);g(t,{replace:v,state:s,preventScrollReset:o,relative:c})}},[m,g,p,r,s,n,t,o,c])}function ZS(){const[t,e]=K.useState(!1);return _.jsxs("nav",{className:"w-full flex py-6 justify-between items-center navbar",children:[_.jsx("img",{src:Ap,alt:"BitWallet",className:"w-[39px] h-[39px] rounded-full "}),_.jsxs("ul",{className:"list-none sm:flex hidden justify-end items-center flex-1 space-x-4",children:[_.jsx("li",{className:"font-poppins text-primary-500  font-small cursor-pointer text-[16px]  space-x-4",children:_.jsx(Bn,{to:"/profile",children:_.jsx("label",{children:"Profile"})})}),_.jsx("li",{className:"font-poppins text-primary-500  font-small cursor-pointer text-[16px]  space-x-4",children:_.jsx(Bn,{to:"/home",children:_.jsx("label",{children:"Home"})})}),_.jsx("li",{className:`font-poppins text-primary-500  font-small cursor-pointer text-[16px]\r
                                `,children:"My wallet"}),_.jsx("li",{className:`font-poppins text-primary-500 font-small cursor-pointer text-[16px]\r
                                `,children:"Notifications"}),_.jsx("li",{className:`font-poppins text-primary-500 font-small cursor-pointer text-[16px]\r
                                `,children:"Settings"})]}),_.jsxs("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[_.jsx("img",{src:t?J4:eS,alt:"menu",className:"w-[28px] h-[28px] object-contain",onClick:()=>e(!t)}),_.jsx("div",{className:`${t?"flex":"hidden"} p-6 bg-white absolute top-20 right-0 mx-4 my-2 min-w-[140px] rounded-xl sidebar`,children:_.jsxs("ul",{className:"list-none flex justify-end items-start flex-1 flex-col m-3",children:[_.jsx("li",{className:`font-poppins text-black font-medium cursor-pointer text-[16px] pr-4 pb-4 ml-0\r
                                `,children:_.jsx(Bn,{to:"/profile",children:_.jsx("label",{children:"Profile"})})}),_.jsx("li",{className:`font-poppins text-black font-medium cursor-pointer text-[16px] pr-4 pb-4 ml-0\r
                              `,children:_.jsx(Bn,{to:"/home",children:_.jsx("label",{children:"Home"})})}),_.jsx("li",{className:`font-poppins text-black  font-medium cursor-pointer text-[16px] pr-4 pb-4 ml-0\r
                                `,children:"My wallet"}),_.jsx("li",{className:`font-poppins text-black  font-medium cursor-pointer text-[16px] pr-4 pb-4 ml-0\r
                                `,children:"Notifications"}),_.jsx("li",{className:`font-poppins text-black  font-medium cursor-pointer text-[16px] pr-4 pb-4 ml-0\r
                                `,children:"Settings"})]})})]})]})}const zu=""+new URL("ethereum-3cbb176d.png",import.meta.url).href,JS=()=>_.jsx("div",{className:" w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white  ",children:_.jsxs("div",{className:"m-10",children:[_.jsx("div",{className:"transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y",children:_.jsxs("div",{className:"p-5 text-primary-500 rounded bg-black",children:[_.jsx("div",{className:"mt-3 text-3xl text-base font-bold leading-8",children:"Your Wallet Balance"}),_.jsx("div",{className:"flex justify-between ",children:_.jsx("div",{className:"mt-3 text-3xl leading-8 text-white",children:"$ 6, 200.34"})})]})}),_.jsxs("div",{className:"grid grid-cols-12 gap-6 mt-5",children:[_.jsx("a",{className:"transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",href:"#",children:_.jsxs("div",{className:"p-5 text-white rounded bg-black",children:[_.jsxs("div",{className:"flex justify-between ",children:[_.jsx("img",{src:zu,alt:zu,className:"h-12 w-12 flex-none rounded-full bg-primary"}),_.jsx("div",{className:"mt-3 text-3xl leading-8 text-white",children:"Bitcoin"}),_.jsx("div",{className:"mt-3 text-3xl text-base font-bold leading-8",children:"$ 6, 200.34"})]}),_.jsx("div",{className:"ml-2 w-full flex-1",children:_.jsx("div",{children:_.jsx("div",{className:"mt-1 text-base ",children:"BTC"})})})]})}),_.jsx("a",{className:"transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",href:"#",children:_.jsxs("div",{className:"p-5 text-white rounded bg-black ",children:[_.jsxs("div",{className:"flex justify-between ",children:[_.jsx("img",{src:zu,alt:zu,className:"h-12 w-12 flex-none rounded-full bg-primary"}),_.jsx("div",{className:"mt-3 text-3xl  leading-8 text-white",children:"Ethereum"}),_.jsx("div",{className:"mt-3 text-3xl text-base font-bold leading-8",children:"$ 2,123.02"})]}),_.jsx("div",{className:"ml-2 w-full flex-1",children:_.jsx("div",{children:_.jsx("div",{className:"mt-1 text-base ",children:"ETH"})})})]})})]})]})}),e8=()=>_.jsx("div",{children:_.jsx(JS,{})}),vi={boxWidth:"xl:max-w-[1280px] w-full",heading2:"font-poppins font-semibold xs:text-[48px] text-[40px] text-white xs:leading-[76.8px] leading-[66.8px] w-full",paragraph:"font-poppins font-normal text-dimWhite text-[18px] leading-[30.8px]",heading1:"font-poppins font-semibold xs:text-[30px]  text-[40px] text-white xs:leading-[65.8px] leading-[66.8px] w-full",flexCenter:"flex justify-center items-center",flexStart:"flex justify-center items-start",paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-12 py-4",marginX:"sm:mx-16 mx-6",marginY:"sm:my-16 my-6"},Eo=""+new URL("splash4-d4cbaf6a.jpg",import.meta.url).href;function t8(){return _.jsx("div",{className:" w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white bg-no-repeat bg-cover ",style:{backgroundImage:`url(${Eo})`},children:_.jsx("div",{className:" w-full h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white  ",children:_.jsx("div",{className:"flex flex-col sm:flex-row items-center md:items-start sm:justify-center md:justify-start flex-auto min-w-0",children:_.jsx("div",{className:"lg:text-left text-center",children:_.jsx("div",{className:"flex items-center justify-center ",children:_.jsxs("div",{className:"bg-primary flex flex-col  w-70 border-2 border-primary-500 rounded-3xl px-8 py-10",children:[_.jsx("h2",{className:vi.heading1,children:"Send Ethereum"}),_.jsxs("form",{className:"flex flex-col space-y-8 mt-10",children:[_.jsx("label",{className:"font-bold text-lg text-white",children:"Send To:"}),_.jsx("input",{type:"text",placeholder:"Send to",className:"border rounded-lg py-3 px-3 mt-4 bg-black border-primary-500 placeholder-white-500 text-white"}),_.jsx(Bn,{to:"/BarcodeScanner",children:_.jsx("div",{style:{position:"relative",display:"inline-block",left:"40%"},children:_.jsxs("svg",{viewBox:"0 0 1024 1024",height:"30px",className:"icon",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fill:"#000000",children:[_.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),_.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),_.jsxs("g",{id:"SVGRepo_iconCarrier",children:[_.jsx("path",{d:"M234.510695 141.605388h132.553218c12.769898 0 23.103972-10.344313 23.103972-23.103972s-10.333051-23.103972-23.103972-23.103973H234.510695c-76.441231 0-138.62281 62.18158-138.62281 138.622811v554.491241c0 76.441231 62.18158 138.62281 138.62281 138.62281h132.553218c12.769898 0 23.103972-10.345337 23.103972-23.103972 0-12.758635-10.333051-23.103972-23.103972-23.103973H234.510695c-50.967988 0-92.414866-41.458141-92.414866-92.414865V234.020254c-0.001024-50.956725 41.445854-92.414866 92.414866-92.414866zM789.000912 95.397443H656.447694c-12.769898 0-23.103972 10.344313-23.103972 23.103973s10.333051 23.103972 23.103972 23.103972h132.553218c50.967988 0 92.414866 41.458141 92.414865 92.414866v554.491241c0 50.956725-41.446878 92.414866-92.414865 92.414865H656.447694c-12.769898 0-23.103972 10.344313-23.103972 23.103973 0 12.758635 10.333051 23.103972 23.103972 23.103972h132.553218c76.441231 0 138.62281-62.18158 138.62281-138.62281V234.020254c0-76.441231-62.18158-138.62281-138.62281-138.622811z",fill:"#22C67F"}),_.jsx("path",{d:"M731.241493 545.921321H269.166141c-19.139488 0-34.655447-15.515958-34.655446-34.655447s15.515958-34.655447 34.655446-34.655446H731.241493c19.139488 0 34.655447 15.515958 34.655447 34.655446s-15.514934 34.655447-34.655447 34.655447z",fill:"#74E8AE"})]})]})})}),_.jsx("label",{className:"font-bold text-lg text-white",children:"Amount"}),_.jsx("input",{type:"text",placeholder:"amount",className:"border rounded-lg py-3 px-3 bg-black border-primary-500 placeholder-white-500 text-white"}),_.jsx("button",{className:"border border-primary-500 bg-green-950 text-white rounded-lg py-3 font-semibold",children:"Continue"})]})]})})})})})})}function n8(){return _.jsx("div",{className:" w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white bg-no-repeat bg-cover ",style:{backgroundImage:`url(${Eo})`},children:_.jsx("div",{className:" w-full h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white  ",children:_.jsx("div",{className:"flex flex-col sm:flex-row items-center md:items-start sm:justify-center md:justify-start flex-auto min-w-0",children:_.jsx("div",{children:_.jsx("div",{className:"lg:text-left text-center",children:_.jsx("div",{className:"flex items-center justify-center",children:_.jsxs("div",{className:"bg-primary flex flex-col w-70 border-2 border-primary-500 rounded-3xl px-8 py-10",children:[_.jsx("h2",{className:vi.heading1,children:"Swap"}),_.jsxs("form",{className:"flex flex-col space-y-8 mt-10",children:[_.jsx("label",{className:"font-bold text-lg text-white",children:"From :"}),_.jsx("input",{type:"text",placeholder:"Send to",className:"border rounded-lg py-3 px-3 mt-4 bg-black border-primary-500  placeholder-white-500 text-white"}),_.jsx("label",{className:"font-bold text-lg text-white",children:"To:"}),_.jsx("input",{type:"text",placeholder:"amount",className:"border rounded-lg py-3 px-3 bg-black border-primary-500  placeholder-white-500 text-white"}),_.jsx("button",{className:"border border-primary-500 bg-green-950 text-white rounded-lg py-3 font-semibold",children:"Continue"})]})]})})})})})})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},r8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],c=t[n++],g=t[n++],m=((s&7)<<18|(o&63)<<12|(c&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},h_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],c=s+1<t.length,g=c?t[s+1]:0,m=s+2<t.length,p=m?t[s+2]:0,w=o>>2,v=(o&3)<<4|g>>4;let I=(g&15)<<2|p>>6,R=p&63;m||(R=64,c||(I=64)),r.push(n[w],n[v],n[I],n[R])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(u_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):r8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],g=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||g==null||p==null||v==null)throw new i8;const I=o<<2|g>>4;if(r.push(I),p!==64){const R=g<<4&240|p>>2;if(r.push(R),v!==64){const M=p<<6&192|v;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class i8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s8=function(t){const e=u_(t);return h_.encodeByteArray(e,!0)},Zh=function(t){return s8(t).replace(/\./g,"")},d_=function(t){try{return h_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8=()=>o8().__FIREBASE_DEFAULTS__,l8=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},c8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&d_(t[1]);return e&&JSON.parse(e)},zd=()=>{try{return a8()||l8()||c8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},f_=t=>{var e,n;return(n=(e=zd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},g_=t=>{const e=f_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},p_=()=>{var t;return(t=zd())===null||t===void 0?void 0:t.config},m_=t=>{var e;return(e=zd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),g="";return[Zh(JSON.stringify(n)),Zh(JSON.stringify(c)),g].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function d8(){var t;const e=(t=zd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function f8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function g8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p8(){const t=Rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m8(){try{return typeof indexedDB=="object"}catch{return!1}}function y8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8="FirebaseError";class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=x8,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$c.prototype.create)}}class $c{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?w8(o,r):"Error",g=`${this.serviceName}: ${c} (${s}).`;return new mi(s,g,r)}}function w8(t,e){return t.replace(E8,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const E8=/\{\$([^}]+)}/g;function v8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],c=e[s];if(Oy(o)&&Oy(c)){if(!Jh(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Oy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ol(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function kl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _8(t,e){const n=new C8(t,e);return n.subscribe.bind(n)}class C8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");A8(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=C0),s.error===void 0&&(s.error=C0),s.complete===void 0&&(s.complete=C0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function C0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t){return t&&t._delegate?t._delegate:t}class As{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new u8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S8(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(o);r===g&&c.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:T8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T8(t){return t===Hs?void 0:t}function S8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new I8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const N8={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},R8=Le.INFO,O8={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},k8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=O8[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bp{constructor(e){this.name=e,this._logLevel=R8,this._logHandler=k8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const D8=(t,e)=>e.some(n=>t instanceof n);let ky,Dy;function M8(){return ky||(ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P8(){return Dy||(Dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x_=new WeakMap,G1=new WeakMap,w_=new WeakMap,A0=new WeakMap,Np=new WeakMap;function L8(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Es(t.result)),s()},c=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&x_.set(n,t)}).catch(()=>{}),Np.set(e,t),e}function B8(t){if(G1.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),s()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});G1.set(t,e)}let X1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return G1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||w_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function F8(t){X1=t(X1)}function U8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(I0(this),e,...n);return w_.set(r,e.sort?e.sort():[e]),Es(r)}:P8().includes(t)?function(...e){return t.apply(I0(this),e),Es(x_.get(this))}:function(...e){return Es(t.apply(I0(this),e))}}function j8(t){return typeof t=="function"?U8(t):(t instanceof IDBTransaction&&B8(t),D8(t,M8())?new Proxy(t,X1):t)}function Es(t){if(t instanceof IDBRequest)return L8(t);if(A0.has(t))return A0.get(t);const e=j8(t);return e!==t&&(A0.set(t,e),Np.set(e,t)),e}const I0=t=>Np.get(t);function V8(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(t,e),g=Es(c);return r&&c.addEventListener("upgradeneeded",m=>{r(Es(c.result),m.oldVersion,m.newVersion,Es(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),g.then(m=>{o&&m.addEventListener("close",()=>o()),s&&m.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const z8=["get","getKey","getAll","getAllKeys","count"],H8=["put","add","delete","clear"],T0=new Map;function My(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(T0.get(e))return T0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=H8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||z8.includes(n)))return;const o=async function(c,...g){const m=this.transaction(c,s?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),s&&m.done]))[0]};return T0.set(e,o),o}F8(t=>({...t,get:(e,n,r)=>My(e,n)||t.get(e,n,r),has:(e,n)=>!!My(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Y1="@firebase/app",Py="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new bp("@firebase/app"),G8="@firebase/app-compat",X8="@firebase/analytics-compat",Y8="@firebase/analytics",K8="@firebase/app-check-compat",q8="@firebase/app-check",Q8="@firebase/auth",Z8="@firebase/auth-compat",J8="@firebase/database",e6="@firebase/database-compat",t6="@firebase/functions",n6="@firebase/functions-compat",r6="@firebase/installations",i6="@firebase/installations-compat",s6="@firebase/messaging",o6="@firebase/messaging-compat",a6="@firebase/performance",l6="@firebase/performance-compat",c6="@firebase/remote-config",u6="@firebase/remote-config-compat",h6="@firebase/storage",d6="@firebase/storage-compat",f6="@firebase/firestore",g6="@firebase/firestore-compat",p6="firebase",m6="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="[DEFAULT]",y6={[Y1]:"fire-core",[G8]:"fire-core-compat",[Y8]:"fire-analytics",[X8]:"fire-analytics-compat",[q8]:"fire-app-check",[K8]:"fire-app-check-compat",[Q8]:"fire-auth",[Z8]:"fire-auth-compat",[J8]:"fire-rtdb",[e6]:"fire-rtdb-compat",[t6]:"fire-fn",[n6]:"fire-fn-compat",[r6]:"fire-iid",[i6]:"fire-iid-compat",[s6]:"fire-fcm",[o6]:"fire-fcm-compat",[a6]:"fire-perf",[l6]:"fire-perf-compat",[c6]:"fire-rc",[u6]:"fire-rc-compat",[h6]:"fire-gcs",[d6]:"fire-gcs-compat",[f6]:"fire-fst",[g6]:"fire-fst-compat","fire-js":"fire-js",[p6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Map,q1=new Map;function x6(t,e){try{t.container.addComponent(e)}catch(n){lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function co(t){const e=t.name;if(q1.has(e))return lo.debug(`There were multiple attempts to register component ${e}.`),!1;q1.set(e,t);for(const n of ed.values())x6(n,t);return!0}function Hd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},vs=new $c("app","Firebase",w6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=m6;function E_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:K1,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw vs.create("bad-app-name",{appName:String(s)});if(n||(n=p_()),!n)throw vs.create("no-options");const o=ed.get(s);if(o){if(Jh(n,o.options)&&Jh(r,o.config))return o;throw vs.create("duplicate-app",{appName:s})}const c=new b8(s);for(const m of q1.values())c.addComponent(m);const g=new E6(n,r,c);return ed.set(s,g),g}function Rp(t=K1){const e=ed.get(t);if(!e&&t===K1&&p_())return E_();if(!e)throw vs.create("no-app",{appName:t});return e}function ci(t,e,n){var r;let s=(r=y6[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const g=[`Unable to register library "${s}" with version "${e}":`];o&&g.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&g.push("and"),c&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lo.warn(g.join(" "));return}co(new As(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="firebase-heartbeat-database",_6=1,wc="firebase-heartbeat-store";let S0=null;function v_(){return S0||(S0=V8(v6,_6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(wc)}}}).catch(t=>{throw vs.create("idb-open",{originalErrorMessage:t.message})})),S0}async function C6(t){try{return await(await v_()).transaction(wc).objectStore(wc).get(__(t))}catch(e){if(e instanceof mi)lo.warn(e.message);else{const n=vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lo.warn(n.message)}}}async function Ly(t,e){try{const r=(await v_()).transaction(wc,"readwrite");await r.objectStore(wc).put(e,__(t)),await r.done}catch(n){if(n instanceof mi)lo.warn(n.message);else{const r=vs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});lo.warn(r.message)}}}function __(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=1024,I6=30*24*60*60*1e3;class T6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new b6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=By();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=I6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=By(),{heartbeatsToSend:n,unsentEntries:r}=S6(this._heartbeatsCache.heartbeats),s=Zh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function By(){return new Date().toISOString().substring(0,10)}function S6(t,e=A6){const n=[];let r=t.slice();for(const s of t){const o=n.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),Fy(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Fy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class b6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m8()?y8().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await C6(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ly(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ly(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Fy(t){return Zh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(t){co(new As("platform-logger",e=>new W8(e),"PRIVATE")),co(new As("heartbeat",e=>new T6(e),"PRIVATE")),ci(Y1,Py,t),ci(Y1,Py,"esm2017"),ci("fire-js","")}N6("");var R6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ie,Op=Op||{},Ce=R6||self;function Wd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Xc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function O6(t){return Object.prototype.hasOwnProperty.call(t,b0)&&t[b0]||(t[b0]=++k6)}var b0="closure_uid_"+(1e9*Math.random()>>>0),k6=0;function D6(t,e,n){return t.call.apply(t.bind,arguments)}function M6(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Tn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Tn=D6:Tn=M6,Tn.apply(null,arguments)}function Hu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function sn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,o){for(var c=Array(arguments.length-2),g=2;g<arguments.length;g++)c[g-2]=arguments[g];return e.prototype[s].apply(r,c)}}function ks(){this.s=this.s,this.o=this.o}var P6=0;ks.prototype.s=!1;ks.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),P6!=0)&&O6(this)};ks.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const C_=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function kp(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Uy(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Wd(r)){const s=t.length||0,o=r.length||0;t.length=s+o;for(let c=0;c<o;c++)t[s+c]=r[c]}else t.push(r)}}function Sn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Sn.prototype.h=function(){this.defaultPrevented=!0};var L6=function(){if(!Ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ce.addEventListener("test",()=>{},e),Ce.removeEventListener("test",()=>{},e)}catch{}return t}();function Ec(t){return/^[\s\xa0]*$/.test(t)}function $d(){var t=Ce.navigator;return t&&(t=t.userAgent)?t:""}function ti(t){return $d().indexOf(t)!=-1}function Dp(t){return Dp[" "](t),t}Dp[" "]=function(){};function B6(t,e){var n=Nb;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var F6=ti("Opera"),Ra=ti("Trident")||ti("MSIE"),A_=ti("Edge"),Q1=A_||Ra,I_=ti("Gecko")&&!($d().toLowerCase().indexOf("webkit")!=-1&&!ti("Edge"))&&!(ti("Trident")||ti("MSIE"))&&!ti("Edge"),U6=$d().toLowerCase().indexOf("webkit")!=-1&&!ti("Edge");function T_(){var t=Ce.document;return t?t.documentMode:void 0}var Z1;e:{var N0="",R0=function(){var t=$d();if(I_)return/rv:([^\);]+)(\)|;)/.exec(t);if(A_)return/Edge\/([\d\.]+)/.exec(t);if(Ra)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(U6)return/WebKit\/(\S+)/.exec(t);if(F6)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(R0&&(N0=R0?R0[1]:""),Ra){var O0=T_();if(O0!=null&&O0>parseFloat(N0)){Z1=String(O0);break e}}Z1=N0}var J1;if(Ce.document&&Ra){var jy=T_();J1=jy||parseInt(Z1,10)||void 0}else J1=void 0;var j6=J1;function vc(t,e){if(Sn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(I_){e:{try{Dp(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:V6[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&vc.$.h.call(this)}}sn(vc,Sn);var V6={2:"touch",3:"pen",4:"mouse"};vc.prototype.h=function(){vc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Yc="closure_listenable_"+(1e6*Math.random()|0),z6=0;function H6(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++z6,this.fa=this.ia=!1}function Gd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Mp(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function W6(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function S_(t){const e={};for(const n in t)e[n]=t[n];return e}const Vy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b_(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let o=0;o<Vy.length;o++)n=Vy[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Xd(t){this.src=t,this.g={},this.h=0}Xd.prototype.add=function(t,e,n,r,s){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var c=tg(t,e,r,s);return-1<c?(e=t[c],n||(e.ia=!1)):(e=new H6(e,this.src,o,!!r,s),e.ia=n,t.push(e)),e};function eg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=C_(r,e),o;(o=0<=s)&&Array.prototype.splice.call(r,s,1),o&&(Gd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function tg(t,e,n,r){for(var s=0;s<t.length;++s){var o=t[s];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return s}return-1}var Pp="closure_lm_"+(1e6*Math.random()|0),k0={};function N_(t,e,n,r,s){if(r&&r.once)return O_(t,e,n,r,s);if(Array.isArray(e)){for(var o=0;o<e.length;o++)N_(t,e[o],n,r,s);return null}return n=Fp(n),t&&t[Yc]?t.O(e,n,Xc(r)?!!r.capture:!!r,s):R_(t,e,n,!1,r,s)}function R_(t,e,n,r,s,o){if(!e)throw Error("Invalid event type");var c=Xc(s)?!!s.capture:!!s,g=Bp(t);if(g||(t[Pp]=g=new Xd(t)),n=g.add(e,n,r,c,o),n.proxy)return n;if(r=$6(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)L6||(s=c),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(D_(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function $6(){function t(n){return e.call(t.src,t.listener,n)}const e=G6;return t}function O_(t,e,n,r,s){if(Array.isArray(e)){for(var o=0;o<e.length;o++)O_(t,e[o],n,r,s);return null}return n=Fp(n),t&&t[Yc]?t.P(e,n,Xc(r)?!!r.capture:!!r,s):R_(t,e,n,!0,r,s)}function k_(t,e,n,r,s){if(Array.isArray(e))for(var o=0;o<e.length;o++)k_(t,e[o],n,r,s);else r=Xc(r)?!!r.capture:!!r,n=Fp(n),t&&t[Yc]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=tg(o,n,r,s),-1<n&&(Gd(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Bp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=tg(e,n,r,s)),(n=-1<t?e[t]:null)&&Lp(n))}function Lp(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Yc])eg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(D_(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Bp(e))?(eg(n,t),n.h==0&&(n.src=null,e[Pp]=null)):Gd(t)}}}function D_(t){return t in k0?k0[t]:k0[t]="on"+t}function G6(t,e){if(t.fa)t=!0;else{e=new vc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Lp(t),t=n.call(r,e)}return t}function Bp(t){return t=t[Pp],t instanceof Xd?t:null}var D0="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fp(t){return typeof t=="function"?t:(t[D0]||(t[D0]=function(e){return t.handleEvent(e)}),t[D0])}function rn(){ks.call(this),this.i=new Xd(this),this.S=this,this.J=null}sn(rn,ks);rn.prototype[Yc]=!0;rn.prototype.removeEventListener=function(t,e,n,r){k_(this,t,e,n,r)};function pn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Sn(e,t);else if(e instanceof Sn)e.target=e.target||t;else{var s=e;e=new Sn(r,t),b_(e,s)}if(s=!0,n)for(var o=n.length-1;0<=o;o--){var c=e.g=n[o];s=Wu(c,r,!0,e)&&s}if(c=e.g=t,s=Wu(c,r,!0,e)&&s,s=Wu(c,r,!1,e)&&s,n)for(o=0;o<n.length;o++)c=e.g=n[o],s=Wu(c,r,!1,e)&&s}rn.prototype.N=function(){if(rn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Gd(n[r]);delete t.g[e],t.h--}}this.J=null};rn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};rn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Wu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,o=0;o<e.length;++o){var c=e[o];if(c&&!c.fa&&c.capture==n){var g=c.listener,m=c.la||c.src;c.ia&&eg(t.i,c),s=g.call(m,r)!==!1&&s}}return s&&!r.defaultPrevented}var Up=Ce.JSON.stringify;class X6{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Y6(){var t=jp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class K6{constructor(){this.h=this.g=null}add(e,n){const r=M_.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var M_=new X6(()=>new q6,t=>t.reset());class q6{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Q6(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Z6(t){Ce.setTimeout(()=>{throw t},0)}let _c,Cc=!1,jp=new K6,P_=()=>{const t=Ce.Promise.resolve(void 0);_c=()=>{t.then(J6)}};var J6=()=>{for(var t;t=Y6();){try{t.h.call(t.g)}catch(n){Z6(n)}var e=M_;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Cc=!1};function Yd(t,e){rn.call(this),this.h=t||1,this.g=e||Ce,this.j=Tn(this.qb,this),this.l=Date.now()}sn(Yd,rn);ie=Yd.prototype;ie.ga=!1;ie.T=null;ie.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),pn(this,"tick"),this.ga&&(Vp(this),this.start()))}};ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Vp(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ie.N=function(){Yd.$.N.call(this),Vp(this),delete this.g};function zp(t,e,n){if(typeof t=="function")n&&(t=Tn(t,n));else if(t&&typeof t.handleEvent=="function")t=Tn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ce.setTimeout(t,e||0)}function L_(t){t.g=zp(()=>{t.g=null,t.i&&(t.i=!1,L_(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class eb extends ks{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:L_(this)}N(){super.N(),this.g&&(Ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ac(t){ks.call(this),this.h=t,this.g={}}sn(Ac,ks);var zy=[];function B_(t,e,n,r){Array.isArray(n)||(n&&(zy[0]=n.toString()),n=zy);for(var s=0;s<n.length;s++){var o=N_(e,n[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function F_(t){Mp(t.g,function(e,n){this.g.hasOwnProperty(n)&&Lp(e)},t),t.g={}}Ac.prototype.N=function(){Ac.$.N.call(this),F_(this)};Ac.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Kd(){this.g=!0}Kd.prototype.Ea=function(){this.g=!1};function tb(t,e,n,r,s,o){t.info(function(){if(t.g)if(o)for(var c="",g=o.split("&"),m=0;m<g.length;m++){var p=g[m].split("=");if(1<p.length){var w=p[0];p=p[1];var v=w.split("_");c=2<=v.length&&v[1]=="type"?c+(w+"="+p+"&"):c+(w+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+c})}function nb(t,e,n,r,s,o,c){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+o+" "+c})}function sa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+ib(t,n)+(r?" "+r:"")})}function rb(t,e){t.info(function(){return"TIMEOUT: "+e})}Kd.prototype.info=function(){};function ib(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var c=1;c<s.length;c++)s[c]=""}}}}return Up(n)}catch{return e}}var _o={},Hy=null;function qd(){return Hy=Hy||new rn}_o.Ta="serverreachability";function U_(t){Sn.call(this,_o.Ta,t)}sn(U_,Sn);function Ic(t){const e=qd();pn(e,new U_(e))}_o.STAT_EVENT="statevent";function j_(t,e){Sn.call(this,_o.STAT_EVENT,t),this.stat=e}sn(j_,Sn);function Fn(t){const e=qd();pn(e,new j_(e,t))}_o.Ua="timingevent";function V_(t,e){Sn.call(this,_o.Ua,t),this.size=e}sn(V_,Sn);function Kc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ce.setTimeout(function(){t()},e)}var Qd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},z_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Hp(){}Hp.prototype.h=null;function Wy(t){return t.h||(t.h=t.i())}function H_(){}var qc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Wp(){Sn.call(this,"d")}sn(Wp,Sn);function $p(){Sn.call(this,"c")}sn($p,Sn);var ng;function Zd(){}sn(Zd,Hp);Zd.prototype.g=function(){return new XMLHttpRequest};Zd.prototype.i=function(){return{}};ng=new Zd;function Qc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ac(this),this.P=sb,t=Q1?125:void 0,this.V=new Yd(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new W_}function W_(){this.i=null,this.g="",this.h=!1}var sb=45e3,rg={},td={};ie=Qc.prototype;ie.setTimeout=function(t){this.P=t};function ig(t,e,n){t.L=1,t.v=ef(Pi(e)),t.s=n,t.S=!0,$_(t,null)}function $_(t,e){t.G=Date.now(),Zc(t),t.A=Pi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),J_(n.i,"t",r),t.C=0,n=t.l.J,t.h=new W_,t.g=EC(t.l,n?e:null,!t.s),0<t.O&&(t.M=new eb(Tn(t.Pa,t,t.g),t.O)),B_(t.U,t.g,"readystatechange",t.nb),e=t.I?S_(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ic(),tb(t.j,t.u,t.A,t.m,t.W,t.s)}ie.nb=function(t){t=t.target;const e=this.M;e&&ii(t)==3?e.l():this.Pa(t)};ie.Pa=function(t){try{if(t==this.g)e:{const w=ii(this.g);var e=this.g.Ia();const v=this.g.da();if(!(3>w)&&(w!=3||Q1||this.g&&(this.h.h||this.g.ja()||Yy(this.g)))){this.J||w!=4||e==7||(e==8||0>=v?Ic(3):Ic(2)),Jd(this);var n=this.g.da();this.ca=n;t:if(G_(this)){var r=Yy(this.g);t="";var s=r.length,o=ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xs(this),Gl(this);var c="";break t}this.h.i=new Ce.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=n==200,nb(this.j,this.u,this.A,this.m,this.W,w,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,m=this.g;if((g=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ec(g)){var p=g;break t}}p=null}if(n=p)sa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sg(this,n);else{this.i=!1,this.o=3,Fn(12),Xs(this),Gl(this);break e}}this.S?(X_(this,w,c),Q1&&this.i&&w==3&&(B_(this.U,this.V,"tick",this.mb),this.V.start())):(sa(this.j,this.m,c,null),sg(this,c)),w==4&&Xs(this),this.i&&!this.J&&(w==4?mC(this.l,this):(this.i=!1,Zc(this)))}else Tb(this.g),n==400&&0<c.indexOf("Unknown SID")?(this.o=3,Fn(12)):(this.o=0,Fn(13)),Xs(this),Gl(this)}}}catch{}finally{}};function G_(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function X_(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=ob(t,n),s==td){e==4&&(t.o=4,Fn(14),r=!1),sa(t.j,t.m,null,"[Incomplete Response]");break}else if(s==rg){t.o=4,Fn(15),sa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else sa(t.j,t.m,s,null),sg(t,s);G_(t)&&s!=td&&s!=rg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Fn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qp(e),e.M=!0,Fn(11))):(sa(t.j,t.m,n,"[Invalid Chunked Response]"),Xs(t),Gl(t))}ie.mb=function(){if(this.g){var t=ii(this.g),e=this.g.ja();this.C<e.length&&(Jd(this),X_(this,t,e),this.i&&t!=4&&Zc(this))}};function ob(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?td:(n=Number(e.substring(n,r)),isNaN(n)?rg:(r+=1,r+n>e.length?td:(e=e.slice(r,r+n),t.C=r+n,e)))}ie.cancel=function(){this.J=!0,Xs(this)};function Zc(t){t.Y=Date.now()+t.P,Y_(t,t.P)}function Y_(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Kc(Tn(t.lb,t),e)}function Jd(t){t.B&&(Ce.clearTimeout(t.B),t.B=null)}ie.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(rb(this.j,this.A),this.L!=2&&(Ic(),Fn(17)),Xs(this),this.o=2,Gl(this)):Y_(this,this.Y-t)};function Gl(t){t.l.H==0||t.J||mC(t.l,t)}function Xs(t){Jd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Vp(t.V),F_(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function sg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||og(n.i,t))){if(!t.K&&og(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)id(n),sf(n);else break e;qp(n),Fn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Kc(Tn(n.ib,n),6e3));if(1>=nC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ys(n,11)}else if((t.K||n.g==t)&&id(n),!Ec(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let p=s[e];if(n.V=p[0],p=p[1],n.H==2)if(p[0]=="c"){n.K=p[1],n.pa=p[2];const w=p[3];w!=null&&(n.ra=w,n.l.info("VER="+n.ra));const v=p[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const I=p[5];I!=null&&typeof I=="number"&&0<I&&(r=1.5*I,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const R=t.g;if(R){const M=R.g?R.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(M){var o=r.i;o.g||M.indexOf("spdy")==-1&&M.indexOf("quic")==-1&&M.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Gp(o,o.h),o.h=null))}if(r.F){const D=R.g?R.g.getResponseHeader("X-HTTP-Session-Id"):null;D&&(r.Da=D,ht(r.I,r.F,D))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var c=t;if(r.wa=wC(r,r.J?r.pa:null,r.Y),c.K){rC(r.i,c);var g=c,m=r.L;m&&g.setTimeout(m),g.B&&(Jd(g),Zc(g)),r.g=c}else gC(r);0<n.j.length&&of(n)}else p[0]!="stop"&&p[0]!="close"||Ys(n,7);else n.H==3&&(p[0]=="stop"||p[0]=="close"?p[0]=="stop"?Ys(n,7):Kp(n):p[0]!="noop"&&n.h&&n.h.Aa(p),n.A=0)}}Ic(4)}catch{}}function ab(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Wd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function lb(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Wd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function K_(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Wd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=lb(t),r=ab(t),s=r.length,o=0;o<s;o++)e.call(void 0,r[o],n&&n[o],t)}var q_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cb(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var o=t[n].substring(0,r);s=t[n].substring(r+1)}else o=t[n];e(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Zs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Zs){this.h=t.h,nd(this,t.j),this.s=t.s,this.g=t.g,rd(this,t.m),this.l=t.l;var e=t.i,n=new Tc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),$y(this,n),this.o=t.o}else t&&(e=String(t).match(q_))?(this.h=!1,nd(this,e[1]||"",!0),this.s=Dl(e[2]||""),this.g=Dl(e[3]||"",!0),rd(this,e[4]),this.l=Dl(e[5]||"",!0),$y(this,e[6]||"",!0),this.o=Dl(e[7]||"")):(this.h=!1,this.i=new Tc(null,this.h))}Zs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ml(e,Gy,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ml(e,Gy,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ml(n,n.charAt(0)=="/"?db:hb,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ml(n,gb)),t.join("")};function Pi(t){return new Zs(t)}function nd(t,e,n){t.j=n?Dl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function rd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function $y(t,e,n){e instanceof Tc?(t.i=e,pb(t.i,t.h)):(n||(e=Ml(e,fb)),t.i=new Tc(e,t.h))}function ht(t,e,n){t.i.set(e,n)}function ef(t){return ht(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Dl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ml(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,ub),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ub(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Gy=/[#\/\?@]/g,hb=/[#\?:]/g,db=/[#\?]/g,fb=/[#\?@]/g,gb=/#/g;function Tc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ds(t){t.g||(t.g=new Map,t.h=0,t.i&&cb(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ie=Tc.prototype;ie.add=function(t,e){Ds(this),this.i=null,t=$a(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Q_(t,e){Ds(t),e=$a(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Z_(t,e){return Ds(t),e=$a(t,e),t.g.has(e)}ie.forEach=function(t,e){Ds(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};ie.ta=function(){Ds(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let o=0;o<s.length;o++)n.push(e[r])}return n};ie.Z=function(t){Ds(this);let e=[];if(typeof t=="string")Z_(this,t)&&(e=e.concat(this.g.get($a(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ie.set=function(t,e){return Ds(this),this.i=null,t=$a(this,t),Z_(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ie.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function J_(t,e,n){Q_(t,e),0<n.length&&(t.i=null,t.g.set($a(t,e),kp(n)),t.h+=n.length)}ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var s=o;c[r]!==""&&(s+="="+encodeURIComponent(String(c[r]))),t.push(s)}}return this.i=t.join("&")};function $a(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function pb(t,e){e&&!t.j&&(Ds(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(Q_(this,r),J_(this,s,n))},t)),t.j=e}var mb=class{constructor(t,e){this.g=t,this.map=e}};function eC(t){this.l=t||yb,Ce.PerformanceNavigationTiming?(t=Ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ce.g&&Ce.g.Ka&&Ce.g.Ka()&&Ce.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var yb=10;function tC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function nC(t){return t.h?1:t.g?t.g.size:0}function og(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Gp(t,e){t.g?t.g.add(e):t.h=e}function rC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}eC.prototype.cancel=function(){if(this.i=iC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function iC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return kp(t.i)}var xb=class{stringify(t){return Ce.JSON.stringify(t,void 0)}parse(t){return Ce.JSON.parse(t,void 0)}};function wb(){this.g=new xb}function Eb(t,e,n){const r=n||"";try{K_(t,function(s,o){let c=s;Xc(s)&&(c=Up(s)),e.push(r+o+"="+encodeURIComponent(c))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function vb(t,e){const n=new Kd;if(Ce.Image){const r=new Image;r.onload=Hu($u,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Hu($u,n,r,"TestLoadImage: error",!1,e),r.onabort=Hu($u,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hu($u,n,r,"TestLoadImage: timeout",!1,e),Ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function $u(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function tf(t){this.l=t.ec||null,this.j=t.ob||!1}sn(tf,Hp);tf.prototype.g=function(){return new nf(this.l,this.j)};tf.prototype.i=function(t){return function(){return t}}({});function nf(t,e){rn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Xp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sn(nf,rn);var Xp=0;ie=nf.prototype;ie.open=function(t,e){if(this.readyState!=Xp)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Sc(this)};ie.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jc(this)),this.readyState=Xp};ie.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Sc(this)),this.g&&(this.readyState=3,Sc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function sC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ie.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Jc(this):Sc(this),this.readyState==3&&sC(this)}};ie.Za=function(t){this.g&&(this.response=this.responseText=t,Jc(this))};ie.Ya=function(t){this.g&&(this.response=t,Jc(this))};ie.ka=function(){this.g&&Jc(this)};function Jc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Sc(t)}ie.setRequestHeader=function(t,e){this.v.append(t,e)};ie.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ie.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Sc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(nf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var _b=Ce.JSON.parse;function kt(t){rn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=oC,this.L=this.M=!1}sn(kt,rn);var oC="",Cb=/^https?$/i,Ab=["POST","PUT"];ie=kt.prototype;ie.Oa=function(t){this.M=t};ie.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ng.g(),this.C=this.u?Wy(this.u):Wy(ng),this.g.onreadystatechange=Tn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){Xy(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),s=Ce.FormData&&t instanceof Ce.FormData,!(0<=C_(Ab,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of n)this.g.setRequestHeader(o,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{cC(this),0<this.B&&((this.L=Ib(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tn(this.ua,this)):this.A=zp(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Xy(this,o)}};function Ib(t){return Ra&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ie.ua=function(){typeof Op<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pn(this,"timeout"),this.abort(8))};function Xy(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,aC(t),rf(t)}function aC(t){t.F||(t.F=!0,pn(t,"complete"),pn(t,"error"))}ie.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,pn(this,"complete"),pn(this,"abort"),rf(this))};ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rf(this,!0)),kt.$.N.call(this)};ie.La=function(){this.s||(this.G||this.v||this.l?lC(this):this.kb())};ie.kb=function(){lC(this)};function lC(t){if(t.h&&typeof Op<"u"&&(!t.C[1]||ii(t)!=4||t.da()!=2)){if(t.v&&ii(t)==4)zp(t.La,0,t);else if(pn(t,"readystatechange"),ii(t)==4){t.h=!1;try{const c=t.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=c===0){var s=String(t.I).match(q_)[1]||null;!s&&Ce.self&&Ce.self.location&&(s=Ce.self.location.protocol.slice(0,-1)),r=!Cb.test(s?s.toLowerCase():"")}n=r}if(n)pn(t,"complete"),pn(t,"success");else{t.m=6;try{var o=2<ii(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",aC(t)}}finally{rf(t)}}}}function rf(t,e){if(t.g){cC(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||pn(t,"ready");try{n.onreadystatechange=r}catch{}}}function cC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ce.clearTimeout(t.A),t.A=null)}ie.isActive=function(){return!!this.g};function ii(t){return t.g?t.g.readyState:0}ie.da=function(){try{return 2<ii(this)?this.g.status:-1}catch{return-1}};ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ie.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),_b(e)}};function Yy(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case oC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Tb(t){const e={};t=(t.g&&2<=ii(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ec(t[r]))continue;var n=Q6(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[s]||[];e[s]=o,o.push(n)}W6(e,function(r){return r.join(", ")})}ie.Ia=function(){return this.m};ie.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function uC(t){let e="";return Mp(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Yp(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=uC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ht(t,e,n))}function El(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function hC(t){this.Ga=0,this.j=[],this.l=new Kd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=El("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=El("baseRetryDelayMs",5e3,t),this.hb=El("retryDelaySeedMs",1e4,t),this.eb=El("forwardChannelMaxRetries",2,t),this.xa=El("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new eC(t&&t.concurrentRequestLimit),this.Ja=new wb,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ie=hC.prototype;ie.ra=8;ie.H=1;function Kp(t){if(dC(t),t.H==3){var e=t.W++,n=Pi(t.I);if(ht(n,"SID",t.K),ht(n,"RID",e),ht(n,"TYPE","terminate"),eu(t,n),e=new Qc(t,t.l,e),e.L=2,e.v=ef(Pi(n)),n=!1,Ce.navigator&&Ce.navigator.sendBeacon)try{n=Ce.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ce.Image&&(new Image().src=e.v,n=!0),n||(e.g=EC(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Zc(e)}xC(t)}function sf(t){t.g&&(Qp(t),t.g.cancel(),t.g=null)}function dC(t){sf(t),t.u&&(Ce.clearTimeout(t.u),t.u=null),id(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ce.clearTimeout(t.m),t.m=null)}function of(t){if(!tC(t.i)&&!t.m){t.m=!0;var e=t.Na;_c||P_(),Cc||(_c(),Cc=!0),jp.add(e,t),t.C=0}}function Sb(t,e){return nC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Kc(Tn(t.Na,t,e),yC(t,t.C)),t.C++,!0)}ie.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Qc(this,this.l,t);let o=this.s;if(this.U&&(o?(o=S_(o),b_(o,this.U)):o=this.U),this.o!==null||this.O||(s.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=fC(this,s,e),n=Pi(this.I),ht(n,"RID",t),ht(n,"CVER",22),this.F&&ht(n,"X-HTTP-Session-Id",this.F),eu(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(uC(o)))+"&"+e:this.o&&Yp(n,this.o,o)),Gp(this.i,s),this.bb&&ht(n,"TYPE","init"),this.P?(ht(n,"$req",e),ht(n,"SID","null"),s.aa=!0,ig(s,n,null)):ig(s,n,e),this.H=2}}else this.H==3&&(t?Ky(this,t):this.j.length==0||tC(this.i)||Ky(this))};function Ky(t,e){var n;e?n=e.m:n=t.W++;const r=Pi(t.I);ht(r,"SID",t.K),ht(r,"RID",n),ht(r,"AID",t.V),eu(t,r),t.o&&t.s&&Yp(r,t.o,t.s),n=new Qc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=fC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Gp(t.i,n),ig(n,r,e)}function eu(t,e){t.na&&Mp(t.na,function(n,r){ht(e,r,n)}),t.h&&K_({},function(n,r){ht(e,r,n)})}function fC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Tn(t.h.Va,t.h,t):null;e:{var s=t.j;let o=-1;for(;;){const c=["count="+n];o==-1?0<n?(o=s[0].g,c.push("ofs="+o)):o=0:c.push("ofs="+o);let g=!0;for(let m=0;m<n;m++){let p=s[m].g;const w=s[m].map;if(p-=o,0>p)o=Math.max(0,s[m].g-100),g=!1;else try{Eb(w,c,"req"+p+"_")}catch{r&&r(w)}}if(g){r=c.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function gC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;_c||P_(),Cc||(_c(),Cc=!0),jp.add(e,t),t.A=0}}function qp(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Kc(Tn(t.Ma,t),yC(t,t.A)),t.A++,!0)}ie.Ma=function(){if(this.u=null,pC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Kc(Tn(this.jb,this),t)}};ie.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Fn(10),sf(this),pC(this))};function Qp(t){t.B!=null&&(Ce.clearTimeout(t.B),t.B=null)}function pC(t){t.g=new Qc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Pi(t.wa);ht(e,"RID","rpc"),ht(e,"SID",t.K),ht(e,"AID",t.V),ht(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ht(e,"TO",t.qa),ht(e,"TYPE","xmlhttp"),eu(t,e),t.o&&t.s&&Yp(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=ef(Pi(e)),n.s=null,n.S=!0,$_(n,t)}ie.ib=function(){this.v!=null&&(this.v=null,sf(this),qp(this),Fn(19))};function id(t){t.v!=null&&(Ce.clearTimeout(t.v),t.v=null)}function mC(t,e){var n=null;if(t.g==e){id(t),Qp(t),t.g=null;var r=2}else if(og(t.i,e))n=e.F,rC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=qd(),pn(r,new V_(r,n)),of(t)}else gC(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&Sb(t,e)||r==2&&qp(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Ys(t,5);break;case 4:Ys(t,10);break;case 3:Ys(t,6);break;default:Ys(t,2)}}}function yC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ys(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Tn(t.pb,t);n||(n=new Zs("//www.google.com/images/cleardot.gif"),Ce.location&&Ce.location.protocol=="http"||nd(n,"https"),ef(n)),vb(n.toString(),r)}else Fn(2);t.H=0,t.h&&t.h.za(e),xC(t),dC(t)}ie.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Fn(2)):(this.l.info("Failed to ping google.com"),Fn(1))};function xC(t){if(t.H=0,t.ma=[],t.h){const e=iC(t.i);(e.length!=0||t.j.length!=0)&&(Uy(t.ma,e),Uy(t.ma,t.j),t.i.i.length=0,kp(t.j),t.j.length=0),t.h.ya()}}function wC(t,e,n){var r=n instanceof Zs?Pi(n):new Zs(n);if(r.g!="")e&&(r.g=e+"."+r.g),rd(r,r.m);else{var s=Ce.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new Zs(null);r&&nd(o,r),e&&(o.g=e),s&&rd(o,s),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&ht(r,n,e),ht(r,"VER",t.ra),eu(t,r),r}function EC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new kt(new tf({ob:!0})):new kt(t.va),e.Oa(t.J),e}ie.isActive=function(){return!!this.h&&this.h.isActive(this)};function vC(){}ie=vC.prototype;ie.Ba=function(){};ie.Aa=function(){};ie.za=function(){};ie.ya=function(){};ie.isActive=function(){return!0};ie.Va=function(){};function sd(){if(Ra&&!(10<=Number(j6)))throw Error("Environmental error: no available transport.")}sd.prototype.g=function(t,e){return new gr(t,e)};function gr(t,e){rn.call(this),this.g=new hC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ec(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ec(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ga(this)}sn(gr,rn);gr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Fn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=wC(t,null,t.Y),of(t)};gr.prototype.close=function(){Kp(this.g)};gr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Up(t),t=n);e.j.push(new mb(e.fb++,t)),e.H==3&&of(e)};gr.prototype.N=function(){this.g.h=null,delete this.j,Kp(this.g),delete this.g,gr.$.N.call(this)};function _C(t){Wp.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}sn(_C,Wp);function CC(){$p.call(this),this.status=1}sn(CC,$p);function Ga(t){this.g=t}sn(Ga,vC);Ga.prototype.Ba=function(){pn(this.g,"a")};Ga.prototype.Aa=function(t){pn(this.g,new _C(t))};Ga.prototype.za=function(t){pn(this.g,new CC)};Ga.prototype.ya=function(){pn(this.g,"b")};function bb(){this.blockSize=-1}function jr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}sn(jr,bb);jr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function M0(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var o=t.g[3],c=e+(o^n&(s^o))+r[0]+3614090360&4294967295;e=n+(c<<7&4294967295|c>>>25),c=o+(s^e&(n^s))+r[1]+3905402710&4294967295,o=e+(c<<12&4294967295|c>>>20),c=s+(n^o&(e^n))+r[2]+606105819&4294967295,s=o+(c<<17&4294967295|c>>>15),c=n+(e^s&(o^e))+r[3]+3250441966&4294967295,n=s+(c<<22&4294967295|c>>>10),c=e+(o^n&(s^o))+r[4]+4118548399&4294967295,e=n+(c<<7&4294967295|c>>>25),c=o+(s^e&(n^s))+r[5]+1200080426&4294967295,o=e+(c<<12&4294967295|c>>>20),c=s+(n^o&(e^n))+r[6]+2821735955&4294967295,s=o+(c<<17&4294967295|c>>>15),c=n+(e^s&(o^e))+r[7]+4249261313&4294967295,n=s+(c<<22&4294967295|c>>>10),c=e+(o^n&(s^o))+r[8]+1770035416&4294967295,e=n+(c<<7&4294967295|c>>>25),c=o+(s^e&(n^s))+r[9]+2336552879&4294967295,o=e+(c<<12&4294967295|c>>>20),c=s+(n^o&(e^n))+r[10]+4294925233&4294967295,s=o+(c<<17&4294967295|c>>>15),c=n+(e^s&(o^e))+r[11]+2304563134&4294967295,n=s+(c<<22&4294967295|c>>>10),c=e+(o^n&(s^o))+r[12]+1804603682&4294967295,e=n+(c<<7&4294967295|c>>>25),c=o+(s^e&(n^s))+r[13]+4254626195&4294967295,o=e+(c<<12&4294967295|c>>>20),c=s+(n^o&(e^n))+r[14]+2792965006&4294967295,s=o+(c<<17&4294967295|c>>>15),c=n+(e^s&(o^e))+r[15]+1236535329&4294967295,n=s+(c<<22&4294967295|c>>>10),c=e+(s^o&(n^s))+r[1]+4129170786&4294967295,e=n+(c<<5&4294967295|c>>>27),c=o+(n^s&(e^n))+r[6]+3225465664&4294967295,o=e+(c<<9&4294967295|c>>>23),c=s+(e^n&(o^e))+r[11]+643717713&4294967295,s=o+(c<<14&4294967295|c>>>18),c=n+(o^e&(s^o))+r[0]+3921069994&4294967295,n=s+(c<<20&4294967295|c>>>12),c=e+(s^o&(n^s))+r[5]+3593408605&4294967295,e=n+(c<<5&4294967295|c>>>27),c=o+(n^s&(e^n))+r[10]+38016083&4294967295,o=e+(c<<9&4294967295|c>>>23),c=s+(e^n&(o^e))+r[15]+3634488961&4294967295,s=o+(c<<14&4294967295|c>>>18),c=n+(o^e&(s^o))+r[4]+3889429448&4294967295,n=s+(c<<20&4294967295|c>>>12),c=e+(s^o&(n^s))+r[9]+568446438&4294967295,e=n+(c<<5&4294967295|c>>>27),c=o+(n^s&(e^n))+r[14]+3275163606&4294967295,o=e+(c<<9&4294967295|c>>>23),c=s+(e^n&(o^e))+r[3]+4107603335&4294967295,s=o+(c<<14&4294967295|c>>>18),c=n+(o^e&(s^o))+r[8]+1163531501&4294967295,n=s+(c<<20&4294967295|c>>>12),c=e+(s^o&(n^s))+r[13]+2850285829&4294967295,e=n+(c<<5&4294967295|c>>>27),c=o+(n^s&(e^n))+r[2]+4243563512&4294967295,o=e+(c<<9&4294967295|c>>>23),c=s+(e^n&(o^e))+r[7]+1735328473&4294967295,s=o+(c<<14&4294967295|c>>>18),c=n+(o^e&(s^o))+r[12]+2368359562&4294967295,n=s+(c<<20&4294967295|c>>>12),c=e+(n^s^o)+r[5]+4294588738&4294967295,e=n+(c<<4&4294967295|c>>>28),c=o+(e^n^s)+r[8]+2272392833&4294967295,o=e+(c<<11&4294967295|c>>>21),c=s+(o^e^n)+r[11]+1839030562&4294967295,s=o+(c<<16&4294967295|c>>>16),c=n+(s^o^e)+r[14]+4259657740&4294967295,n=s+(c<<23&4294967295|c>>>9),c=e+(n^s^o)+r[1]+2763975236&4294967295,e=n+(c<<4&4294967295|c>>>28),c=o+(e^n^s)+r[4]+1272893353&4294967295,o=e+(c<<11&4294967295|c>>>21),c=s+(o^e^n)+r[7]+4139469664&4294967295,s=o+(c<<16&4294967295|c>>>16),c=n+(s^o^e)+r[10]+3200236656&4294967295,n=s+(c<<23&4294967295|c>>>9),c=e+(n^s^o)+r[13]+681279174&4294967295,e=n+(c<<4&4294967295|c>>>28),c=o+(e^n^s)+r[0]+3936430074&4294967295,o=e+(c<<11&4294967295|c>>>21),c=s+(o^e^n)+r[3]+3572445317&4294967295,s=o+(c<<16&4294967295|c>>>16),c=n+(s^o^e)+r[6]+76029189&4294967295,n=s+(c<<23&4294967295|c>>>9),c=e+(n^s^o)+r[9]+3654602809&4294967295,e=n+(c<<4&4294967295|c>>>28),c=o+(e^n^s)+r[12]+3873151461&4294967295,o=e+(c<<11&4294967295|c>>>21),c=s+(o^e^n)+r[15]+530742520&4294967295,s=o+(c<<16&4294967295|c>>>16),c=n+(s^o^e)+r[2]+3299628645&4294967295,n=s+(c<<23&4294967295|c>>>9),c=e+(s^(n|~o))+r[0]+4096336452&4294967295,e=n+(c<<6&4294967295|c>>>26),c=o+(n^(e|~s))+r[7]+1126891415&4294967295,o=e+(c<<10&4294967295|c>>>22),c=s+(e^(o|~n))+r[14]+2878612391&4294967295,s=o+(c<<15&4294967295|c>>>17),c=n+(o^(s|~e))+r[5]+4237533241&4294967295,n=s+(c<<21&4294967295|c>>>11),c=e+(s^(n|~o))+r[12]+1700485571&4294967295,e=n+(c<<6&4294967295|c>>>26),c=o+(n^(e|~s))+r[3]+2399980690&4294967295,o=e+(c<<10&4294967295|c>>>22),c=s+(e^(o|~n))+r[10]+4293915773&4294967295,s=o+(c<<15&4294967295|c>>>17),c=n+(o^(s|~e))+r[1]+2240044497&4294967295,n=s+(c<<21&4294967295|c>>>11),c=e+(s^(n|~o))+r[8]+1873313359&4294967295,e=n+(c<<6&4294967295|c>>>26),c=o+(n^(e|~s))+r[15]+4264355552&4294967295,o=e+(c<<10&4294967295|c>>>22),c=s+(e^(o|~n))+r[6]+2734768916&4294967295,s=o+(c<<15&4294967295|c>>>17),c=n+(o^(s|~e))+r[13]+1309151649&4294967295,n=s+(c<<21&4294967295|c>>>11),c=e+(s^(n|~o))+r[4]+4149444226&4294967295,e=n+(c<<6&4294967295|c>>>26),c=o+(n^(e|~s))+r[11]+3174756917&4294967295,o=e+(c<<10&4294967295|c>>>22),c=s+(e^(o|~n))+r[2]+718787259&4294967295,s=o+(c<<15&4294967295|c>>>17),c=n+(o^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(c<<21&4294967295|c>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+o&4294967295}jr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,o=0;o<e;){if(s==0)for(;o<=n;)M0(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[s++]=t.charCodeAt(o++),s==this.blockSize){M0(this,r),s=0;break}}else for(;o<e;)if(r[s++]=t[o++],s==this.blockSize){M0(this,r),s=0;break}}this.h=s,this.i+=e};jr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function et(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var o=t[s]|0;r&&o==e||(n[s]=o,r=!1)}this.g=n}var Nb={};function Zp(t){return-128<=t&&128>t?B6(t,function(e){return new et([e|0],0>e?-1:0)}):new et([t|0],0>t?-1:0)}function si(t){if(isNaN(t)||!isFinite(t))return ga;if(0>t)return fn(si(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ag;return new et(e,0)}function AC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return fn(AC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=si(Math.pow(e,8)),r=ga,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+o),e);8>o?(o=si(Math.pow(e,o)),r=r.R(o).add(si(c))):(r=r.R(n),r=r.add(si(c)))}return r}var ag=4294967296,ga=Zp(0),lg=Zp(1),qy=Zp(16777216);ie=et.prototype;ie.ea=function(){if(Ar(this))return-fn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ag+r)*e,e*=ag}return t};ie.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ai(this))return"0";if(Ar(this))return"-"+fn(this).toString(t);for(var e=si(Math.pow(t,6)),n=this,r="";;){var s=ad(n,e).g;n=od(n,s.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Ai(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};ie.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ai(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ar(t){return t.h==-1}ie.X=function(t){return t=od(this,t),Ar(t)?-1:Ai(t)?0:1};function fn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new et(n,~t.h).add(lg)}ie.abs=function(){return Ar(this)?fn(this):this};ie.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var o=r+(this.D(s)&65535)+(t.D(s)&65535),c=(o>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=c>>>16,o&=65535,c&=65535,n[s]=c<<16|o}return new et(n,n[n.length-1]&-2147483648?-1:0)};function od(t,e){return t.add(fn(e))}ie.R=function(t){if(Ai(this)||Ai(t))return ga;if(Ar(this))return Ar(t)?fn(this).R(fn(t)):fn(fn(this).R(t));if(Ar(t))return fn(this.R(fn(t)));if(0>this.X(qy)&&0>t.X(qy))return si(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var o=this.D(r)>>>16,c=this.D(r)&65535,g=t.D(s)>>>16,m=t.D(s)&65535;n[2*r+2*s]+=c*m,Gu(n,2*r+2*s),n[2*r+2*s+1]+=o*m,Gu(n,2*r+2*s+1),n[2*r+2*s+1]+=c*g,Gu(n,2*r+2*s+1),n[2*r+2*s+2]+=o*g,Gu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new et(n,0)};function Gu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function vl(t,e){this.g=t,this.h=e}function ad(t,e){if(Ai(e))throw Error("division by zero");if(Ai(t))return new vl(ga,ga);if(Ar(t))return e=ad(fn(t),e),new vl(fn(e.g),fn(e.h));if(Ar(e))return e=ad(t,fn(e)),new vl(fn(e.g),e.h);if(30<t.g.length){if(Ar(t)||Ar(e))throw Error("slowDivide_ only works with positive integers.");for(var n=lg,r=e;0>=r.X(t);)n=Qy(n),r=Qy(r);var s=Bo(n,1),o=Bo(r,1);for(r=Bo(r,2),n=Bo(n,2);!Ai(r);){var c=o.add(r);0>=c.X(t)&&(s=s.add(n),o=c),r=Bo(r,1),n=Bo(n,1)}return e=od(t,s.R(e)),new vl(s,e)}for(s=ga;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=si(n),c=o.R(e);Ar(c)||0<c.X(t);)n-=r,o=si(n),c=o.R(e);Ai(o)&&(o=lg),s=s.add(o),t=od(t,c)}return new vl(s,t)}ie.gb=function(t){return ad(this,t).h};ie.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new et(n,this.h&t.h)};ie.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new et(n,this.h|t.h)};ie.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new et(n,this.h^t.h)};function Qy(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new et(n,t.h)}function Bo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],o=0;o<r;o++)s[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new et(s,t.h)}sd.prototype.createWebChannel=sd.prototype.g;gr.prototype.send=gr.prototype.u;gr.prototype.open=gr.prototype.m;gr.prototype.close=gr.prototype.close;Qd.NO_ERROR=0;Qd.TIMEOUT=8;Qd.HTTP_ERROR=6;z_.COMPLETE="complete";H_.EventType=qc;qc.OPEN="a";qc.CLOSE="b";qc.ERROR="c";qc.MESSAGE="d";rn.prototype.listen=rn.prototype.O;kt.prototype.listenOnce=kt.prototype.P;kt.prototype.getLastError=kt.prototype.Sa;kt.prototype.getLastErrorCode=kt.prototype.Ia;kt.prototype.getStatus=kt.prototype.da;kt.prototype.getResponseJson=kt.prototype.Wa;kt.prototype.getResponseText=kt.prototype.ja;kt.prototype.send=kt.prototype.ha;kt.prototype.setWithCredentials=kt.prototype.Oa;jr.prototype.digest=jr.prototype.l;jr.prototype.reset=jr.prototype.reset;jr.prototype.update=jr.prototype.j;et.prototype.add=et.prototype.add;et.prototype.multiply=et.prototype.R;et.prototype.modulo=et.prototype.gb;et.prototype.compare=et.prototype.X;et.prototype.toNumber=et.prototype.ea;et.prototype.toString=et.prototype.toString;et.prototype.getBits=et.prototype.D;et.fromNumber=si;et.fromString=AC;var Rb=function(){return new sd},Ob=function(){return qd()},P0=Qd,kb=z_,Db=_o,Zy={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xu=H_,Mb=kt,Pb=jr,pa=et;const Jy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new bp("@firebase/firestore");function _l(){return uo.logLevel}function he(t,...e){if(uo.logLevel<=Le.DEBUG){const n=e.map(Jp);uo.debug(`Firestore (${Xa}): ${t}`,...n)}}function Li(t,...e){if(uo.logLevel<=Le.ERROR){const n=e.map(Jp);uo.error(`Firestore (${Xa}): ${t}`,...n)}}function Oa(t,...e){if(uo.logLevel<=Le.WARN){const n=e.map(Jp);uo.warn(`Firestore (${Xa}): ${t}`,...n)}}function Jp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t="Unexpected state"){const e=`FIRESTORE (${Xa}) INTERNAL ASSERTION FAILED: `+t;throw Li(e),new Error(e)}function qt(t,e){t||be()}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Cn.UNAUTHENTICATED))}shutdown(){}}class Bb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Fb{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let o=new Js;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Js,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const m=o;e.enqueueRetryable(async()=>{await m.promise,await s(this.currentUser)})},g=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(m=>g(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?g(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Js)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string"),new IC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new Cn(e)}}class Ub{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jb{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Ub(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zb{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qt(typeof n.token=="string"),this.R=n.token,new Vb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Hb(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%e.length))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function ka(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new xe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return er.fromMillis(Date.now())}static fromDate(e){return er.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new er(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new er(0,0))}static max(){return new Ie(new er(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(),r===void 0?r=e.length-n:r>e.length-n&&be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return bc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=e.get(s),c=n.get(s);if(o<c)return-1;if(o>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ot extends bc{construct(e,n,r){return new Ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ot(n)}static emptyPath(){return new Ot([])}}const $b=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends bc{construct(e,n,r){return new Kn(e,n,r)}static isValidIdentifier(e){return $b.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Kn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new xe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;s<e.length;){const g=e[s];if(g==="\\"){if(s+1===e.length)throw new xe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new xe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,s+=2}else g==="`"?(c=!c,s++):g!=="."||c?(r+=g,s++):(o(),s++)}if(o(),c)throw new xe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kn(n)}static emptyPath(){return new Kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(Ot.fromString(e))}static fromName(e){return new Ee(Ot.fromString(e).popFirst(5))}static empty(){return new Ee(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new Ot(e.slice()))}}function Gb(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(r===1e9?new er(n+1,0):new er(n,r));return new Is(s,Ee.empty(),e)}function Xb(t){return new Is(t.readTime,t.key,-1)}class Is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Is(Ie.min(),Ee.empty(),-1)}static max(){return new Is(Ie.max(),Ee.empty(),-1)}}function Yb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function em(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==Kb)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let s=0,o=0,c=!1;e.forEach(g=>{++s,g.next(()=>{++o,c&&o===s&&n()},m=>r(m))}),c=!0,o===s&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(s=>s?Q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,s)=>{const o=e.length,c=new Array(o);let g=0;for(let m=0;m<o;m++){const p=m;n(e[p]).next(w=>{c[p]=w,++g,g===o&&r(c)},w=>s(w))}})}static doWhile(e,n){return new Q((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function tu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}tm.ae=-1;function af(t){return t==null}function cg(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Qb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??hn.RED,this.left=s??hn.EMPTY,this.right=o??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new hn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return hn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,r,s,o){return this}insert(e,n,r){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tx(this.data.getIterator())}getIteratorFrom(e){return new tx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bn(this.comparator);return n.data=e,n}}class tx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.fields=e,e.sort(Kn.comparator)}static empty(){return new cs([])}unionWith(e){let n=new bn(Kn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ka(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new TC("Invalid base64 string: "+o):o}}(e);return new On(n)}static fromUint8Array(e){const n=function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o}(e);return new On(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}On.EMPTY_BYTE_STRING=new On("");const Zb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(t){if(qt(!!t),typeof t=="string"){let e=0;const n=Zb.exec(t);if(qt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ho(t){return typeof t=="string"?On.fromBase64String(t):On.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rm(t){const e=t.mapValue.fields.__previous_value__;return nm(e)?rm(e):e}function Nc(t){const e=Ts(t.mapValue.fields.__local_write_time__.timestampValue);return new er(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n,r,s,o,c,g,m,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=g,this.longPollingOptions=m,this.useFetchStreams=p}}class Rc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Rc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Rc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nm(t)?4:eN(t)?9007199254740991:10:be()}function gi(t,e){if(t===e)return!0;const n=fo(t);if(n!==fo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nc(t).isEqual(Nc(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=Ts(s.timestampValue),g=Ts(o.timestampValue);return c.seconds===g.seconds&&c.nanos===g.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return ho(s.bytesValue).isEqual(ho(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return jt(s.geoPointValue.latitude)===jt(o.geoPointValue.latitude)&&jt(s.geoPointValue.longitude)===jt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return jt(s.integerValue)===jt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=jt(s.doubleValue),g=jt(o.doubleValue);return c===g?cg(c)===cg(g):isNaN(c)&&isNaN(g)}return!1}(t,e);case 9:return ka(t.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:return function(s,o){const c=s.mapValue.fields||{},g=o.mapValue.fields||{};if(ex(c)!==ex(g))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(g[m]===void 0||!gi(c[m],g[m])))return!1;return!0}(t,e);default:return be()}}function Oc(t,e){return(t.values||[]).find(n=>gi(n,e))!==void 0}function Da(t,e){if(t===e)return 0;const n=fo(t),r=fo(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(o,c){const g=jt(o.integerValue||o.doubleValue),m=jt(c.integerValue||c.doubleValue);return g<m?-1:g>m?1:g===m?0:isNaN(g)?isNaN(m)?0:-1:1}(t,e);case 3:return nx(t.timestampValue,e.timestampValue);case 4:return nx(Nc(t),Nc(e));case 5:return qe(t.stringValue,e.stringValue);case 6:return function(o,c){const g=ho(o),m=ho(c);return g.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(o,c){const g=o.split("/"),m=c.split("/");for(let p=0;p<g.length&&p<m.length;p++){const w=qe(g[p],m[p]);if(w!==0)return w}return qe(g.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,c){const g=qe(jt(o.latitude),jt(c.latitude));return g!==0?g:qe(jt(o.longitude),jt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,c){const g=o.values||[],m=c.values||[];for(let p=0;p<g.length&&p<m.length;++p){const w=Da(g[p],m[p]);if(w)return w}return qe(g.length,m.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,c){if(o===Ku.mapValue&&c===Ku.mapValue)return 0;if(o===Ku.mapValue)return 1;if(c===Ku.mapValue)return-1;const g=o.fields||{},m=Object.keys(g),p=c.fields||{},w=Object.keys(p);m.sort(),w.sort();for(let v=0;v<m.length&&v<w.length;++v){const I=qe(m[v],w[v]);if(I!==0)return I;const R=Da(g[m[v]],p[w[v]]);if(R!==0)return R}return qe(m.length,w.length)}(t.mapValue,e.mapValue);default:throw be()}}function nx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=Ts(t),r=Ts(e),s=qe(n.seconds,r.seconds);return s!==0?s:qe(n.nanos,r.nanos)}function Ma(t){return ug(t)}function ug(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ts(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ho(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=ug(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${ug(n.fields[c])}`;return s+"}"}(t.mapValue):be()}function hg(t){return!!t&&"integerValue"in t}function im(t){return!!t&&"arrayValue"in t}function rx(t){return!!t&&"nullValue"in t}function ix(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function L0(t){return!!t&&"mapValue"in t}function Xl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return lf(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.value=e}static empty(){return new ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!L0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=Kn.emptyPath(),r={},s=[];e.forEach((c,g)=>{if(!n.isImmediateParentOf(g)){const m=this.getFieldsMap(n);this.applyChanges(m,r,s),r={},s=[],n=g.popLast()}c?r[g.lastSegment()]=Xl(c):s.push(g.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());L0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];L0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){lf(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new ni(Xl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n,r,s,o,c,g){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=c,this.documentState=g}static newInvalidDocument(e){return new In(e,0,Ie.min(),Ie.min(),Ie.min(),ni.empty(),0)}static newFoundDocument(e,n,r,s){return new In(e,1,n,Ie.min(),r,s,0)}static newNoDocument(e,n){return new In(e,2,n,Ie.min(),Ie.min(),ni.empty(),0)}static newUnknownDocument(e,n){return new In(e,3,n,Ie.min(),Ie.min(),ni.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.position=e,this.inclusive=n}}function sx(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],c=t.position[s];if(o.field.isKeyField()?r=Ee.comparator(Ee.fromName(c.referenceValue),n.key):r=Da(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function ox(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n="asc"){this.field=e,this.dir=n}}function tN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{}class Yt extends SC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rN(e,n,r):n==="array-contains"?new oN(e,r):n==="in"?new aN(e,r):n==="not-in"?new lN(e,r):n==="array-contains-any"?new cN(e,r):new Yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iN(e,r):new sN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Da(n,this.value)):n!==null&&fo(this.value)===fo(n)&&this.matchesComparison(Da(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class pi extends SC{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new pi(e,n)}matches(e){return bC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function bC(t){return t.op==="and"}function NC(t){return nN(t)&&bC(t)}function nN(t){for(const e of t.filters)if(e instanceof pi)return!1;return!0}function dg(t){if(t instanceof Yt)return t.field.canonicalString()+t.op.toString()+Ma(t.value);if(NC(t))return t.filters.map(e=>dg(e)).join(",");{const e=t.filters.map(n=>dg(n)).join(",");return`${t.op}(${e})`}}function RC(t,e){return t instanceof Yt?function(r,s){return s instanceof Yt&&r.op===s.op&&r.field.isEqual(s.field)&&gi(r.value,s.value)}(t,e):t instanceof pi?function(r,s){return s instanceof pi&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,c,g)=>o&&RC(c,s.filters[g]),!0):!1}(t,e):void be()}function OC(t){return t instanceof Yt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ma(n.value)}`}(t):t instanceof pi?function(n){return n.op.toString()+" {"+n.getFilters().map(OC).join(" ,")+"}"}(t):"Filter"}class rN extends Yt{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class iN extends Yt{constructor(e,n){super(e,"in",n),this.keys=kC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sN extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=kC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class oN extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return im(n)&&Oc(n.arrayValue,this.value)}}class aN extends Yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Oc(this.value.arrayValue,n)}}class lN extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Oc(this.value.arrayValue,n)}}class cN extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!im(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Oc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n=null,r=[],s=[],o=null,c=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=c,this.endAt=g,this.he=null}}function ax(t,e=null,n=[],r=[],s=null,o=null,c=null){return new uN(t,e,n,r,s,o,c)}function sm(t){const e=He(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ma(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ma(r)).join(",")),e.he=n}return e.he}function om(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ox(t.startAt,e.startAt)&&ox(t.endAt,e.endAt)}function fg(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n=null,r=[],s=[],o=null,c="F",g=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=g,this.endAt=m,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function hN(t,e,n,r,s,o,c,g){return new cf(t,e,n,r,s,o,c,g)}function DC(t){return new cf(t)}function lx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dN(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function fN(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function gN(t){return t.collectionGroup!==null}function Kl(t){const e=He(t);if(e.Pe===null){e.Pe=[];const n=fN(e),r=dN(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Yl(n)),e.Pe.push(new Yl(Kn.keyField(),"asc"));else{let s=!1;for(const o of e.explicitOrderBy)e.Pe.push(o),o.field.isKeyField()&&(s=!0);if(!s){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Yl(Kn.keyField(),o))}}}return e.Pe}function ui(t){const e=He(t);return e.Ie||(e.Ie=pN(e,Kl(t))),e.Ie}function pN(t,e){if(t.limitType==="F")return ax(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Yl(s.field,o)});const n=t.endAt?new ld(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ld(t.startAt.position,t.startAt.inclusive):null;return ax(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gg(t,e,n){return new cf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uf(t,e){return om(ui(t),ui(e))&&t.limitType===e.limitType}function MC(t){return`${sm(ui(t))}|lt:${t.limitType}`}function Ho(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>OC(s)).join(", ")}]`),af(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ma(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ma(s)).join(",")),`Target(${r})`}(ui(t))}; limitType=${t.limitType})`}function hf(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Kl(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(c,g,m){const p=sx(c,g,m);return c.inclusive?p<=0:p<0}(r.startAt,Kl(r),s)||r.endAt&&!function(c,g,m){const p=sx(c,g,m);return c.inclusive?p>=0:p>0}(r.endAt,Kl(r),s))}(t,e)}function mN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PC(t){return(e,n)=>{let r=!1;for(const s of Kl(t)){const o=yN(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function yN(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(o,c,g){const m=c.data.field(o),p=g.data.field(o);return m!==null&&p!==null?Da(m,p):be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){lf(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return Qb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=new Bt(Ee.comparator);function Ss(){return xN}const LC=new Bt(Ee.comparator);function Pl(...t){let e=LC;for(const n of t)e=e.insert(n.key,n);return e}function wN(t){let e=LC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ks(){return ql()}function BC(){return ql()}function ql(){return new Ya(t=>t.toString(),(t,e)=>t.isEqual(e))}const EN=new bn(Ee.comparator);function Ve(...t){let e=EN;for(const n of t)e=e.add(n);return e}const vN=new bn(qe);function _N(){return vN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cg(e)?"-0":e}}function AN(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this._=void 0}}function IN(t,e,n){return t instanceof pg?function(s,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&nm(o)&&(o=rm(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}}(n,e):t instanceof cd?FC(t,e):t instanceof ud?UC(t,e):function(s,o){const c=SN(s,o),g=cx(c)+cx(s.Te);return hg(c)&&hg(s.Te)?AN(g):CN(s.serializer,g)}(t,e)}function TN(t,e,n){return t instanceof cd?FC(t,e):t instanceof ud?UC(t,e):n}function SN(t,e){return t instanceof mg?function(r){return hg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class pg extends df{}class cd extends df{constructor(e){super(),this.elements=e}}function FC(t,e){const n=jC(e);for(const r of t.elements)n.some(s=>gi(s,r))||n.push(r);return{arrayValue:{values:n}}}class ud extends df{constructor(e){super(),this.elements=e}}function UC(t,e){let n=jC(e);for(const r of t.elements)n=n.filter(s=>!gi(s,r));return{arrayValue:{values:n}}}class mg extends df{constructor(e,n){super(),this.serializer=e,this.Te=n}}function cx(t){return jt(t.integerValue||t.doubleValue)}function jC(t){return im(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function bN(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof cd&&s instanceof cd||r instanceof ud&&s instanceof ud?ka(r.elements,s.elements,gi):r instanceof mg&&s instanceof mg?gi(r.Te,s.Te):r instanceof pg&&s instanceof pg}(t.transform,e.transform)}class eo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new eo}static exists(e){return new eo(void 0,e)}static updateTime(e){return new eo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class am{}function VC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new RN(t.key,eo.none()):new lm(t.key,t.data,eo.none());{const n=t.data,r=ni.empty();let s=new bn(Kn.comparator);for(let o of e.fields)if(!s.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),s=s.add(o)}return new ff(t.key,r,new cs(s.toArray()),eo.none())}}function NN(t,e,n){t instanceof lm?function(s,o,c){const g=s.value.clone(),m=hx(s.fieldTransforms,o,c.transformResults);g.setAll(m),o.convertToFoundDocument(c.version,g).setHasCommittedMutations()}(t,e,n):t instanceof ff?function(s,o,c){if(!gh(s.precondition,o))return void o.convertToUnknownDocument(c.version);const g=hx(s.fieldTransforms,o,c.transformResults),m=o.data;m.setAll(zC(s)),m.setAll(g),o.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Ql(t,e,n,r){return t instanceof lm?function(o,c,g,m){if(!gh(o.precondition,c))return g;const p=o.value.clone(),w=dx(o.fieldTransforms,m,c);return p.setAll(w),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof ff?function(o,c,g,m){if(!gh(o.precondition,c))return g;const p=dx(o.fieldTransforms,m,c),w=c.data;return w.setAll(zC(o)),w.setAll(p),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),g===null?null:g.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(o,c,g){return gh(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):g}(t,e,n)}function ux(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ka(r,s,(o,c)=>bN(o,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lm extends am{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ff extends am{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function zC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function hx(t,e,n){const r=new Map;qt(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],c=o.transform,g=e.data.field(o.field);r.set(o.field,TN(c,g,n[s]))}return r}function dx(t,e,n){const r=new Map;for(const s of t){const o=s.transform,c=n.data.field(s.field);r.set(s.field,IN(o,c,e))}return r}class RN extends am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&NN(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BC();return this.mutations.forEach(s=>{const o=e.get(s.key),c=o.overlayedDocument;let g=this.applyToLocalView(c,o.mutatedFields);g=n.has(s.key)?null:g;const m=VC(c,g);m!==null&&r.set(s.key,m),c.isValidDocument()||c.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&ka(this.mutations,e.mutations,(n,r)=>ux(n,r))&&ka(this.baseMutations,e.baseMutations,(n,r)=>ux(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,Fe;function HC(t){if(t===void 0)return Li("GRPC error has no .code"),re.UNKNOWN;switch(t){case Ut.OK:return re.OK;case Ut.CANCELLED:return re.CANCELLED;case Ut.UNKNOWN:return re.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return re.INTERNAL;case Ut.UNAVAILABLE:return re.UNAVAILABLE;case Ut.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Ut.NOT_FOUND:return re.NOT_FOUND;case Ut.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Ut.ABORTED:return re.ABORTED;case Ut.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Ut.DATA_LOSS:return re.DATA_LOSS;default:return be()}}(Fe=Ut||(Ut={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=new pa([4294967295,4294967295],0);function fx(t){const e=MN().encode(t),n=new Pb;return n.update(e),new Uint8Array(n.digest())}function gx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new pa([n,r],0),new pa([s,o],0)]}class cm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=pa.fromNumber(this.Ae)}Ve(e,n,r){let s=e.add(n.multiply(pa.fromNumber(r)));return s.compare(PN)===1&&(s=new pa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=fx(e),[r,s]=gx(n);for(let o=0;o<this.hashCount;o++){const c=this.Ve(r,s,o);if(!this.me(c))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new cm(o,s,n);return r.forEach(g=>c.insert(g)),c}insert(e){if(this.Ae===0)return;const n=fx(e),[r,s]=gx(n);for(let o=0;o<this.hashCount;o++){const c=this.Ve(r,s,o);this.fe(c)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gf(Ie.min(),s,new Bt(qe),Ss(),Ve())}}class nu{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nu(r,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,r,s){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=s}}class WC{constructor(e,n){this.targetId=e,this.ye=n}}class $C{constructor(e,n,r=On.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class px{constructor(){this.we=0,this.Se=yx(),this.be=On.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=Ve(),n=Ve(),r=Ve();return this.Se.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:be()}}),new nu(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=yx()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class LN{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=Ss(),this.Ue=mx(),this.We=new Bt(qe)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,s)=>{this.Ye(s)&&n(s)})}Xe(e){const n=e.targetId,r=e.ye.count,s=this.et(n);if(s){const o=s.target;if(fg(o))if(r===0){const c=new Ee(o.path);this.je(n,c,In.newNoDocument(c,Ie.min()))}else qt(r===1);else{const c=this.tt(n);if(c!==r){const g=this.nt(e),m=g?this.rt(g,e,c):1;if(m!==0){this.Ze(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,p)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let c,g;try{c=ho(r).toUint8Array()}catch(m){if(m instanceof TC)return Oa("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{g=new cm(c,s,o)}catch(m){return Oa(m instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return g.Ae===0?null:g}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const c=this.Qe.st(),g=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(g)||(this.je(n,o,null),s++)}),s}_t(e){const n=new Map;this.Ke.forEach((o,c)=>{const g=this.et(c);if(g){if(o.current&&fg(g.target)){const m=new Ee(g.target.path);this.$e.get(m)!==null||this.ut(c,m)||this.je(c,m,In.newNoDocument(m,e))}o.Fe&&(n.set(c,o.xe()),o.Oe())}});let r=Ve();this.Ue.forEach((o,c)=>{let g=!0;c.forEachWhile(m=>{const p=this.et(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(r=r.add(o))}),this.$e.forEach((o,c)=>c.setReadTime(e));const s=new gf(e,n,this.We,this.$e,r);return this.$e=Ss(),this.Ue=mx(),this.We=new Bt(qe),s}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const s=this.Je(e);this.ut(e,n)?s.Ne(n,1):s.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new px,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new bn(qe),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new px),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function mx(){return new Bt(Ee.comparator)}function yx(){return new Bt(Ee.comparator)}const BN=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),FN=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),UN=(()=>({and:"AND",or:"OR"}))();class jN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yg(t,e){return t.useProto3Json||af(e)?e:{value:e}}function VN(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ma(t){return qt(!!t),Ie.fromTimestamp(function(n){const r=Ts(n);return new er(r.seconds,r.nanos)}(t))}function HN(t,e){return function(r){return new Ot(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function GC(t){const e=Ot.fromString(t);return qt(qC(e)),e}function B0(t,e){const n=GC(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(XC(n))}function xg(t,e){return HN(t.databaseId,e)}function WN(t){const e=GC(t);return e.length===4?Ot.emptyPath():XC(e)}function xx(t){return new Ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XC(t){return qt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $N(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(p,w){return p.useProto3Json?(qt(w===void 0||typeof w=="string"),On.fromBase64String(w||"")):(qt(w===void 0||w instanceof Uint8Array),On.fromUint8Array(w||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,g=c&&function(p){const w=p.code===void 0?re.UNKNOWN:HC(p.code);return new xe(w,p.message||"")}(c);n=new $C(r,s,o,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=B0(t,r.document.name),o=ma(r.document.updateTime),c=r.document.createTime?ma(r.document.createTime):Ie.min(),g=new ni({mapValue:{fields:r.document.fields}}),m=In.newFoundDocument(s,o,c,g),p=r.targetIds||[],w=r.removedTargetIds||[];n=new ph(p,w,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=B0(t,r.document),o=r.readTime?ma(r.readTime):Ie.min(),c=In.newNoDocument(s,o),g=r.removedTargetIds||[];n=new ph([],g,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=B0(t,r.document),o=r.removedTargetIds||[];n=new ph([],o,s,null)}else{if(!("filter"in e))return be();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,c=new DN(s,o),g=r.targetId;n=new WC(g,c)}}return n}function GN(t,e){return{documents:[xg(t,e.path)]}}function XN(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=xg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=xg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(m){if(m.length!==0)return KC(pi.create(m,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(m){if(m.length!==0)return m.map(p=>function(v){return{field:Wo(v.field),direction:qN(v.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=yg(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),n}function YN(t){let e=WN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){qt(r===1);const w=n.from[0];w.allDescendants?s=w.collectionId:e=e.child(w.collectionId)}let o=[];n.where&&(o=function(v){const I=YC(v);return I instanceof pi&&NC(I)?I.getFilters():[I]}(n.where));let c=[];n.orderBy&&(c=function(v){return v.map(I=>function(M){return new Yl($o(M.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(I))}(n.orderBy));let g=null;n.limit&&(g=function(v){let I;return I=typeof v=="object"?v.value:v,af(I)?null:I}(n.limit));let m=null;n.startAt&&(m=function(v){const I=!!v.before,R=v.values||[];return new ld(R,I)}(n.startAt));let p=null;return n.endAt&&(p=function(v){const I=!v.before,R=v.values||[];return new ld(R,I)}(n.endAt)),hN(e,s,c,o,g,"F",m,p)}function KN(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$o(n.unaryFilter.field);return Yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=$o(n.unaryFilter.field);return Yt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=$o(n.unaryFilter.field);return Yt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=$o(n.unaryFilter.field);return Yt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):t.fieldFilter!==void 0?function(n){return Yt.create($o(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pi.create(n.compositeFilter.filters.map(r=>YC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(t):be()}function qN(t){return BN[t]}function QN(t){return FN[t]}function ZN(t){return UN[t]}function Wo(t){return{fieldPath:t.canonicalString()}}function $o(t){return Kn.fromServerFormat(t.fieldPath)}function KC(t){return t instanceof Yt?function(n){if(n.op==="=="){if(ix(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NAN"}};if(rx(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ix(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NOT_NAN"}};if(rx(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wo(n.field),op:QN(n.op),value:n.value}}}(t):t instanceof pi?function(n){const r=n.getFilters().map(s=>KC(s));return r.length===1?r[0]:{compositeFilter:{op:ZN(n.op),filters:r}}}(t):be()}function qC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n,r,s,o=Ie.min(),c=Ie.min(),g=On.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=g,this.expectedCount=m}withSequenceNumber(e){return new us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.ht=e}}function e5(t){const e=YN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(){this.an=new n5}addToCollectionParentIndex(e,n){return this.an.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Is.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class n5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new bn(Ot.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new bn(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new Pa(0)}static Ln(){return new Pa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(){this.changes=new Ya(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ql(r.mutation,s,cs.empty(),er.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ve()){const s=Ks();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let c=Pl();return o.forEach((g,m)=>{c=c.insert(g,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=Ks();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ve()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((c,g)=>{n.set(c,g)})})}computeViews(e,n,r,s){let o=Ss();const c=ql(),g=function(){return ql()}();return n.forEach((m,p)=>{const w=r.get(p.key);s.has(p.key)&&(w===void 0||w.mutation instanceof ff)?o=o.insert(p.key,p):w!==void 0?(c.set(p.key,w.mutation.getFieldMask()),Ql(w.mutation,p,w.mutation.getFieldMask(),er.now())):c.set(p.key,cs.empty())}),this.recalculateAndSaveOverlays(e,o).next(m=>(m.forEach((p,w)=>c.set(p,w)),n.forEach((p,w)=>{var v;return g.set(p,new i5(w,(v=c.get(p))!==null&&v!==void 0?v:null))}),g))}recalculateAndSaveOverlays(e,n){const r=ql();let s=new Bt((c,g)=>c-g),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const g of c)g.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let w=r.get(m)||cs.empty();w=g.applyToLocalView(p,w),r.set(m,w);const v=(s.get(g.batchId)||Ve()).add(m);s=s.insert(g.batchId,v)})}).next(()=>{const c=[],g=s.getReverseIterator();for(;g.hasNext();){const m=g.getNext(),p=m.key,w=m.value,v=BC();w.forEach(I=>{if(!o.has(I)){const R=VC(n.get(I),r.get(I));R!==null&&v.set(I,R),o=o.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,v))}return Q.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):Q.resolve(Ks());let g=-1,m=o;return c.next(p=>Q.forEach(p,(w,v)=>(g<v.largestBatchId&&(g=v.largestBatchId),o.get(w)?Q.resolve():this.remoteDocumentCache.getEntry(e,w).next(I=>{m=m.insert(w,I)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,m,p,Ve())).next(w=>({batchId:g,changes:wN(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(r=>{let s=Pl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let c=Pl();return this.indexManager.getCollectionParents(e,o).next(g=>Q.forEach(g,m=>{const p=function(v,I){return new cf(I,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,m.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(w=>{w.forEach((v,I)=>{c=c.insert(v,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(c=>{o.forEach((m,p)=>{const w=p.getKey();c.get(w)===null&&(c=c.insert(w,In.newInvalidDocument(w)))});let g=Pl();return c.forEach((m,p)=>{const w=o.get(m);w!==void 0&&Ql(w.mutation,p,cs.empty(),er.now()),hf(n,p)&&(g=g.insert(m,p))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return Q.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ma(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(s){return{name:s.name,query:e5(s.bundledQuery),readTime:ma(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(){this.overlays=new Bt(Ee.comparator),this.Pr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ks();return Q.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.It(e,n,o)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Pr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Pr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Ks(),o=n.length+1,c=new Ee(n.child("")),g=this.overlays.getIteratorFrom(c);for(;g.hasNext();){const m=g.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&m.largestBatchId>r&&s.set(m.getKey(),m)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Bt((p,w)=>p-w);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let w=o.get(p.largestBatchId);w===null&&(w=Ks(),o=o.insert(p.largestBatchId,w)),w.set(p.getKey(),p)}}const g=Ks(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,w)=>g.set(p,w)),!(g.size()>=s)););return Q.resolve(g)}It(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.Pr.get(s.largestBatchId).delete(r.key);this.Pr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new kN(n,r));let o=this.Pr.get(n);o===void 0&&(o=Ve(),this.Pr.set(n,o)),this.Pr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(){this.Ir=new bn(en.dr),this.Tr=new bn(en.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new en(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new en(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new Ee(new Ot([])),r=new en(n,e),s=new en(n,e+1),o=[];return this.Tr.forEachInRange([r,s],c=>{this.Rr(c),o.push(c.key)}),o}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new Ee(new Ot([])),r=new en(n,e),s=new en(n,e+1);let o=Ve();return this.Tr.forEachInRange([r,s],c=>{o=o.add(c.key)}),o}containsKey(e){const n=new en(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return Ee.comparator(e.key,n.key)||qe(e.yr,n.yr)}static Er(e,n){return qe(e.yr,n.yr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new bn(en.dr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new ON(o,n,r,s);this.mutationQueue.push(c);for(const g of s)this.Sr=this.Sr.add(new en(g.key,o)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Q.resolve(c)}lookupMutationBatch(e,n){return Q.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Dr(r),o=s<0?0:s;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new en(n,0),s=new en(n,Number.POSITIVE_INFINITY),o=[];return this.Sr.forEachInRange([r,s],c=>{const g=this.br(c.yr);o.push(g)}),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bn(qe);return n.forEach(s=>{const o=new en(s,0),c=new en(s,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([o,c],g=>{r=r.add(g.yr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Ee.isDocumentKey(o)||(o=o.child(""));const c=new en(new Ee(o),0);let g=new bn(qe);return this.Sr.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(g=g.add(m.yr)),!0)},c),Q.resolve(this.Cr(g))}Cr(e){const n=[];return e.forEach(r=>{const s=this.br(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){qt(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return Q.forEach(n.mutations,s=>{const o=new en(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new en(n,0),s=this.Sr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e){this.Fr=e,this.docs=function(){return new Bt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,c=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():In.newInvalidDocument(n))}getEntries(e,n){let r=Ss();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():In.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Ss();const c=n.path,g=new Ee(c.child("")),m=this.docs.getIteratorFrom(g);for(;m.hasNext();){const{key:p,value:{document:w}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||Yb(Xb(w),r)<=0||(s.has(w.key)||hf(n,w))&&(o=o.insert(w.key,w.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(e,n,r,s){be()}Mr(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new u5(this)}getSize(e){return Q.resolve(this.size)}}class u5 extends r5{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ur.addEntry(e,s)):this.ur.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e){this.persistence=e,this.Or=new Ya(n=>sm(n),om),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Nr=0,this.Br=new um,this.targetCount=0,this.Lr=Pa.Bn()}forEachTarget(e,n){return this.Or.forEach((r,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),Q.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Pa(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Qn(n),Q.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.Or.forEach((c,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.Or.delete(c),o.push(this.removeMatchingKeysForTargetId(e,g.targetId)),s++)}),Q.waitFor(o).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(c=>{o.push(s.markPotentiallyOrphaned(e,c))}),Q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,n){this.kr={},this.overlays={},this.qr=new tm(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new h5(this),this.indexManager=new t5,this.remoteDocumentCache=function(s){return new c5(s)}(r=>this.referenceDelegate.$r(r)),this.serializer=new JN(n),this.Ur=new o5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new a5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new l5(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const s=new f5(this.qr.next());return this.referenceDelegate.Wr(),r(s).next(o=>this.referenceDelegate.Gr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}zr(e,n){return Q.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class f5 extends qb{constructor(e){super(),this.currentSequenceNumber=e}}class hm{constructor(e){this.persistence=e,this.jr=new um,this.Hr=null}static Jr(e){return new hm(e)}get Yr(){if(this.Hr)return this.Hr;throw be()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(s=>this.Yr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Yr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Yr,r=>{const s=Ee.fromPath(r);return this.Zr(e,s).next(o=>{o||n.removeEntry(s,Ie.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return Q.or([()=>Q.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=s}static $i(e,n){let r=Ve(),s=Ve();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new dm(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.Hi(e,n).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.Ji(e,n,s,r).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new g5;return this.Yi(e,n,c).next(g=>{if(o.result=g,this.Wi)return this.Zi(e,n,c,g.size)})}).next(()=>o.result)}Zi(e,n,r,s){return r.documentReadCount<this.Gi?(_l()<=Le.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),Q.resolve()):(_l()<=Le.DEBUG&&he("QueryEngine","Query:",Ho(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.zi*s?(_l()<=Le.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(n))):Q.resolve())}Hi(e,n){if(lx(n))return Q.resolve(null);let r=ui(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=gg(n,null,"F"),r=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=Ve(...o);return this.ji.getDocuments(e,c).next(g=>this.indexManager.getMinOffset(e,r).next(m=>{const p=this.Xi(n,g);return this.es(n,p,c,m.readTime)?this.Hi(e,gg(n,null,"F")):this.ts(e,p,n,m)}))})))}Ji(e,n,r,s){return lx(n)||s.isEqual(Ie.min())?Q.resolve(null):this.ji.getDocuments(e,r).next(o=>{const c=this.Xi(n,o);return this.es(n,c,r,s)?Q.resolve(null):(_l()<=Le.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ho(n)),this.ts(e,c,n,Gb(s,-1)).next(g=>g))})}Xi(e,n){let r=new bn(PC(e));return n.forEach((s,o)=>{hf(e,o)&&(r=r.add(o))}),r}es(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Yi(e,n,r){return _l()<=Le.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ho(n)),this.ji.getDocumentsMatchingQuery(e,n,Is.min(),r)}ts(e,n,r,s){return this.ji.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n,r,s){this.persistence=e,this.ns=n,this.serializer=s,this.rs=new Bt(qe),this.ss=new Ya(o=>sm(o),om),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s5(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function y5(t,e,n,r){return new m5(t,e,n,r)}async function QC(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],g=[];let m=Ve();for(const p of s){c.push(p.batchId);for(const w of p.mutations)m=m.add(w.key)}for(const p of o){g.push(p.batchId);for(const w of p.mutations)m=m.add(w.key)}return n.localDocuments.getDocuments(r,m).next(p=>({cs:p,removedBatchIds:c,addedBatchIds:g}))})})}function ZC(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function x5(t,e){const n=He(t),r=e.snapshotVersion;let s=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=n._s.newChangeBuffer({trackRemovals:!0});s=n.rs;const g=[];e.targetChanges.forEach((w,v)=>{const I=s.get(v);if(!I)return;g.push(n.Kr.removeMatchingKeys(o,w.removedDocuments,v).next(()=>n.Kr.addMatchingKeys(o,w.addedDocuments,v)));let R=I.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?R=R.withResumeToken(On.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):w.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(w.resumeToken,r)),s=s.insert(v,R),function(D,U,k){return D.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(I,R,w)&&g.push(n.Kr.updateTargetData(o,R))});let m=Ss(),p=Ve();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(o,w))}),g.push(w5(o,c,e.documentUpdates).next(w=>{m=w.ls,p=w.hs})),!r.isEqual(Ie.min())){const w=n.Kr.getLastRemoteSnapshotVersion(o).next(v=>n.Kr.setTargetsMetadata(o,o.currentSequenceNumber,r));g.push(w)}return Q.waitFor(g).next(()=>c.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,m,p)).next(()=>m)}).then(o=>(n.rs=s,o))}function w5(t,e,n){let r=Ve(),s=Ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let c=Ss();return n.forEach((g,m)=>{const p=o.get(g);m.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(g)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(g,m.readTime),c=c.insert(g,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(g,m)):he("LocalStore","Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",m.version)}),{ls:c,hs:s}})}function E5(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Kr.getTargetData(r,e).next(o=>o?(s=o,Q.resolve(s)):n.Kr.allocateTargetId(r).next(c=>(s=new us(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.rs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}async function wg(t,e,n){const r=He(t),s=r.rs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!tu(c))throw c;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.rs=r.rs.remove(e),r.ss.delete(s.target)}function wx(t,e,n){const r=He(t);let s=Ie.min(),o=Ve();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,w){const v=He(m),I=v.ss.get(w);return I!==void 0?Q.resolve(v.rs.get(I)):v.Kr.getTargetData(p,w)}(r,c,ui(e)).next(g=>{if(g)return s=g.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(c,g.targetId).next(m=>{o=m})}).next(()=>r.ns.getDocumentsMatchingQuery(c,e,n?s:Ie.min(),n?o:Ve())).next(g=>(v5(r,mN(e),g),{documents:g,Ps:o})))}function v5(t,e,n){let r=t.os.get(e)||Ie.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.os.set(e,r)}class Ex{constructor(){this.activeTargetIds=_N()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _5{constructor(){this.ro=new Ex,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new Ex,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{so(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=null;function F0(){return qu===null?qu=function(){return 268435456+Math.round(2147483648*Math.random())}():qu++,"0x"+qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class T5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get So(){return!1}bo(n,r,s,o,c){const g=F0(),m=this.Do(n,r);he("RestConnection",`Sending RPC '${n}' ${g}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(p,o,c),this.vo(n,m,p,s).then(w=>(he("RestConnection",`Received RPC '${n}' ${g}: `,w),w),w=>{throw Oa("RestConnection",`RPC '${n}' ${g} failed with error: `,w,"url: ",m,"request:",s),w})}Fo(n,r,s,o,c,g){return this.bo(n,r,s,o,c)}Co(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,c)=>n[c]=o),s&&s.headers.forEach((o,c)=>n[c]=o)}Do(n,r){const s=A5[n];return`${this.po}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const o=F0();return new Promise((c,g)=>{const m=new Mb;m.setWithCredentials(!0),m.listenOnce(kb.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case P0.NO_ERROR:const w=m.getResponseJson();he(vn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(w)),c(w);break;case P0.TIMEOUT:he(vn,`RPC '${e}' ${o} timed out`),g(new xe(re.DEADLINE_EXCEEDED,"Request time out"));break;case P0.HTTP_ERROR:const v=m.getStatus();if(he(vn,`RPC '${e}' ${o} failed with status:`,v,"response text:",m.getResponseText()),v>0){let I=m.getResponseJson();Array.isArray(I)&&(I=I[0]);const R=I==null?void 0:I.error;if(R&&R.status&&R.message){const M=function(U){const k=U.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(k)>=0?k:re.UNKNOWN}(R.status);g(new xe(M,R.message))}else g(new xe(re.UNKNOWN,"Server responded with status "+m.getStatus()))}else g(new xe(re.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{he(vn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(s);he(vn,`RPC '${e}' ${o} sending request:`,s),m.send(n,"POST",p,r,15)})}Mo(e,n,r){const s=F0(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Rb(),g=Ob(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Co(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const w=o.join("");he(vn,`Creating RPC '${e}' stream ${s}: ${w}`,m);const v=c.createWebChannel(w,m);let I=!1,R=!1;const M=new I5({ho:U=>{R?he(vn,`Not sending because RPC '${e}' stream ${s} is closed:`,U):(I||(he(vn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),I=!0),he(vn,`RPC '${e}' stream ${s} sending:`,U),v.send(U))},Po:()=>v.close()}),D=(U,k,S)=>{U.listen(k,O=>{try{S(O)}catch(B){setTimeout(()=>{throw B},0)}})};return D(v,Xu.EventType.OPEN,()=>{R||he(vn,`RPC '${e}' stream ${s} transport opened.`)}),D(v,Xu.EventType.CLOSE,()=>{R||(R=!0,he(vn,`RPC '${e}' stream ${s} transport closed`),M.mo())}),D(v,Xu.EventType.ERROR,U=>{R||(R=!0,Oa(vn,`RPC '${e}' stream ${s} transport errored:`,U),M.mo(new xe(re.UNAVAILABLE,"The operation could not be completed")))}),D(v,Xu.EventType.MESSAGE,U=>{var k;if(!R){const S=U.data[0];qt(!!S);const O=S,B=O.error||((k=O[0])===null||k===void 0?void 0:k.error);if(B){he(vn,`RPC '${e}' stream ${s} received error:`,B);const X=B.status;let G=function($){const se=Ut[$];if(se!==void 0)return HC(se)}(X),F=B.message;G===void 0&&(G=re.INTERNAL,F="Unknown error status: "+X+" with message "+B.message),R=!0,M.mo(new xe(G,F)),v.close()}else he(vn,`RPC '${e}' stream ${s} received:`,S),M.fo(S)}}),D(g,Db.STAT_EVENT,U=>{U.stat===Zy.PROXY?he(vn,`RPC '${e}' stream ${s} detected buffering proxy`):U.stat===Zy.NOPROXY&&he(vn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{M.Vo()},0),M}}function U0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t){return new jN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n,r=1e3,s=1.5,o=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=s,this.No=o,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),s=Math.max(0,n-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,s,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n,r,s,o,c,g,m){this._i=e,this.Uo=r,this.Wo=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=g,this.listener=m,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new eA(e,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,e!==4?this.Ho.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Li(n.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Go===n&&this.__(r,s)},r=>{e(()=>{const s=new xe(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(s)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(s=>{r(()=>this.a_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class b5 extends S5{constructor(e,n,r,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,c),this.serializer=o}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=$N(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ie.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?ma(c.readTime):Ie.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=xx(this.serializer),n.addTarget=function(o,c){let g;const m=c.target;if(g=fg(m)?{documents:GN(o,m)}:{query:XN(o,m)},g.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){g.resumeToken=zN(o,c.resumeToken);const p=yg(o,c.expectedCount);p!==null&&(g.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ie.min())>0){g.readTime=VN(o,c.snapshotVersion.toTimestamp());const p=yg(o,c.expectedCount);p!==null&&(g.expectedCount=p)}return g}(this.serializer,e);const r=KN(this.serializer,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=xx(this.serializer),n.removeTarget=e,this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.R_=!1}V_(){if(this.R_)throw new xe(re.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.bo(e,n,r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(re.UNKNOWN,s.toString())})}Fo(e,n,r,s){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Fo(e,n,r,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(re.UNKNOWN,o.toString())})}terminate(){this.R_=!0}}class R5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,e==="Online"&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(Li(n),this.p_=!1):he("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=o,this.x_.so(c=>{r.enqueueAndForget(async()=>{iu(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(m){const p=He(m);p.F_.add(4),await ru(p),p.O_.set("Unknown"),p.F_.delete(4),await pf(p)}(this))})}),this.O_=new R5(r,s)}}async function pf(t){if(iu(t))for(const e of t.M_)await e(!0)}async function ru(t){for(const e of t.M_)await e(!1)}function tA(t,e){const n=He(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),pm(n)?gm(n):Ka(n).Yo()&&fm(n,e))}function nA(t,e){const n=He(t),r=Ka(n);n.v_.delete(e),r.Yo()&&rA(n,e),n.v_.size===0&&(r.Yo()?r.e_():iu(n)&&n.O_.set("Unknown"))}function fm(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ka(t).l_(e)}function rA(t,e){t.N_.Le(e),Ka(t).h_(e)}function gm(t){t.N_=new LN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),Ka(t).start(),t.O_.y_()}function pm(t){return iu(t)&&!Ka(t).Jo()&&t.v_.size>0}function iu(t){return He(t).F_.size===0}function iA(t){t.N_=void 0}async function k5(t){t.v_.forEach((e,n)=>{fm(t,e)})}async function D5(t,e){iA(t),pm(t)?(t.O_.b_(e),gm(t)):t.O_.set("Unknown")}async function M5(t,e,n){if(t.O_.set("Online"),e instanceof $C&&e.state===2&&e.cause)try{await async function(s,o){const c=o.cause;for(const g of o.targetIds)s.v_.has(g)&&(await s.remoteSyncer.rejectListen(g,c),s.v_.delete(g),s.N_.removeTarget(g))}(t,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _x(t,r)}else if(e instanceof ph?t.N_.Ge(e):e instanceof WC?t.N_.Xe(e):t.N_.He(e),!n.isEqual(Ie.min()))try{const r=await ZC(t.localStore);n.compareTo(r)>=0&&await function(o,c){const g=o.N_._t(c);return g.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const w=o.v_.get(p);w&&o.v_.set(p,w.withResumeToken(m.resumeToken,c))}}),g.targetMismatches.forEach((m,p)=>{const w=o.v_.get(m);if(!w)return;o.v_.set(m,w.withResumeToken(On.EMPTY_BYTE_STRING,w.snapshotVersion)),rA(o,m);const v=new us(w.target,m,p,w.sequenceNumber);fm(o,v)}),o.remoteSyncer.applyRemoteEvent(g)}(t,n)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await _x(t,r)}}async function _x(t,e,n){if(!tu(e))throw e;t.F_.add(1),await ru(t),t.O_.set("Offline"),n||(n=()=>ZC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await n(),t.F_.delete(1),await pf(t)})}async function Cx(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=iu(n);n.F_.add(3),await ru(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),await pf(n)}async function P5(t,e){const n=He(t);e?(n.F_.delete(2),await pf(n)):e||(n.F_.add(2),await ru(n),n.O_.set("Unknown"))}function Ka(t){return t.B_||(t.B_=function(n,r,s){const o=He(n);return o.V_(),new b5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Io:k5.bind(null,t),Eo:D5.bind(null,t),c_:M5.bind(null,t)}),t.M_.push(async e=>{e?(t.B_.Xo(),pm(t)?gm(t):t.O_.set("Unknown")):(await t.B_.stop(),iA(t))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const c=Date.now()+r,g=new mm(e,n,c,s,o);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sA(t,e){if(Li("AsyncQueue",`${e}: ${t}`),tu(t))return new xe(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=Pl(),this.sortedSet=new Bt(this.comparator)}static emptySet(e){return new ya(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ya)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ya;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this.k_=new Bt(Ee.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?e.type!==0&&r.type===3?this.k_=this.k_.insert(n,e):e.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.k_=this.k_.remove(n):e.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):be():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class La{constructor(e,n,r,s,o,c,g,m,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=g,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,o){const c=[];return n.forEach(g=>{c.push({type:0,doc:g})}),new La(e,n,ya.emptySet(n),c,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(){this.Q_=void 0,this.listeners=[]}}class B5{constructor(){this.queries=new Ya(e=>MC(e),uf),this.onlineState="Unknown",this.K_=new Set}}async function F5(t,e){const n=He(t),r=e.query;let s=!1,o=n.queries.get(r);if(o||(s=!0,o=new L5),s)try{o.Q_=await n.onListen(r)}catch(c){const g=sA(c,`Initialization of query '${Ho(e.query)}' failed`);return void e.onError(g)}n.queries.set(r,o),o.listeners.push(e),e.U_(n.onlineState),o.Q_&&e.W_(o.Q_)&&ym(n)}async function U5(t,e){const n=He(t),r=e.query;let s=!1;const o=n.queries.get(r);if(o){const c=o.listeners.indexOf(e);c>=0&&(o.listeners.splice(c,1),s=o.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function j5(t,e){const n=He(t);let r=!1;for(const s of e){const o=s.query,c=n.queries.get(o);if(c){for(const g of c.listeners)g.W_(s)&&(r=!0);c.Q_=s}}r&&ym(n)}function V5(t,e,n){const r=He(t),s=r.queries.get(e);if(s)for(const o of s.listeners)o.onError(n);r.queries.delete(e)}function ym(t){t.K_.forEach(e=>{e.next()})}class z5{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new La(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=La.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.key=e}}class aA{constructor(e){this.key=e}}class H5{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Ve(),this.mutatedKeys=Ve(),this.ua=PC(e),this.ca=new ya(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new Ax,s=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,c=s,g=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((w,v)=>{const I=s.get(w),R=hf(this.query,v)?v:null,M=!!I&&this.mutatedKeys.has(I.key),D=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let U=!1;I&&R?I.data.isEqual(R.data)?M!==D&&(r.track({type:3,doc:R}),U=!0):this.Ia(I,R)||(r.track({type:2,doc:R}),U=!0,(m&&this.ua(R,m)>0||p&&this.ua(R,p)<0)&&(g=!0)):!I&&R?(r.track({type:0,doc:R}),U=!0):I&&!R&&(r.track({type:1,doc:I}),U=!0,(m||p)&&(g=!0)),U&&(R?(c=c.add(R),o=D?o.add(w):o.delete(w)):(c=c.delete(w),o=o.delete(w)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),o=o.delete(w.key),r.track({type:1,doc:w})}return{ca:c,Pa:r,es:g,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.q_();o.sort((p,w)=>function(I,R){const M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return M(I)-M(R)}(p.type,w.type)||this.ua(p.doc,w.doc)),this.da(r);const c=n?this.Ta():[],g=this.aa.size===0&&this.current?1:0,m=g!==this._a;return this._a=g,o.length!==0||m?{snapshot:new La(this.query,e.ca,s,o,e.mutatedKeys,g===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:c}:{Ea:c}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Ax,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=Ve(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new aA(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new oA(r))}),n}Ra(e){this.oa=e.Ps,this.aa=Ve();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return La.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class W5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $5{constructor(e){this.key=e,this.ma=!1}}class G5{constructor(e,n,r,s,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.fa={},this.ga=new Ya(g=>MC(g),uf),this.pa=new Map,this.ya=new Set,this.wa=new Bt(Ee.comparator),this.Sa=new Map,this.ba=new um,this.Da={},this.Ca=new Map,this.va=Pa.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function X5(t,e){const n=eR(t);let r,s;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),s=o.view.Va();else{const c=await E5(n.localStore,ui(e)),g=n.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,s=await Y5(n,e,r,g==="current",c.resumeToken),n.isPrimaryClient&&tA(n.remoteStore,c)}return s}async function Y5(t,e,n,r,s){t.Ma=(v,I,R)=>async function(D,U,k,S){let O=U.view.ha(k);O.es&&(O=await wx(D.localStore,U.query,!1).then(({documents:G})=>U.view.ha(G,O)));const B=S&&S.targetChanges.get(U.targetId),X=U.view.applyChanges(O,D.isPrimaryClient,B);return Tx(D,U.targetId,X.Ea),X.snapshot}(t,v,I,R);const o=await wx(t.localStore,e,!0),c=new H5(e,o.Ps),g=c.ha(o.documents),m=nu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=c.applyChanges(g,t.isPrimaryClient,m);Tx(t,n,p.Ea);const w=new W5(e,n,c);return t.ga.set(e,w),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),p.snapshot}async function K5(t,e){const n=He(t),r=n.ga.get(e),s=n.pa.get(r.targetId);if(s.length>1)return n.pa.set(r.targetId,s.filter(o=>!uf(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await wg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),nA(n.remoteStore,r.targetId),Eg(n,r.targetId)}).catch(em)):(Eg(n,r.targetId),await wg(n.localStore,r.targetId,!0))}async function lA(t,e){const n=He(t);try{const r=await x5(n.localStore,e);e.targetChanges.forEach((s,o)=>{const c=n.Sa.get(o);c&&(qt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.ma=!0:s.modifiedDocuments.size>0?qt(c.ma):s.removedDocuments.size>0&&(qt(c.ma),c.ma=!1))}),await uA(n,r,e)}catch(r){await em(r)}}function Ix(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ga.forEach((o,c)=>{const g=c.view.U_(e);g.snapshot&&s.push(g.snapshot)}),function(c,g){const m=He(c);m.onlineState=g;let p=!1;m.queries.forEach((w,v)=>{for(const I of v.listeners)I.U_(g)&&(p=!0)}),p&&ym(m)}(r.eventManager,e),s.length&&r.fa.c_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function q5(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Sa.get(e),o=s&&s.key;if(o){let c=new Bt(Ee.comparator);c=c.insert(o,In.newNoDocument(o,Ie.min()));const g=Ve().add(o),m=new gf(Ie.min(),new Map,new Bt(qe),c,g);await lA(r,m),r.wa=r.wa.remove(o),r.Sa.delete(e),xm(r)}else await wg(r.localStore,e,!1).then(()=>Eg(r,e,n)).catch(em)}function Eg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||cA(t,r)})}function cA(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(nA(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),xm(t))}function Tx(t,e,n){for(const r of n)r instanceof oA?(t.ba.addReference(r.key,e),Q5(t,r)):r instanceof aA?(he("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||cA(t,r.key)):be()}function Q5(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(he("SyncEngine","New document in limbo: "+n),t.ya.add(r),xm(t))}function xm(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new Ee(Ot.fromString(e)),r=t.va.next();t.Sa.set(r,new $5(n)),t.wa=t.wa.insert(n,r),tA(t.remoteStore,new us(ui(DC(n.path)),r,"TargetPurposeLimboResolution",tm.ae))}}async function uA(t,e,n){const r=He(t),s=[],o=[],c=[];r.ga.isEmpty()||(r.ga.forEach((g,m)=>{c.push(r.Ma(m,e,n).then(p=>{if((p||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,p!=null&&p.fromCache?"not-current":"current"),p){s.push(p);const w=dm.$i(m.targetId,p);o.push(w)}}))}),await Promise.all(c),r.fa.c_(s),await async function(m,p){const w=He(m);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Q.forEach(p,I=>Q.forEach(I.Qi,R=>w.persistence.referenceDelegate.addReference(v,I.targetId,R)).next(()=>Q.forEach(I.Ki,R=>w.persistence.referenceDelegate.removeReference(v,I.targetId,R)))))}catch(v){if(!tu(v))throw v;he("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const I=v.targetId;if(!v.fromCache){const R=w.rs.get(I),M=R.snapshotVersion,D=R.withLastLimboFreeSnapshotVersion(M);w.rs=w.rs.insert(I,D)}}}(r.localStore,o))}async function Z5(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=await QC(n.localStore,e);n.currentUser=e,function(o,c){o.Ca.forEach(g=>{g.forEach(m=>{m.reject(new xe(re.CANCELLED,c))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uA(n,r.cs)}}function J5(t,e){const n=He(t),r=n.Sa.get(e);if(r&&r.ma)return Ve().add(r.key);{let s=Ve();const o=n.pa.get(e);if(!o)return s;for(const c of o){const g=n.ga.get(c);s=s.unionWith(g.view.la)}return s}}function eR(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q5.bind(null,e),e.fa.c_=j5.bind(null,e.eventManager),e.fa.xa=V5.bind(null,e.eventManager),e}class Sx{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=JC(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return y5(this.persistence,new p5,e.initialUser,this.serializer)}createPersistence(e){return new d5(hm.Jr,this.serializer)}createSharedClientState(e){return new _5}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class tR{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ix(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z5.bind(null,this.syncEngine),await P5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new B5}()}createDatastore(e){const n=JC(e.databaseInfo.databaseId),r=function(o){return new T5(o)}(e.databaseInfo);return function(o,c,g,m){return new N5(o,c,g,m)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,c,g){return new O5(r,s,o,c,g)}(this.localStore,this.datastore,e.asyncQueue,n=>Ix(this.syncEngine,n,0),function(){return vx.C()?new vx:new C5}())}createSyncEngine(e,n){return function(s,o,c,g,m,p,w){const v=new G5(s,o,c,g,m,p);return w&&(v.Fa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=He(n);he("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await ru(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Cn.UNAUTHENTICATED,this.clientId=Wb.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{he("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(he("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=sA(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function j0(t,e){t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await QC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sR(t);he("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>Cx(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>Cx(e.remoteStore,o)),t._onlineComponents=e}function iR(t){return t.name==="FirebaseError"?t.code===re.FAILED_PRECONDITION||t.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function sR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await j0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!iR(n))throw n;Oa("Error using user provided cache. Falling back to memory cache: "+n),await j0(t,new Sx)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await j0(t,new Sx);return t._offlineComponents}async function oR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await bx(t,t._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await bx(t,new tR))),t._onlineComponents}async function aR(t){const e=await oR(t),n=e.eventManager;return n.onListen=X5.bind(null,e.syncEngine),n.onUnlisten=K5.bind(null,e.syncEngine),n}function lR(t,e,n={}){const r=new Js;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,g,m,p){const w=new nR({next:I=>{c.enqueueAndForget(()=>U5(o,v)),I.fromCache&&m.source==="server"?p.reject(new xe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(I)},error:I=>p.reject(I)}),v=new z5(g,w,{includeMetadataChanges:!0,Z_:!0});return F5(o,v)}(await aR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t,e,n){if(!n)throw new xe(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uR(t,e,n,r){if(e===!0&&r===!0)throw new xe(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rx(t){if(Ee.isDocumentKey(t))throw new xe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hR(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be()}function vg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hR(t);throw new xe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new xe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new xe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new xe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new xe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ox({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new xe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ox(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Lb;switch(r.type){case"firstParty":return new jb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Nx.get(n);r&&(he("ComponentProvider","Removing Datastore"),Nx.delete(n),r.terminate())}(this),Promise.resolve()}}function dR(t,e,n,r={}){var s;const o=(t=vg(t,wm))._getSettings(),c=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==c&&Oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),r.mockUserToken){let g,m;if(typeof r.mockUserToken=="string")g=r.mockUserToken,m=Cn.MOCK_USER;else{g=y_(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new xe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Cn(p)}t._authCredentials=new Bb(new IC(g,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mf(this.firestore,e,this._query)}}class qa{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qa(this.firestore,e,this._key)}}class xa extends mf{constructor(e,n,r){super(e,n,DC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qa(this.firestore,null,new Ee(e))}withConverter(e){return new xa(this.firestore,e,this._path)}}function dA(t,e,...n){if(t=nr(t),cR("collection","path",e),t instanceof wm){const r=Ot.fromString(e,...n);return Rx(r),new xa(t,null,r)}{if(!(t instanceof qa||t instanceof xa))throw new xe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return Rx(r),new xa(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new eA(this,"async_queue_retry"),this.ou=()=>{const n=U0();n&&he("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=U0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=U0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new Js;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!tu(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{this.nu=r,this.ru=!1;const s=function(c){let g=c.message||"";return c.stack&&(g=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),g}(r);throw Li("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const s=mm.createAndSchedule(this,e,n,r,o=>this.cu(o));return this.tu.push(s),s}_u(){this.nu&&be()}verifyOperationInProgress(){}async lu(){let e;do e=this.Za,await e;while(e!==this.Za)}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}class fA extends wm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new fR}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||gA(this),this._firestoreClient.terminate()}}function gR(t,e){const n=typeof t=="object"?t:Rp(),r=typeof t=="string"?t:e||"(default)",s=Hd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=g_("firestore");o&&dR(s,...o)}return s}function pR(t){return t._firestoreClient||gA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function gA(t){var e,n,r;const s=t._freezeSettings(),o=function(g,m,p,w){return new Jb(g,m,p,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,hA(w.experimentalLongPollingOptions),w.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new rR(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hd(On.fromBase64String(e))}catch(n){throw new xe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hd(On.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}const yR=new RegExp("[~\\*/\\[\\]]");function xR(t,e,n){if(e.search(yR)>=0)throw kx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pA(...e.split("."))._internalPath}catch{throw kx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kx(t,e,n,r,s){const o=r&&!r.isEmpty(),c=s!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let m="";return(o||c)&&(m+=" (found",o&&(m+=` in field ${r}`),c&&(m+=` in document ${s}`),m+=")"),new xe(re.INVALID_ARGUMENT,g+t+m)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qa(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wR extends mA{data(){return super.data()}}function yA(t,e){return typeof e=="string"?xR(t,e):e instanceof pA?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vR{convertValue(e,n="none"){switch(fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return lf(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new mR(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Nc(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new er(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ot.fromString(e);qt(qC(r));const s=new Rc(r.get(1),r.get(3)),o=new Ee(r.popFirst(5));return s.isEqual(n)||Li(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _R extends mA{constructor(e,n,r,s,o,c){super(e,n,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class mh extends _R{data(e={}){return super.data(e)}}class CR{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Qu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mh(this._firestore,this._userDataWriter,r.key,r,new Qu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(g=>{const m=new mh(s._firestore,s._userDataWriter,g.doc.key,g.doc,new Qu(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter);return g.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(g=>o||g.type!==3).map(g=>{const m=new mh(s._firestore,s._userDataWriter,g.doc.key,g.doc,new Qu(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,w=-1;return g.type!==0&&(p=c.indexOf(g.doc.key),c=c.delete(g.doc.key)),g.type!==1&&(c=c.add(g.doc),w=c.indexOf(g.doc.key)),{type:AR(g.type),doc:m,oldIndex:p,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function AR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}class IR extends vR{constructor(e){super(),this.firestore=e}convertBytes(e){return new hd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qa(this.firestore,null,n)}}function xA(t){t=vg(t,mf);const e=vg(t.firestore,fA),n=pR(e),r=new IR(e);return ER(t._query),lR(n,t._query).then(s=>new CR(e,r,t,s))}(function(e,n=!0){(function(s){Xa=s})(vo),co(new As("firestore",(r,{instanceIdentifier:s,options:o})=>{const c=r.getProvider("app").getImmediate(),g=new fA(new Fb(r.getProvider("auth-internal")),new zb(r.getProvider("app-check-internal")),function(p,w){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new xe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rc(p.options.projectId,w)}(c,s),c);return o=Object.assign({useFetchStreams:n},o),g._setSettings(o),g},"PUBLIC").setMultipleInstances(!0)),ci(Jy,"4.2.0",e),ci(Jy,"4.2.0","esm2017")})();var TR="firebase",SR="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci(TR,SR,"app");function Em(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Dx(t){return t!==void 0&&t.enterprise!==void 0}class bR{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function wA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NR=wA,EA=new $c("auth","Firebase",wA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=new bp("@firebase/auth");function RR(t,...e){dd.logLevel<=Le.WARN&&dd.warn(`Auth (${vo}): ${t}`,...e)}function yh(t,...e){dd.logLevel<=Le.ERROR&&dd.error(`Auth (${vo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,...e){throw vm(t,...e)}function hi(t,...e){return vm(t,...e)}function OR(t,e,n){const r=Object.assign(Object.assign({},NR()),{[e]:n});return new $c("auth","Firebase",r).create(e,{appName:t.name})}function vm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EA.create(t,...e)}function _e(t,e,...n){if(!t)throw vm(e,...n)}function Ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yh(e),new Error(e)}function Bi(t,e){t||Ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kR(){return Mx()==="http:"||Mx()==="https:"}function Mx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kR()||f8()||"connection"in navigator)?navigator.onLine:!0}function MR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bi(n>e,"Short delay should be less than long delay!"),this.isMobile=h8()||g8()}get(){return DR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t,e){Bi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=new su(3e4,6e4);function Co(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ao(t,e,n,r,s={}){return _A(t,s,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const g=Gc(Object.assign({key:t.config.apiKey},c)).slice(1),m=await t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),vA.fetch()(CA(t,t.config.apiHost,n,g),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},o))})}async function _A(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},PR),e);try{const s=new BR(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Zu(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const g=o.ok?c.errorMessage:c.error.message,[m,p]=g.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zu(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Zu(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Zu(t,"user-disabled",c);const w=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw OR(t,w,p);Vr(t,w)}}catch(s){if(s instanceof mi)throw s;Vr(t,"network-request-failed",{message:String(s)})}}async function ou(t,e,n,r,s={}){const o=await Ao(t,e,n,r,s);return"mfaPendingCredential"in o&&Vr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function CA(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?_m(t.config,s):`${t.config.apiScheme}://${s}`}class BR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hi(this.auth,"network-request-failed")),LR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=hi(t,e,r);return s.customData._tokenResponse=n,s}async function FR(t,e){return Ao(t,"GET","/v2/recaptchaConfig",Co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(t,e){return Ao(t,"POST","/v1/accounts:delete",e)}async function jR(t,e){return Ao(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VR(t,e=!1){const n=nr(t),r=await n.getIdToken(e),s=Cm(r);_e(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Zl(V0(s.auth_time)),issuedAtTime:Zl(V0(s.iat)),expirationTime:Zl(V0(s.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function V0(t){return Number(t)*1e3}function Cm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const s=d_(n);return s?JSON.parse(s):(yh("Failed to decode base64 JWT payload"),null)}catch(s){return yh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function zR(t){const e=Cm(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mi&&HR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function HR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await kc(t,jR(n,{idToken:r}));_e(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?XR(o.providerUserInfo):[],g=GR(t.providerData,c),m=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!(g!=null&&g.length),w=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:g,metadata:new AA(o.createdAt,o.lastLoginAt),isAnonymous:w};Object.assign(t,v)}async function $R(t){const e=nr(t);await fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GR(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function XR(t){return t.map(e=>{var{providerId:n}=e,r=Em(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(t,e){const n=await _A(t,{},async()=>{const r=Gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,c=CA(t,s,"/v1/token",`key=${o}`),g=await t._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",vA.fetch()(c,{method:"POST",headers:g,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return _e(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await YR(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,c=new Dc;return r&&(_e(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&(_e(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(_e(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dc,this.toJSON())}_performRefresh(){return Ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class to{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=Em(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new AA(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await kc(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VR(this,e)}reload(){return $R(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new to(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await kc(this,UR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,c,g,m,p,w;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,I=(s=n.email)!==null&&s!==void 0?s:void 0,R=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,M=(c=n.photoURL)!==null&&c!==void 0?c:void 0,D=(g=n.tenantId)!==null&&g!==void 0?g:void 0,U=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,k=(p=n.createdAt)!==null&&p!==void 0?p:void 0,S=(w=n.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:O,emailVerified:B,isAnonymous:X,providerData:G,stsTokenManager:F}=n;_e(O&&F,e,"internal-error");const Z=Dc.fromJSON(this.name,F);_e(typeof O=="string",e,"internal-error"),Ki(v,e.name),Ki(I,e.name),_e(typeof B=="boolean",e,"internal-error"),_e(typeof X=="boolean",e,"internal-error"),Ki(R,e.name),Ki(M,e.name),Ki(D,e.name),Ki(U,e.name),Ki(k,e.name),Ki(S,e.name);const $=new to({uid:O,auth:e,email:I,emailVerified:B,displayName:v,isAnonymous:X,photoURL:M,phoneNumber:R,tenantId:D,stsTokenManager:Z,createdAt:k,lastLoginAt:S});return G&&Array.isArray(G)&&($.providerData=G.map(se=>Object.assign({},se))),U&&($._redirectEventId=U),$}static async _fromIdTokenResponse(e,n,r=!1){const s=new Dc;s.updateFromServerResponse(n);const o=new to({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await fd(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=new Map;function Ti(t){Bi(t instanceof Function,"Expected a class definition");let e=Px.get(t);return e?(Bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Px.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IA.type="NONE";const Lx=IA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t,e,n){return`firebase:${t}:${e}:${n}`}class wa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=xh(this.userKey,s.apiKey,o),this.fullPersistenceKey=xh("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?to._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wa(Ti(Lx),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=s[0]||Ti(Lx);const c=xh(r,e.config.apiKey,e.name);let g=null;for(const p of n)try{const w=await p._get(c);if(w){const v=to._fromJSON(e,w);p!==o&&(g=v),o=p;break}}catch{}const m=s.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!m.length?new wa(o,e,r):(o=m[0],g&&await o._set(c,g.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new wa(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RA(e))return"Blackberry";if(OA(e))return"Webos";if(Am(e))return"Safari";if((e.includes("chrome/")||SA(e))&&!e.includes("edge/"))return"Chrome";if(NA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TA(t=Rn()){return/firefox\//i.test(t)}function Am(t=Rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SA(t=Rn()){return/crios\//i.test(t)}function bA(t=Rn()){return/iemobile/i.test(t)}function NA(t=Rn()){return/android/i.test(t)}function RA(t=Rn()){return/blackberry/i.test(t)}function OA(t=Rn()){return/webos/i.test(t)}function yf(t=Rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KR(t=Rn()){var e;return yf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qR(){return p8()&&document.documentMode===10}function kA(t=Rn()){return yf(t)||NA(t)||OA(t)||RA(t)||/windows phone/i.test(t)||bA(t)}function QR(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t,e=[]){let n;switch(t){case"Browser":n=Bx(Rn());break;case"Worker":n=`${Bx(Rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,g)=>{try{const m=e(o);c(m)}catch(m){g(m)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(t,e={}){return Ao(t,"GET","/v2/passwordPolicy",Co(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=6;class t9{constructor(e){var n,r,s,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:e9,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,c,g;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(s=m.containsLowercaseLetter)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsUppercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(g=m.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),m}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fx(this),this.idTokenSubscription=new Fx(this),this.beforeStateQueue=new ZR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ti(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await wa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===g)&&(m!=null&&m.user)&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?nr(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JR(this),n=new t9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $c("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ti(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await wa.create(this,[Ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(g,this,"internal-error"),g.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,r,s);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&RR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Io(t){return nr(t)}class Fx{constructor(e){this.auth=e,this.observer=null,this.addObserver=_8(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function MA(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=hi("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",r9().appendChild(r)})}function i9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const s9="https://www.google.com/recaptcha/enterprise.js?render=",o9="recaptcha-enterprise",a9="NO_RECAPTCHA";class l9{constructor(e){this.type=o9,this.auth=Io(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,g)=>{FR(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const p=new bR(m);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(m=>{g(m)})})}function s(o,c,g){const m=window.grecaptcha;Dx(m)?m.enterprise.ready(()=>{m.enterprise.execute(o,{action:e}).then(p=>{c(p)}).catch(()=>{c(a9)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,c)=>{r(this.auth).then(g=>{if(!n&&Dx(window.grecaptcha))s(g,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}MA(s9+g).then(()=>{s(g,o,c)}).catch(m=>{c(m)})}}).catch(g=>{c(g)})})}}async function gd(t,e,n,r=!1){const s=new l9(t);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const c=Object.assign({},e);return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t,e){const n=Hd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Jh(o,e??{}))return s;Vr(s,"already-initialized")}return n.initialize({options:e})}function u9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ti);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function h9(t,e,n){const r=Io(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),o=PA(e),{host:c,port:g}=d9(e),m=g===null?"":`:${g}`;r.config.emulator={url:`${o}//${c}${m}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:c,port:g,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||f9()}function PA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function d9(t){const e=PA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:Ux(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:Ux(c)}}}function Ux(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function f9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,n){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}async function g9(t,e){return Ao(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z0(t,e){return ou(t,"POST","/v1/accounts:signInWithPassword",Co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p9(t,e){return ou(t,"POST","/v1/accounts:signInWithEmailLink",Co(t,e))}async function m9(t,e){return ou(t,"POST","/v1/accounts:signInWithEmailLink",Co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends Im{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Mc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Mc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await gd(e,r,"signInWithPassword");return z0(e,s)}else return z0(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await gd(e,r,"signInWithPassword");return z0(e,o)}else return Promise.reject(s)});case"emailLink":return p9(e,{email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return g9(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return m9(e,{idToken:n,email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(t,e){return ou(t,"POST","/v1/accounts:signInWithIdp",Co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9="http://localhost";class go extends Im{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new go(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=Em(n,["providerId","signInMethod"]);if(!r||!s)return null;const c=new go(r,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Ea(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ea(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ea(e,n)}buildRequest(){const e={requestUri:y9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function w9(t){const e=Ol(kl(t)).link,n=e?Ol(kl(e)).deep_link_id:null,r=Ol(kl(t)).deep_link_id;return(r?Ol(kl(r)).link:null)||r||n||e||t}class Tm{constructor(e){var n,r,s,o,c,g;const m=Ol(kl(e)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,w=(r=m.oobCode)!==null&&r!==void 0?r:null,v=x9((s=m.mode)!==null&&s!==void 0?s:null);_e(p&&w&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=w,this.continueUrl=(o=m.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=m.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(g=m.tenantId)!==null&&g!==void 0?g:null}static parseLink(e){const n=w9(e);try{return new Tm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.providerId=Qa.PROVIDER_ID}static credential(e,n){return Mc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Tm.parseLink(n);return _e(r,"argument-error"),Mc._fromEmailAndCode(e,r.code,r.tenantId)}}Qa.PROVIDER_ID="password";Qa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends LA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends au{constructor(){super("facebook.com")}static credential(e){return go._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return go._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ns.credential(n,r)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends au{constructor(){super("github.com")}static credential(e){return go._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends au{constructor(){super("twitter.com")}static credential(e,n){return go._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return is.credential(n,r)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H0(t,e){return ou(t,"POST","/v1/accounts:signUp",Co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await to._fromIdTokenResponse(e,r,s),c=jx(r);return new po({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=jx(r);return new po({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function jx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends mi{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,pd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new pd(e,n,r,s)}}function BA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?pd._fromErrorAndOperation(t,o,e,r):o})}async function E9(t,e,n=!1){const r=await kc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return po._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v9(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const o=await kc(t,BA(r,s,e,t),n);_e(o.idToken,r,"internal-error");const c=Cm(o.idToken);_e(c,r,"internal-error");const{sub:g}=c;return _e(t.uid===g,r,"user-mismatch"),po._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Vr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(t,e,n=!1){const r="signIn",s=await BA(t,r,e),o=await po._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function _9(t,e){return FA(Io(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(t){const e=Io(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function C9(t,e,n){var r;const s=Io(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let c;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const p=await gd(s,o,"signUpPassword");c=H0(s,p)}else c=H0(s,o).catch(async p=>{if(p.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const w=await gd(s,o,"signUpPassword");return H0(s,w)}throw p});const g=await c.catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&UA(t),p}),m=await po._fromIdTokenResponse(s,"signIn",g);return await s._updateCurrentUser(m.user),m}function A9(t,e,n){return _9(nr(t),Qa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&UA(t),r})}function I9(t,e,n,r){return nr(t).onIdTokenChanged(e,n,r)}function T9(t,e,n){return nr(t).beforeAuthStateChanged(e,n)}function S9(t,e,n,r){return nr(t).onAuthStateChanged(e,n,r)}function b9(t){return nr(t).signOut()}const md="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(md,"1"),this.storage.removeItem(md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(){const t=Rn();return Am(t)||yf(t)}const R9=1e3,O9=10;class VA extends jA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=N9()&&QR(),this.fallbackToPolling=kA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,g,m)=>{this.notifyListeners(c,m)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const c=this.storage.getItem(r);if(e.newValue!==c)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);qR()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,O9):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},R9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VA.type="LOCAL";const k9=VA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA extends jA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zA.type="SESSION";const HA=zA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new xf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const g=Array.from(c).map(async p=>p(n.origin,o)),m=await D9(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((g,m)=>{const p=Sm("",20);s.port1.start();const w=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(v){const I=v;if(I.data.eventId===p)switch(I.data.status){case"ack":clearTimeout(w),o=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),g(I.data.response);break;default:clearTimeout(w),clearTimeout(o),m(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return window}function P9(t){di().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}async function L9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function F9(){return WA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="firebaseLocalStorageDb",U9=1,yd="firebaseLocalStorage",GA="fbase_key";class lu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wf(t,e){return t.transaction([yd],e?"readwrite":"readonly").objectStore(yd)}function j9(){const t=indexedDB.deleteDatabase($A);return new lu(t).toPromise()}function Cg(){const t=indexedDB.open($A,U9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yd,{keyPath:GA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yd)?e(r):(r.close(),await j9(),e(await Cg()))})})}async function Vx(t,e,n){const r=wf(t,!0).put({[GA]:e,value:n});return new lu(r).toPromise()}async function V9(t,e){const n=wf(t,!1).get(e),r=await new lu(n).toPromise();return r===void 0?null:r.value}function zx(t,e){const n=wf(t,!0).delete(e);return new lu(n).toPromise()}const z9=800,H9=3;class XA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>H9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xf._getInstance(F9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await L9(),!this.activeServiceWorker)return;this.sender=new M9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||B9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cg();return await Vx(e,md,"1"),await zx(e,md),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Vx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>V9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=wf(s,!1).getAll();return new lu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XA.type="LOCAL";const W9=XA;new su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(t,e){return e?Ti(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm extends Im{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ea(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ea(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ea(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function G9(t){return FA(t.auth,new bm(t),t.bypassAuthState)}function X9(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),v9(n,new bm(t),t.bypassAuthState)}async function Y9(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),E9(n,new bm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:c,type:g}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G9;case"linkViaPopup":case"linkViaRedirect":return Y9;case"reauthViaPopup":case"reauthViaRedirect":return X9;default:Vr(this.auth,"internal-error")}}resolve(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=new su(2e3,1e4);class oa extends YA{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,oa.currentPopupAction&&oa.currentPopupAction.cancel(),oa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const e=Sm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,K9.get())};e()}}oa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9="pendingRedirect",wh=new Map;class Q9 extends YA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wh.get(this.auth._key());if(!e){try{const r=await Z9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wh.set(this.auth._key(),e)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z9(t,e){const n=tO(e),r=eO(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function J9(t,e){wh.set(t._key(),e)}function eO(t){return Ti(t._redirectPersistence)}function tO(t){return xh(q9,t.config.apiKey,t.name)}async function nO(t,e,n=!1){const r=Io(t),s=$9(r,e),c=await new Q9(r,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=10*60*1e3;class iO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KA(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(hi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hx(e))}saveEventToCache(e){this.cachedEventUids.add(Hx(e)),this.lastProcessedEventTime=Date.now()}}function Hx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(t,e={}){return Ao(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lO=/^https?/;async function cO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oO(t);for(const n of e)try{if(uO(n))return}catch{}Vr(t,"unauthorized-domain")}function uO(t){const e=_g(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!lO.test(n))return!1;if(aO.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new su(3e4,6e4);function Wx(){const t=di().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dO(t){return new Promise((e,n)=>{var r,s,o;function c(){Wx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wx(),n(hi(t,"network-request-failed"))},timeout:hO.get()})}if(!((s=(r=di().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=di().gapi)===null||o===void 0)&&o.load)c();else{const g=i9("iframefcb");return di()[g]=()=>{gapi.load?c():n(hi(t,"network-request-failed"))},MA(`https://apis.google.com/js/api.js?onload=${g}`).catch(m=>n(m))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function fO(t){return Eh=Eh||dO(t),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new su(5e3,15e3),pO="__/auth/iframe",mO="emulator/auth/iframe",yO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wO(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_m(e,mO):`https://${t.config.authDomain}/${pO}`,r={apiKey:e.apiKey,appName:t.name,v:vo},s=xO.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Gc(r).slice(1)}`}async function EO(t){const e=await fO(t),n=di().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:wO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yO,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const c=hi(t,"network-request-failed"),g=di().setTimeout(()=>{o(c)},gO.get());function m(){di().clearTimeout(g),s(r)}r.ping(m).then(m,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_O=500,CO=600,AO="_blank",IO="http://localhost";class $x{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TO(t,e,n,r=_O,s=CO){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const m=Object.assign(Object.assign({},vO),{width:r.toString(),height:s.toString(),top:o,left:c}),p=Rn().toLowerCase();n&&(g=SA(p)?AO:n),TA(p)&&(e=e||IO,m.scrollbars="yes");const w=Object.entries(m).reduce((I,[R,M])=>`${I}${R}=${M},`,"");if(KR(p)&&g!=="_self")return SO(e||"",g),new $x(null);const v=window.open(e||"",g,w);_e(v,t,"popup-blocked");try{v.focus()}catch{}return new $x(v)}function SO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="__/auth/handler",NO="emulator/auth/handler",RO=encodeURIComponent("fac");async function Gx(t,e,n,r,s,o){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vo,eventId:s};if(e instanceof LA){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",v8(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,v]of Object.entries(o||{}))c[w]=v}if(e instanceof au){const w=e.getScopes().filter(v=>v!=="");w.length>0&&(c.scopes=w.join(","))}t.tenantId&&(c.tid=t.tenantId);const g=c;for(const w of Object.keys(g))g[w]===void 0&&delete g[w];const m=await t._getAppCheckToken(),p=m?`#${RO}=${encodeURIComponent(m)}`:"";return`${OO(t)}?${Gc(g).slice(1)}${p}`}function OO({config:t}){return t.emulator?_m(t,NO):`https://${t.authDomain}/${bO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="webStorageSupport";class kO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HA,this._completeRedirectFn=nO,this._overrideRedirectResult=J9}async _openPopup(e,n,r,s){var o;Bi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await Gx(e,n,r,_g(),s);return TO(e,c,Sm())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await Gx(e,n,r,_g(),s);return P9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Bi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await EO(e),r=new iO(e);return n.register("authEvent",s=>(_e(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(W0,{type:W0},s=>{var o;const c=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[W0];c!==void 0&&n(!!c),Vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kA()||Am()||yf()}}const DO=kO;var Xx="@firebase/auth",Yx="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function LO(t){co(new As("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:g}=r.options;_e(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:g,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DA(t)},p=new n9(r,s,o,m);return u9(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),co(new As("auth-internal",e=>{const n=Io(e.getProvider("auth").getImmediate());return(r=>new MO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(Xx,Yx,PO(t)),ci(Xx,Yx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=5*60,FO=m_("authIdTokenMaxAge")||BO;let Kx=null;const UO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FO)return;const s=n==null?void 0:n.token;Kx!==s&&(Kx=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function qA(t=Rp()){const e=Hd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=c9(t,{popupRedirectResolver:DO,persistence:[W9,k9,HA]}),r=m_("authTokenSyncURL");if(r){const o=UO(r);T9(n,o,()=>o(n.currentUser)),I9(n,c=>o(c))}const s=f_("auth");return s&&h9(n,`http://${s}`),n}LO("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="firebasestorage.googleapis.com",ZA="storageBucket",jO=2*60*1e3,VO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt extends mi{constructor(e,n,r=0){super($0(e),`Firebase Storage: ${n} (${$0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Dt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Dt||(Dt={}));function $0(t){return"storage/"+t}function Nm(){const t="An unknown error occurred, please check the error payload for server response.";return new Mt(Dt.UNKNOWN,t)}function zO(t){return new Mt(Dt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function HO(t){return new Mt(Dt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function WO(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mt(Dt.UNAUTHENTICATED,t)}function $O(){return new Mt(Dt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function GO(t){return new Mt(Dt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function XO(){return new Mt(Dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YO(){return new Mt(Dt.CANCELED,"User canceled the upload/download.")}function KO(t){return new Mt(Dt.INVALID_URL,"Invalid URL '"+t+"'.")}function qO(t){return new Mt(Dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function QO(){return new Mt(Dt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ZA+"' property when initializing the app?")}function ZO(){return new Mt(Dt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function JO(){return new Mt(Dt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ek(t){return new Mt(Dt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ag(t){return new Mt(Dt.INVALID_ARGUMENT,t)}function JA(){return new Mt(Dt.APP_DELETED,"The Firebase app was deleted.")}function tk(t){return new Mt(Dt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Jl(t,e){return new Mt(Dt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Cl(t){throw new Mt(Dt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ur.makeFromUrl(e,n)}catch{return new ur(e,"")}if(r.path==="")return r;throw qO(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const c="(/(.*))?$",g=new RegExp("^gs://"+s+c,"i"),m={bucket:1,path:3};function p(B){B.path_=decodeURIComponent(B.path)}const w="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",R=new RegExp(`^https?://${v}/${w}/b/${s}/o${I}`,"i"),M={bucket:1,path:3},D=n===QA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,U="([^?#]*)",k=new RegExp(`^https?://${D}/${s}/${U}`,"i"),O=[{regex:g,indices:m,postModify:o},{regex:R,indices:M,postModify:p},{regex:k,indices:{bucket:1,path:2},postModify:p}];for(let B=0;B<O.length;B++){const X=O[B],G=X.regex.exec(e);if(G){const F=G[X.indices.bucket];let Z=G[X.indices.path];Z||(Z=""),r=new ur(F,Z),X.postModify(r);break}}if(r==null)throw KO(e);return r}}class nk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(t,e,n){let r=1,s=null,o=null,c=!1,g=0;function m(){return g===2}let p=!1;function w(...U){p||(p=!0,e.apply(null,U))}function v(U){s=setTimeout(()=>{s=null,t(R,m())},U)}function I(){o&&clearTimeout(o)}function R(U,...k){if(p){I();return}if(U){I(),w.call(null,U,...k);return}if(m()||c){I(),w.call(null,U,...k);return}r<64&&(r*=2);let O;g===1?(g=2,O=0):O=(r+Math.random())*1e3,v(O)}let M=!1;function D(U){M||(M=!0,I(),!p&&(s!==null?(U||(g=2),clearTimeout(s),v(0)):U||(g=1)))}return v(0),o=setTimeout(()=>{c=!0,D(!0)},n),D}function ik(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t){return t!==void 0}function ok(t){return typeof t=="object"&&!Array.isArray(t)}function Rm(t){return typeof t=="string"||t instanceof String}function qx(t){return Om()&&t instanceof Blob}function Om(){return typeof Blob<"u"&&!d8()}function Qx(t,e,n,r){if(r<e)throw Ag(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ag(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function e3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var no;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(no||(no={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n,r,s,o,c,g,m,p,w,v,I=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=g,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=w,this.connectionFactory_=v,this.retry=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,M)=>{this.resolve_=R,this.reject_=M,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Ju(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=g=>{const m=g.loaded,p=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const g=o.getErrorCode()===no.NO_ERROR,m=o.getStatus();if(!g||ak(m,this.additionalRetryCodes_)&&this.retry){const w=o.getErrorCode()===no.ABORT;r(!1,new Ju(!1,null,w));return}const p=this.successCodes_.indexOf(m)!==-1;r(!0,new Ju(p,o))})},n=(r,s)=>{const o=this.resolve_,c=this.reject_,g=s.connection;if(s.wasSuccessCode)try{const m=this.callback_(g,g.getResponse());sk(m)?o(m):o()}catch(m){c(m)}else if(g!==null){const m=Nm();m.serverResponse=g.getErrorText(),this.errorCallback_?c(this.errorCallback_(g,m)):c(m)}else if(s.canceled){const m=this.appDelete_?JA():YO();c(m)}else{const m=XO();c(m)}};this.canceled_?n(!1,new Ju(!1,null,!0)):this.backoffId_=rk(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ik(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ju{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ck(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function uk(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function hk(t,e){e&&(t["X-Firebase-GMPID"]=e)}function dk(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function fk(t,e,n,r,s,o,c=!0){const g=e3(t.urlParams),m=t.url+g,p=Object.assign({},t.headers);return hk(p,e),ck(p,n),uk(p,o),dk(p,r),new lk(m,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function pk(...t){const e=gk();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Om())return new Blob(t);throw new Mt(Dt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mk(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t){if(typeof atob>"u")throw ek("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class G0{constructor(e,n){this.data=e,this.contentType=n||null}}function xk(t,e){switch(t){case oi.RAW:return new G0(t3(e));case oi.BASE64:case oi.BASE64URL:return new G0(n3(t,e));case oi.DATA_URL:return new G0(Ek(e),vk(e))}throw Nm()}function t3(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,c=t.charCodeAt(++n);r=65536|(o&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function wk(t){let e;try{e=decodeURIComponent(t)}catch{throw Jl(oi.DATA_URL,"Malformed data URL.")}return t3(e)}function n3(t,e){switch(t){case oi.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Jl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case oi.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Jl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=yk(e)}catch(s){throw s.message.includes("polyfill")?s:Jl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class r3{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Jl(oi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=_k(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Ek(t){const e=new r3(t);return e.base64?n3(oi.BASE64,e.rest):wk(e.rest)}function vk(t){return new r3(t).contentType}function _k(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n){let r=0,s="";qx(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(qx(this.data_)){const r=this.data_,s=mk(r,e,n);return s===null?null:new ss(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ss(r,!0)}}static getBlob(...e){if(Om()){const n=e.map(r=>r instanceof ss?r.data_:r);return new ss(pk.apply(null,n))}else{const n=e.map(c=>Rm(c)?xk(oi.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(c=>{for(let g=0;g<c.length;g++)s[o++]=c[g]}),new ss(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t){let e;try{e=JSON.parse(t)}catch{return null}return ok(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Ak(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function s3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t,e){return e}class Mn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||Ik}}let eh=null;function Tk(t){return!Rm(t)||t.length<2?t:s3(t)}function o3(){if(eh)return eh;const t=[];t.push(new Mn("bucket")),t.push(new Mn("generation")),t.push(new Mn("metageneration")),t.push(new Mn("name","fullPath",!0));function e(o,c){return Tk(c)}const n=new Mn("name");n.xform=e,t.push(n);function r(o,c){return c!==void 0?Number(c):c}const s=new Mn("size");return s.xform=r,t.push(s),t.push(new Mn("timeCreated")),t.push(new Mn("updated")),t.push(new Mn("md5Hash",null,!0)),t.push(new Mn("cacheControl",null,!0)),t.push(new Mn("contentDisposition",null,!0)),t.push(new Mn("contentEncoding",null,!0)),t.push(new Mn("contentLanguage",null,!0)),t.push(new Mn("contentType",null,!0)),t.push(new Mn("metadata","customMetadata",!0)),eh=t,eh}function Sk(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new ur(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function bk(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const c=n[o];r[c.local]=c.xform(r,e[c.server])}return Sk(r,t),r}function a3(t,e,n){const r=i3(e);return r===null?null:bk(t,r,n)}function Nk(t,e,n,r){const s=i3(e);if(s===null||!Rm(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const c=encodeURIComponent;return o.split(",").map(p=>{const w=t.bucket,v=t.fullPath,I="/b/"+c(w)+"/o/"+c(v),R=km(I,n,r),M=e3({alt:"media",token:p});return R+M})[0]}function Rk(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class l3{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(t){if(!t)throw Nm()}function Ok(t,e){function n(r,s){const o=a3(t,s,e);return c3(o!==null),o}return n}function kk(t,e){function n(r,s){const o=a3(t,s,e);return c3(o!==null),Nk(o,s,t.host,t._protocol)}return n}function u3(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=$O():s=WO():n.getStatus()===402?s=HO(t.bucket):n.getStatus()===403?s=GO(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function Dk(t){const e=u3(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=zO(t.path)),o.serverResponse=s.serverResponse,o}return n}function Mk(t,e,n){const r=e.fullServerUrl(),s=km(r,t.host,t._protocol),o="GET",c=t.maxOperationRetryTime,g=new l3(s,o,kk(t,n),c);return g.errorHandler=Dk(e),g}function Pk(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Lk(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Pk(null,e)),r}function Bk(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function g(){let O="";for(let B=0;B<2;B++)O=O+Math.random().toString().slice(2);return O}const m=g();c["Content-Type"]="multipart/related; boundary="+m;const p=Lk(e,r,s),w=Rk(p,n),v="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,I=`\r
--`+m+"--",R=ss.getBlob(v,r,I);if(R===null)throw ZO();const M={name:p.fullPath},D=km(o,t.host,t._protocol),U="POST",k=t.maxUploadRetryTime,S=new l3(D,U,Ok(t,n),k);return S.urlParams=M,S.headers=c,S.body=R.uploadData(),S.errorHandler=u3(e),S}class Fk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=no.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=no.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=no.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Cl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Cl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Cl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Cl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Cl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Uk extends Fk{initXhr(){this.xhr_.responseType="text"}}function h3(){return new Uk}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n){this._service=e,n instanceof ur?this._location=n:this._location=ur.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new mo(e,n)}get root(){const e=new ur(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return s3(this._location.path)}get storage(){return this._service}get parent(){const e=Ck(this._location.path);if(e===null)return null;const n=new ur(this._location.bucket,e);return new mo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw tk(e)}}function jk(t,e,n){t._throwIfRoot("uploadBytes");const r=Bk(t.storage,t._location,o3(),new ss(e,!0),n);return t.storage.makeRequestWithTokens(r,h3).then(s=>({metadata:s,ref:t}))}function Vk(t){t._throwIfRoot("getDownloadURL");const e=Mk(t.storage,t._location,o3());return t.storage.makeRequestWithTokens(e,h3).then(n=>{if(n===null)throw JO();return n})}function zk(t,e){const n=Ak(t._location.path,e),r=new ur(t._location.bucket,n);return new mo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t){return/^[A-Za-z]+:\/\//.test(t)}function Wk(t,e){return new mo(t,e)}function d3(t,e){if(t instanceof Dm){const n=t;if(n._bucket==null)throw QO();const r=new mo(n,n._bucket);return e!=null?d3(r,e):r}else return e!==void 0?zk(t,e):t}function $k(t,e){if(e&&Hk(e)){if(t instanceof Dm)return Wk(t,e);throw Ag("To use ref(service, url), the first argument must be a Storage instance.")}else return d3(t,e)}function Zx(t,e){const n=e==null?void 0:e[ZA];return n==null?null:ur.makeFromBucketSpec(n,t)}function Gk(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:y_(s,t.app.options.projectId))}class Dm{constructor(e,n,r,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=QA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jO,this._maxUploadRetryTime=VO,this._requests=new Set,s!=null?this._bucket=ur.makeFromBucketSpec(s,this._host):this._bucket=Zx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ur.makeFromBucketSpec(this._url,e):this._bucket=Zx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Qx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Qx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mo(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new nk(JA());{const c=fk(e,this._appId,r,s,n,this._firebaseVersion,o);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Jx="@firebase/storage",ew="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="storage";function Xk(t,e,n){return t=nr(t),jk(t,e,n)}function tw(t){return t=nr(t),Vk(t)}function nw(t,e){return t=nr(t),$k(t,e)}function Yk(t=Rp(),e){t=nr(t);const r=Hd(t,f3).getImmediate({identifier:e}),s=g_("storage");return s&&Kk(r,...s),r}function Kk(t,e,n,r={}){Gk(t,e,n,r)}function qk(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Dm(n,r,s,e,vo)}function Qk(){co(new As(f3,qk,"PUBLIC").setMultipleInstances(!0)),ci(Jx,ew,""),ci(Jx,ew,"esm2017")}Qk();const Zk={apiKey:"AIzaSyB6EJ5vCZobIXDM6BUCIq3lxCvP0RoxV6k",authDomain:"crypto-pwa-151b7.firebaseapp.com",projectId:"crypto-pwa-151b7",storageBucket:"crypto-pwa-151b7.appspot.com",messagingSenderId:"412192815150",appId:"1:412192815150:web:3cf3ebb61f5554f1b047bf",measurementId:"G-E21Z4T6SP4"},Mm=E_(Zk),g3=qA(Mm),p3=gR(Mm),rw=Yk(Mm),m3=()=>_.jsx("div",{className:"mb-3",children:_.jsxs("div",{className:" mb-4 flex w-full flex-wrap items-stretch",children:[_.jsx("input",{type:"search",className:" m-0 block w-[1px] min-w-0 flex-auto rounded border border-solid border-neutral-300 bg-white bg-clip-padding px-3 py-[0.25rem] font-normal leading-[1.6] text-black outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-purple-900 focus:text-black focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none dark:border-purple-900 dark:text-black dark:placeholder:text-black dark:focus:border-primary",placeholder:"Search","aria-label":"Search","aria-describedby":"button-addon2"}),_.jsx("span",{className:"input-group-text flex items-center whitespace-nowrap rounded px-3 py-1.5 text-center text-base font-normal text-neutral-700 dark:text-neutral-200",id:"basic-addon2",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"white",className:"h-5 w-5",children:_.jsx("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})})})]})}),Jk=()=>{const[t,e]=K.useState([]);return K.useEffect(()=>{(async()=>{try{const r=await xA(dA(p3,"cryptocurrencies")),s=[];r.forEach(o=>{const c=o.data();s.push({...c})}),e(s)}catch(r){console.error("Error fetching data:",r)}})()},[]),_.jsxs("div",{className:" w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white  ",children:[_.jsx("div",{className:"",children:_.jsx(m3,{})}),_.jsxs("div",{className:"w-full",children:[_.jsx("h2",{className:"text-primary-500",children:"Cryptocurrencies"}),_.jsx("ul",{role:"list",className:"divide-ymt-10",children:t.map(n=>_.jsxs("li",{className:"flex justify-between gap-x-6 py-5",children:[_.jsxs("div",{className:"flex min-w-0 gap-x-4",children:[_.jsx("img",{src:n.image,alt:n.name,className:"h-12 w-12 flex-none rounded-full bg-primary"}),_.jsxs("div",{className:"min-w-0 flex-auto",children:[_.jsxs(Bn,{to:"/buy2",children:["        ",_.jsx("p",{className:"text-sm font-semibold leading-6 text-white",children:n.name})]}),_.jsxs("p",{children:[" ",n.symbol]})]})]}),_.jsx("div",{className:"shrink-0 sm:flex sm:flex-col sm:items-end",children:_.jsxs("p",{className:"text-sm leading-6 text-white",children:["$ ",n.price]})})]},n.id))})]})]})};function eD(){return _.jsx("div",{className:" w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white bg-no-repeat bg-cover ",style:{backgroundImage:`url(${Eo})`},children:_.jsx("div",{className:" w-full h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white  ",children:_.jsx("div",{className:"flex flex-col sm:flex-row items-center md:items-start sm:justify-center md:justify-start flex-auto min-w-0",children:_.jsx("div",{className:"lg:text-left text-center",children:_.jsx("div",{className:"flex items-center justify-center",children:_.jsx("div",{className:"bg-primary flex flex-col w-70 border-2 border-primary-500 rounded-3xl px-8 py-10",children:_.jsxs("form",{className:"flex flex-col space-y-8 mt-10",children:[_.jsxs("details",{className:"dropdown mb-24",children:[_.jsx("summary",{className:"m-1  bg-black  py-2 px-4 rounded-2xl ",children:"Currency"}),_.jsxs("ul",{className:"p-2 shadow menu dropdown-content z-[1] bg-black rounded-box w-52",children:[_.jsx("li",{children:_.jsx("a",{className:"hover:bg-white hover:text-black",children:"USD"})}),_.jsx("li",{children:_.jsx("a",{className:"hover:bg-white hover:text-black",children:"EURO"})}),_.jsx("li",{children:_.jsx("a",{className:"hover:bg-white hover:text-black",children:"YEN"})}),_.jsx("li",{children:_.jsx("a",{className:"hover:bg-white hover:text-black",children:"EUD"})})]})]}),_.jsxs("details",{className:"dropdown mb-2 w-full ",children:[_.jsx("summary",{className:"m-1 bg-black text-sm  py-2 px-4 rounded-2xl ",children:"Select Payment Method"}),_.jsxs("ul",{className:"p-2 shadow menu dropdown-content z-[1] bg-black rounded-box w-52",children:[_.jsx(Bn,{to:"/card",children:_.jsx("li",{children:_.jsx("a",{className:"hover:bg-white hover:text-black",children:"MasterCard"})})}),_.jsx(Bn,{to:"/card",children:_.jsx("li",{children:_.jsx("a",{className:"hover:bg-white hover:text-black",children:"Debit/Credit Card"})})}),_.jsx("li",{children:_.jsx("a",{className:"hover:bg-white hover:text-black",children:"PayPal"})}),_.jsx("li",{children:_.jsx("a",{className:"hover:bg-white hover:text-black",children:"Apple Pay"})})]})]}),_.jsx("input",{type:"text",placeholder:"amount",className:"border rounded-lg py-3 px-3 bg-black border-primary-500 placeholder-white-500 text-white"}),_.jsx("button",{className:"border border-primary-500 bg-green-950 text-white rounded-lg py-3 font-semibold",children:"Continue"})]})})})})})})})}const tD=()=>{const[t,e]=K.useState(""),[n,r]=K.useState(""),s=Vd(),o=async()=>{event==null||event.preventDefault();try{const g=(await A9(g3,t,n)).user;console.log(g),s("/home")}catch(c){console.log(c)}};return _.jsx("div",{children:_.jsx("div",{className:" min-h-screen grid bg-primary",children:_.jsx("div",{className:"flex flex-col sm:flex-row items-center md:items-start sm:justify-center md:justify-start flex-auto min-w-0",children:_.jsx("div",{className:" w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white bg-no-repeat bg-cover ",style:{backgroundImage:`url(${Eo})`},children:_.jsx("div",{className:"lg:text-left text-center",children:_.jsx("div",{className:"flex items-center justify-center",children:_.jsxs("div",{className:"bg-primary flex flex-col w-90 border-2 border-primary-500 rounded-3xl px-8 py-10",children:[_.jsxs("div",{className:"text-center m-10",children:[_.jsx("img",{className:"mx-auto w-48 rounded-full",src:Ap,alt:"logo"}),_.jsx("h4",{className:vi.heading1,children:"Bit Wallet"})]}),_.jsxs("form",{children:[_.jsx("p",{className:"mb-4 text-white",children:"Please login to your account"}),_.jsxs("div",{className:"relative mb-4","data-te-input-wrapper-init":!0,children:[_.jsx("input",{type:"text",name:"email",onChange:c=>e(c.target.value),className:"peer block min-h-[auto] w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder-opacity-100 peer-data-[te-input-state-active]:placeholder-opacity-100 motion-reduce:transition-none dark:placeholder-text-neutral-200 [&:not([data-te-input-placeholder-active])]:placeholder-opacity-0",id:"",placeholder:"Username"}),_.jsx("label",{htmlFor:"email",className:"pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] text-neutral-500 transition-all duration-200 ease-out peer-focus:-translate-y-[0.9rem] peer-focus:scale-[0.8] peer-focus:text-primary peer-data-[te-input-state-active]:-translate-y-[0.9rem] peer-data-[te-input-state-active]:scale-[0.8] motion-reduce:transition-none dark:text-neutral-200 dark:peer-focus:text-primary",children:"Username"})]}),_.jsxs("div",{className:"relative mb-4 border-1 border-black","data-te-input-wrapper-init":!0,children:[_.jsx("input",{type:"password",name:"password",className:"peer  block min-h-[auto] w-full rounded border-1 border-black bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder-opacity-100 peer-data-[te-input-state-active]:placeholder-opacity-100 motion-reduce:transition-none dark:placeholder-text-neutral-200 [&:not([data-te-input-placeholder-active])]:placeholder-opacity-0",id:"",onChange:c=>r(c.target.value),placeholder:"Password"}),_.jsx("label",{htmlFor:"password",className:"pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] text-neutral-500 transition-all duration-200 ease-out peer-focus:-translate-y-[0.9rem] peer-focus:scale-[0.8] peer-focus:text-primary peer-data-[te-input-state-active]:-translate-y-[0.9rem] peer-data-[te-input-state-active]:scale-[0.8] motion-reduce:transition-none dark:text-neutral-200 dark:peer-focus:text-primary",children:"Password"})]}),_.jsxs("div",{className:"mb-12 pt-1 text-center",children:[_.jsx("button",{className:" text w-full white bg-black border-2 border-primary-500 py-3 px-4 rounded-xl",type:"button",onClick:o,"data-te-ripple-init":!0,"data-te-ripple-color":"light",children:"Log in"}),_.jsx("br",{}),_.jsx("button",{className:" text-white bg-green-950 w-full mt-4  py-3 px-4 rounded-xl",children:_.jsx(Bn,{to:"/CreateWallet",children:"No account? Register here"})})]})]})]})})})})})})})},nD=()=>{const[t,e]=K.useState(""),[n,r]=K.useState(""),s=async()=>{event==null||event.preventDefault(),await C9(g3,t,n).then(o=>{const c=o.user;console.log(c)}).catch(o=>{console.log(o.message)})};return _.jsx("div",{children:_.jsx("div",{className:"min-h-screen grid bg-primary",children:_.jsx("div",{className:"flex flex-col sm:flex-row items-center md:items-start sm:justify-center md:justify-start flex-auto min-w-0",children:_.jsx("div",{className:"w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white bg-no-repeat bg-cover ",style:{backgroundImage:`url(${Eo})`},children:_.jsx("div",{className:"lg:text-left text-center",children:_.jsx("div",{className:"flex items-center justify-center",children:_.jsxs("div",{className:"bg-primary flex flex-col w-90 border-2 border-primary-500 rounded-3xl px-8 py-10",children:[_.jsxs("div",{className:"text-center m-10",children:[_.jsx("img",{className:"mx-auto w-48 rounded-full",src:Ap,alt:"logo"}),_.jsx("h4",{className:vi.heading1,children:"Bit Wallet"})]}),_.jsxs("form",{onClick:s,children:[_.jsx("p",{className:"mb-4 text-white",children:"Please Register your wallet"}),_.jsxs("div",{className:"relative mb-4","data-te-input-wrapper-init":!0,children:[_.jsx("input",{type:"text",name:"email",onChange:o=>e(o.target.value),className:"peer block min-h-[auto] w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder-opacity-100 peer-data-[te-input-state-active]:placeholder-opacity-100 motion-reduce:transition-none dark:placeholder-text-neutral-200 [&:not([data-te-input-placeholder-active])]:placeholder-opacity-0",id:"exampleFormControlInput1",placeholder:"Username"}),_.jsx("label",{htmlFor:"email",className:"pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] text-neutral-500 transition-all duration-200 ease-out peer-focus:-translate-y-[0.9rem] peer-focus:scale-[0.8] peer-focus:text-primary peer-data-[te-input-state-active]:-translate-y-[0.9rem] peer-data-[te-input-state-active]:scale-[0.8] motion-reduce:transition-none dark:text-neutral-200 dark:peer-focus:text-primary",children:"Username"})]}),_.jsxs("div",{className:"relative mb-4 border-1 border-black","data-te-input-wrapper-init":!0,children:[_.jsx("input",{type:"text",name:"password",onChange:o=>r(o.target.value),className:"peer  block min-h-[auto] w-full rounded border-1 border-black bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder-opacity-100 peer-data-[te-input-state-active]:placeholder-opacity-100 motion-reduce:transition-none dark:placeholder-text-neutral-200 [&:not([data-te-input-placeholder-active])]:placeholder-opacity-0",id:"exampleFormControlInput11",placeholder:"Password"}),_.jsx("label",{htmlFor:"password",className:"pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] text-neutral-500 transition-all duration-200 ease-out peer-focus:-translate-y-[0.9rem] peer-focus:scale-[0.8] peer-focus:text-primary peer-data-[te-input-state-active]:-translate-y-[0.9rem] peer-data-[te-input-state-active]:scale-[0.8] motion-reduce:transition-none dark:text-neutral-200 dark:peer-focus:text-primary",children:"Password"})]}),_.jsxs("div",{className:"mb-12 pb-1 pt-1 text-center",children:[_.jsx("button",{className:" text w-full white bg-black border-2 border-primary-500 py-3 px-4 rounded-xl",type:"button","data-te-ripple-init":!0,"data-te-ripple-color":"light",children:"Create Your Wallet"}),_.jsx("br",{}),_.jsx("button",{className:" text w-full white bg-green-950 mt-4 py-3 px-4 rounded-xl",children:_.jsx(Bn,{to:"/Login",children:"Already Registered ? Login"})})]})]})]})})})})})})})},rD={black:"#000",white:"#fff"},Pc=rD,iD={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Fo=iD,sD={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Uo=sD,oD={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},jo=oD,aD={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Vo=aD,lD={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},zo=lD,cD={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Al=cD,uD={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},hD=uD;function Se(){return Se=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Se.apply(this,arguments)}function Go(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function y3(t){if(!Go(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=y3(t[n])}),e}function Ni(t,e,n={clone:!0}){const r=n.clone?Se({},t):t;return Go(t)&&Go(e)&&Object.keys(e).forEach(s=>{s!=="__proto__"&&(Go(e[s])&&s in t&&Go(t[s])?r[s]=Ni(t[s],e[s],n):n.clone?r[s]=Go(e[s])?y3(e[s]):e[s]:r[s]=e[s])}),r}function Ba(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function Ri(t){if(typeof t!="string")throw new Error(Ba(7));return t.charAt(0).toUpperCase()+t.slice(1)}function x3(t,e){const n=Se({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=Se({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const s=t[r]||{},o=e[r];n[r]={},!o||!Object.keys(o)?n[r]=s:!s||!Object.keys(s)?n[r]=o:(n[r]=Se({},o),Object.keys(s).forEach(c=>{n[r][c]=x3(s[c],o[c])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function w3(t,e,n=void 0){const r={};return Object.keys(t).forEach(s=>{r[s]=t[s].reduce((o,c)=>{if(c){const g=e(c);g!==""&&o.push(g),n&&n[c]&&o.push(n[c])}return o},[]).join(" ")}),r}const iw=t=>t,dD=()=>{let t=iw;return{configure(e){t=e},generate(e){return t(e)},reset(){t=iw}}},fD=dD(),gD=fD,pD={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Pm(t,e,n="Mui"){const r=pD[e];return r?`${n}-${r}`:`${gD.generate(t)}-${e}`}function E3(t,e,n="Mui"){const r={};return e.forEach(s=>{r[s]=Pm(t,s,n)}),r}const v3="$$material";function yi(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function _3(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var mD=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,yD=_3(function(t){return mD.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function xD(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function wD(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var ED=function(){function t(n){var r=this;this._insertTag=function(s){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,o),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(wD(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var o=xD(s);try{o.insertRule(r,o.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),_n="-ms-",xd="-moz-",Xe="-webkit-",C3="comm",Lm="rule",Bm="decl",vD="@import",A3="@keyframes",_D="@layer",CD=Math.abs,Ef=String.fromCharCode,AD=Object.assign;function ID(t,e){return dn(t,0)^45?(((e<<2^dn(t,0))<<2^dn(t,1))<<2^dn(t,2))<<2^dn(t,3):0}function I3(t){return t.trim()}function TD(t,e){return(t=e.exec(t))?t[0]:t}function Ye(t,e,n){return t.replace(e,n)}function Ig(t,e){return t.indexOf(e)}function dn(t,e){return t.charCodeAt(e)|0}function Lc(t,e,n){return t.slice(e,n)}function Zr(t){return t.length}function Fm(t){return t.length}function th(t,e){return e.push(t),t}function SD(t,e){return t.map(e).join("")}var vf=1,Fa=1,T3=0,tr=0,Vt=0,Za="";function _f(t,e,n,r,s,o,c){return{value:t,root:e,parent:n,type:r,props:s,children:o,line:vf,column:Fa,length:c,return:""}}function Il(t,e){return AD(_f("",null,null,"",null,null,0),t,{length:-t.length},e)}function bD(){return Vt}function ND(){return Vt=tr>0?dn(Za,--tr):0,Fa--,Vt===10&&(Fa=1,vf--),Vt}function dr(){return Vt=tr<T3?dn(Za,tr++):0,Fa++,Vt===10&&(Fa=1,vf++),Vt}function fi(){return dn(Za,tr)}function vh(){return tr}function cu(t,e){return Lc(Za,t,e)}function Bc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function S3(t){return vf=Fa=1,T3=Zr(Za=t),tr=0,[]}function b3(t){return Za="",t}function _h(t){return I3(cu(tr-1,Tg(t===91?t+2:t===40?t+1:t)))}function RD(t){for(;(Vt=fi())&&Vt<33;)dr();return Bc(t)>2||Bc(Vt)>3?"":" "}function OD(t,e){for(;--e&&dr()&&!(Vt<48||Vt>102||Vt>57&&Vt<65||Vt>70&&Vt<97););return cu(t,vh()+(e<6&&fi()==32&&dr()==32))}function Tg(t){for(;dr();)switch(Vt){case t:return tr;case 34:case 39:t!==34&&t!==39&&Tg(Vt);break;case 40:t===41&&Tg(t);break;case 92:dr();break}return tr}function kD(t,e){for(;dr()&&t+Vt!==47+10;)if(t+Vt===42+42&&fi()===47)break;return"/*"+cu(e,tr-1)+"*"+Ef(t===47?t:dr())}function DD(t){for(;!Bc(fi());)dr();return cu(t,tr)}function MD(t){return b3(Ch("",null,null,null,[""],t=S3(t),0,[0],t))}function Ch(t,e,n,r,s,o,c,g,m){for(var p=0,w=0,v=c,I=0,R=0,M=0,D=1,U=1,k=1,S=0,O="",B=s,X=o,G=r,F=O;U;)switch(M=S,S=dr()){case 40:if(M!=108&&dn(F,v-1)==58){Ig(F+=Ye(_h(S),"&","&\f"),"&\f")!=-1&&(k=-1);break}case 34:case 39:case 91:F+=_h(S);break;case 9:case 10:case 13:case 32:F+=RD(M);break;case 92:F+=OD(vh()-1,7);continue;case 47:switch(fi()){case 42:case 47:th(PD(kD(dr(),vh()),e,n),m);break;default:F+="/"}break;case 123*D:g[p++]=Zr(F)*k;case 125*D:case 59:case 0:switch(S){case 0:case 125:U=0;case 59+w:k==-1&&(F=Ye(F,/\f/g,"")),R>0&&Zr(F)-v&&th(R>32?ow(F+";",r,n,v-1):ow(Ye(F," ","")+";",r,n,v-2),m);break;case 59:F+=";";default:if(th(G=sw(F,e,n,p,w,s,g,O,B=[],X=[],v),o),S===123)if(w===0)Ch(F,e,G,G,B,o,v,g,X);else switch(I===99&&dn(F,3)===110?100:I){case 100:case 108:case 109:case 115:Ch(t,G,G,r&&th(sw(t,G,G,0,0,s,g,O,s,B=[],v),X),s,X,v,g,r?B:X);break;default:Ch(F,G,G,G,[""],X,0,g,X)}}p=w=R=0,D=k=1,O=F="",v=c;break;case 58:v=1+Zr(F),R=M;default:if(D<1){if(S==123)--D;else if(S==125&&D++==0&&ND()==125)continue}switch(F+=Ef(S),S*D){case 38:k=w>0?1:(F+="\f",-1);break;case 44:g[p++]=(Zr(F)-1)*k,k=1;break;case 64:fi()===45&&(F+=_h(dr())),I=fi(),w=v=Zr(O=F+=DD(vh())),S++;break;case 45:M===45&&Zr(F)==2&&(D=0)}}return o}function sw(t,e,n,r,s,o,c,g,m,p,w){for(var v=s-1,I=s===0?o:[""],R=Fm(I),M=0,D=0,U=0;M<r;++M)for(var k=0,S=Lc(t,v+1,v=CD(D=c[M])),O=t;k<R;++k)(O=I3(D>0?I[k]+" "+S:Ye(S,/&\f/g,I[k])))&&(m[U++]=O);return _f(t,e,n,s===0?Lm:g,m,p,w)}function PD(t,e,n){return _f(t,e,n,C3,Ef(bD()),Lc(t,2,-2),0)}function ow(t,e,n,r){return _f(t,e,n,Bm,Lc(t,0,r),Lc(t,r+1,-1),r)}function va(t,e){for(var n="",r=Fm(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function LD(t,e,n,r){switch(t.type){case _D:if(t.children.length)break;case vD:case Bm:return t.return=t.return||t.value;case C3:return"";case A3:return t.return=t.value+"{"+va(t.children,r)+"}";case Lm:t.value=t.props.join(",")}return Zr(n=va(t.children,r))?t.return=t.value+"{"+n+"}":""}function BD(t){var e=Fm(t);return function(n,r,s,o){for(var c="",g=0;g<e;g++)c+=t[g](n,r,s,o)||"";return c}}function FD(t){return function(e){e.root||(e=e.return)&&t(e)}}var UD=function(e,n,r){for(var s=0,o=0;s=o,o=fi(),s===38&&o===12&&(n[r]=1),!Bc(o);)dr();return cu(e,tr)},jD=function(e,n){var r=-1,s=44;do switch(Bc(s)){case 0:s===38&&fi()===12&&(n[r]=1),e[r]+=UD(tr-1,n,r);break;case 2:e[r]+=_h(s);break;case 4:if(s===44){e[++r]=fi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Ef(s)}while(s=dr());return e},VD=function(e,n){return b3(jD(S3(e),n))},aw=new WeakMap,zD=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!aw.get(r))&&!s){aw.set(e,!0);for(var o=[],c=VD(n,o),g=r.props,m=0,p=0;m<c.length;m++)for(var w=0;w<g.length;w++,p++)e.props[p]=o[m]?c[m].replace(/&\f/g,g[w]):g[w]+" "+c[m]}}},HD=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function N3(t,e){switch(ID(t,e)){case 5103:return Xe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Xe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Xe+t+xd+t+_n+t+t;case 6828:case 4268:return Xe+t+_n+t+t;case 6165:return Xe+t+_n+"flex-"+t+t;case 5187:return Xe+t+Ye(t,/(\w+).+(:[^]+)/,Xe+"box-$1$2"+_n+"flex-$1$2")+t;case 5443:return Xe+t+_n+"flex-item-"+Ye(t,/flex-|-self/,"")+t;case 4675:return Xe+t+_n+"flex-line-pack"+Ye(t,/align-content|flex-|-self/,"")+t;case 5548:return Xe+t+_n+Ye(t,"shrink","negative")+t;case 5292:return Xe+t+_n+Ye(t,"basis","preferred-size")+t;case 6060:return Xe+"box-"+Ye(t,"-grow","")+Xe+t+_n+Ye(t,"grow","positive")+t;case 4554:return Xe+Ye(t,/([^-])(transform)/g,"$1"+Xe+"$2")+t;case 6187:return Ye(Ye(Ye(t,/(zoom-|grab)/,Xe+"$1"),/(image-set)/,Xe+"$1"),t,"")+t;case 5495:case 3959:return Ye(t,/(image-set\([^]*)/,Xe+"$1$`$1");case 4968:return Ye(Ye(t,/(.+:)(flex-)?(.*)/,Xe+"box-pack:$3"+_n+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Xe+t+t;case 4095:case 3583:case 4068:case 2532:return Ye(t,/(.+)-inline(.+)/,Xe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Zr(t)-1-e>6)switch(dn(t,e+1)){case 109:if(dn(t,e+4)!==45)break;case 102:return Ye(t,/(.+:)(.+)-([^]+)/,"$1"+Xe+"$2-$3$1"+xd+(dn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Ig(t,"stretch")?N3(Ye(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(dn(t,e+1)!==115)break;case 6444:switch(dn(t,Zr(t)-3-(~Ig(t,"!important")&&10))){case 107:return Ye(t,":",":"+Xe)+t;case 101:return Ye(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Xe+(dn(t,14)===45?"inline-":"")+"box$3$1"+Xe+"$2$3$1"+_n+"$2box$3")+t}break;case 5936:switch(dn(t,e+11)){case 114:return Xe+t+_n+Ye(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Xe+t+_n+Ye(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Xe+t+_n+Ye(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Xe+t+_n+t+t}return t}var WD=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case Bm:e.return=N3(e.value,e.length);break;case A3:return va([Il(e,{value:Ye(e.value,"@","@"+Xe)})],s);case Lm:if(e.length)return SD(e.props,function(o){switch(TD(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return va([Il(e,{props:[Ye(o,/:(read-\w+)/,":"+xd+"$1")]})],s);case"::placeholder":return va([Il(e,{props:[Ye(o,/:(plac\w+)/,":"+Xe+"input-$1")]}),Il(e,{props:[Ye(o,/:(plac\w+)/,":"+xd+"$1")]}),Il(e,{props:[Ye(o,/:(plac\w+)/,_n+"input-$1")]})],s)}return""})}},$D=[WD],GD=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(D){var U=D.getAttribute("data-emotion");U.indexOf(" ")!==-1&&(document.head.appendChild(D),D.setAttribute("data-s",""))})}var s=e.stylisPlugins||$D,o={},c,g=[];c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(D){for(var U=D.getAttribute("data-emotion").split(" "),k=1;k<U.length;k++)o[U[k]]=!0;g.push(D)});var m,p=[zD,HD];{var w,v=[LD,FD(function(D){w.insert(D)})],I=BD(p.concat(s,v)),R=function(U){return va(MD(U),I)};m=function(U,k,S,O){w=S,R(U?U+"{"+k.styles+"}":k.styles),O&&(M.inserted[k.name]=!0)}}var M={key:n,sheet:new ED({key:n,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:m};return M.sheet.hydrate(g),M},XD=!0;function YD(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):r+=s+" "}),r}var R3=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||XD===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},KD=function(e,n,r){R3(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+s:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function qD(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var QD={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ZD=/[A-Z]|^ms/g,JD=/_EMO_([^_]+?)_([^]*?)_EMO_/g,O3=function(e){return e.charCodeAt(1)===45},lw=function(e){return e!=null&&typeof e!="boolean"},X0=_3(function(t){return O3(t)?t:t.replace(ZD,"-$&").toLowerCase()}),cw=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(JD,function(r,s,o){return Jr={name:s,styles:o,next:Jr},s})}return QD[e]!==1&&!O3(e)&&typeof n=="number"&&n!==0?n+"px":n};function Fc(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Jr={name:n.name,styles:n.styles,next:Jr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Jr={name:r.name,styles:r.styles,next:Jr},r=r.next;var s=n.styles+";";return s}return e7(t,e,n)}case"function":{if(t!==void 0){var o=Jr,c=n(t);return Jr=o,Fc(t,e,c)}break}}if(e==null)return n;var g=e[n];return g!==void 0?g:n}function e7(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Fc(t,e,n[s])+";";else for(var o in n){var c=n[o];if(typeof c!="object")e!=null&&e[c]!==void 0?r+=o+"{"+e[c]+"}":lw(c)&&(r+=X0(o)+":"+cw(o,c)+";");else if(Array.isArray(c)&&typeof c[0]=="string"&&(e==null||e[c[0]]===void 0))for(var g=0;g<c.length;g++)lw(c[g])&&(r+=X0(o)+":"+cw(o,c[g])+";");else{var m=Fc(t,e,c);switch(o){case"animation":case"animationName":{r+=X0(o)+":"+m+";";break}default:r+=o+"{"+m+"}"}}}return r}var uw=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Jr,t7=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var s=!0,o="";Jr=void 0;var c=e[0];c==null||c.raw===void 0?(s=!1,o+=Fc(r,n,c)):o+=c[0];for(var g=1;g<e.length;g++)o+=Fc(r,n,e[g]),s&&(o+=c[g]);uw.lastIndex=0;for(var m="",p;(p=uw.exec(o))!==null;)m+="-"+p[1];var w=qD(o)+m;return{name:w,styles:o,next:Jr}},n7=function(e){return e()},r7=K0["useInsertionEffect"]?K0["useInsertionEffect"]:!1,i7=r7||n7,k3=K.createContext(typeof HTMLElement<"u"?GD({key:"css"}):null);k3.Provider;var s7=function(e){return K.forwardRef(function(n,r){var s=K.useContext(k3);return e(n,s,r)})},D3=K.createContext({}),o7=yD,a7=function(e){return e!=="theme"},hw=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?o7:a7},dw=function(e,n,r){var s;if(n){var o=n.shouldForwardProp;s=e.__emotion_forwardProp&&o?function(c){return e.__emotion_forwardProp(c)&&o(c)}:o}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},l7=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return R3(n,r,s),i7(function(){return KD(n,r,s)}),null},c7=function t(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,o,c;n!==void 0&&(o=n.label,c=n.target);var g=dw(e,n,r),m=g||hw(s),p=!m("as");return function(){var w=arguments,v=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&v.push("label:"+o+";"),w[0]==null||w[0].raw===void 0)v.push.apply(v,w);else{v.push(w[0][0]);for(var I=w.length,R=1;R<I;R++)v.push(w[R],w[0][R])}var M=s7(function(D,U,k){var S=p&&D.as||s,O="",B=[],X=D;if(D.theme==null){X={};for(var G in D)X[G]=D[G];X.theme=K.useContext(D3)}typeof D.className=="string"?O=YD(U.registered,B,D.className):D.className!=null&&(O=D.className+" ");var F=t7(v.concat(B),U.registered,X);O+=U.key+"-"+F.name,c!==void 0&&(O+=" "+c);var Z=p&&g===void 0?hw(S):m,$={};for(var se in D)p&&se==="as"||Z(se)&&($[se]=D[se]);return $.className=O,$.ref=k,K.createElement(K.Fragment,null,K.createElement(l7,{cache:U,serialized:F,isStringTag:typeof S=="string"}),K.createElement(S,$))});return M.displayName=o!==void 0?o:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",M.defaultProps=e.defaultProps,M.__emotion_real=M,M.__emotion_base=s,M.__emotion_styles=v,M.__emotion_forwardProp=g,Object.defineProperty(M,"toString",{value:function(){return"."+c}}),M.withComponent=function(D,U){return t(D,Se({},n,U,{shouldForwardProp:dw(M,U,!0)})).apply(void 0,v)},M}},u7=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Sg=c7.bind();u7.forEach(function(t){Sg[t]=Sg(t)});/**
 * @mui/styled-engine v5.14.10
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function h7(t,e){return Sg(t,e)}const d7=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},f7=["values","unit","step"],g7=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>Se({},n,{[r.key]:r.val}),{})};function p7(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,s=yi(t,f7),o=g7(e),c=Object.keys(o);function g(I){return`@media (min-width:${typeof e[I]=="number"?e[I]:I}${n})`}function m(I){return`@media (max-width:${(typeof e[I]=="number"?e[I]:I)-r/100}${n})`}function p(I,R){const M=c.indexOf(R);return`@media (min-width:${typeof e[I]=="number"?e[I]:I}${n}) and (max-width:${(M!==-1&&typeof e[c[M]]=="number"?e[c[M]]:R)-r/100}${n})`}function w(I){return c.indexOf(I)+1<c.length?p(I,c[c.indexOf(I)+1]):g(I)}function v(I){const R=c.indexOf(I);return R===0?g(c[1]):R===c.length-1?m(c[R]):p(I,c[c.indexOf(I)+1]).replace("@media","@media not all and")}return Se({keys:c,values:o,up:g,down:m,between:p,only:w,not:v,unit:n},s)}const m7={borderRadius:4},y7=m7;function ec(t,e){return e?Ni(t,e,{clone:!1}):t}const Um={xs:0,sm:600,md:900,lg:1200,xl:1536},fw={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Um[t]}px)`};function Fi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||fw;return e.reduce((c,g,m)=>(c[o.up(o.keys[m])]=n(e[m]),c),{})}if(typeof e=="object"){const o=r.breakpoints||fw;return Object.keys(e).reduce((c,g)=>{if(Object.keys(o.values||Um).indexOf(g)!==-1){const m=o.up(g);c[m]=n(e[g],g)}else{const m=g;c[m]=e[m]}return c},{})}return n(e)}function x7(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,s)=>{const o=t.up(s);return r[o]={},r},{}))||{}}function w7(t,e){return t.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},e)}function Cf(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((s,o)=>s&&s[o]?s[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,t)}function wd(t,e,n,r=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||r:s=Cf(t,n)||r,e&&(s=e(s,r,t)),s}function Qe(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:s}=t,o=c=>{if(c[e]==null)return null;const g=c[e],m=c.theme,p=Cf(m,r)||{};return Fi(c,g,v=>{let I=wd(p,s,v);return v===I&&typeof v=="string"&&(I=wd(p,s,`${e}${v==="default"?"":Ri(v)}`,v)),n===!1?I:{[n]:I}})};return o.propTypes={},o.filterProps=[e],o}function E7(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const v7={m:"margin",p:"padding"},_7={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},gw={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},C7=E7(t=>{if(t.length>2)if(gw[t])t=gw[t];else return[t];const[e,n]=t.split(""),r=v7[e],s=_7[n]||"";return Array.isArray(s)?s.map(o=>r+o):[r+s]}),jm=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Vm=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...jm,...Vm];function uu(t,e,n,r){var s;const o=(s=Cf(t,e,!1))!=null?s:n;return typeof o=="number"?c=>typeof c=="string"?c:o*c:Array.isArray(o)?c=>typeof c=="string"?c:o[c]:typeof o=="function"?o:()=>{}}function M3(t){return uu(t,"spacing",8)}function hu(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function A7(t,e){return n=>t.reduce((r,s)=>(r[s]=hu(e,n),r),{})}function I7(t,e,n,r){if(e.indexOf(n)===-1)return null;const s=C7(n),o=A7(s,r),c=t[n];return Fi(t,c,o)}function P3(t,e){const n=M3(t.theme);return Object.keys(t).map(r=>I7(t,e,r,n)).reduce(ec,{})}function St(t){return P3(t,jm)}St.propTypes={};St.filterProps=jm;function bt(t){return P3(t,Vm)}bt.propTypes={};bt.filterProps=Vm;function T7(t=8){if(t.mui)return t;const e=M3({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const c=e(o);return typeof c=="number"?`${c}px`:c}).join(" ");return n.mui=!0,n}function Af(...t){const e=t.reduce((r,s)=>(s.filterProps.forEach(o=>{r[o]=s}),r),{}),n=r=>Object.keys(r).reduce((s,o)=>e[o]?ec(s,e[o](r)):s,{});return n.propTypes={},n.filterProps=t.reduce((r,s)=>r.concat(s.filterProps),[]),n}function ri(t){return typeof t!="number"?t:`${t}px solid`}const S7=Qe({prop:"border",themeKey:"borders",transform:ri}),b7=Qe({prop:"borderTop",themeKey:"borders",transform:ri}),N7=Qe({prop:"borderRight",themeKey:"borders",transform:ri}),R7=Qe({prop:"borderBottom",themeKey:"borders",transform:ri}),O7=Qe({prop:"borderLeft",themeKey:"borders",transform:ri}),k7=Qe({prop:"borderColor",themeKey:"palette"}),D7=Qe({prop:"borderTopColor",themeKey:"palette"}),M7=Qe({prop:"borderRightColor",themeKey:"palette"}),P7=Qe({prop:"borderBottomColor",themeKey:"palette"}),L7=Qe({prop:"borderLeftColor",themeKey:"palette"}),If=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=uu(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:hu(e,r)});return Fi(t,t.borderRadius,n)}return null};If.propTypes={};If.filterProps=["borderRadius"];Af(S7,b7,N7,R7,O7,k7,D7,M7,P7,L7,If);const Tf=t=>{if(t.gap!==void 0&&t.gap!==null){const e=uu(t.theme,"spacing",8),n=r=>({gap:hu(e,r)});return Fi(t,t.gap,n)}return null};Tf.propTypes={};Tf.filterProps=["gap"];const Sf=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=uu(t.theme,"spacing",8),n=r=>({columnGap:hu(e,r)});return Fi(t,t.columnGap,n)}return null};Sf.propTypes={};Sf.filterProps=["columnGap"];const bf=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=uu(t.theme,"spacing",8),n=r=>({rowGap:hu(e,r)});return Fi(t,t.rowGap,n)}return null};bf.propTypes={};bf.filterProps=["rowGap"];const B7=Qe({prop:"gridColumn"}),F7=Qe({prop:"gridRow"}),U7=Qe({prop:"gridAutoFlow"}),j7=Qe({prop:"gridAutoColumns"}),V7=Qe({prop:"gridAutoRows"}),z7=Qe({prop:"gridTemplateColumns"}),H7=Qe({prop:"gridTemplateRows"}),W7=Qe({prop:"gridTemplateAreas"}),$7=Qe({prop:"gridArea"});Af(Tf,Sf,bf,B7,F7,U7,j7,V7,z7,H7,W7,$7);function _a(t,e){return e==="grey"?e:t}const G7=Qe({prop:"color",themeKey:"palette",transform:_a}),X7=Qe({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:_a}),Y7=Qe({prop:"backgroundColor",themeKey:"palette",transform:_a});Af(G7,X7,Y7);function ar(t){return t<=1&&t!==0?`${t*100}%`:t}const K7=Qe({prop:"width",transform:ar}),zm=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,s;const o=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||Um[n];return o?((s=t.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:ar(n)}};return Fi(t,t.maxWidth,e)}return null};zm.filterProps=["maxWidth"];const q7=Qe({prop:"minWidth",transform:ar}),Q7=Qe({prop:"height",transform:ar}),Z7=Qe({prop:"maxHeight",transform:ar}),J7=Qe({prop:"minHeight",transform:ar});Qe({prop:"size",cssProperty:"width",transform:ar});Qe({prop:"size",cssProperty:"height",transform:ar});const eM=Qe({prop:"boxSizing"});Af(K7,zm,q7,Q7,Z7,J7,eM);const tM={border:{themeKey:"borders",transform:ri},borderTop:{themeKey:"borders",transform:ri},borderRight:{themeKey:"borders",transform:ri},borderBottom:{themeKey:"borders",transform:ri},borderLeft:{themeKey:"borders",transform:ri},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:If},color:{themeKey:"palette",transform:_a},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:_a},backgroundColor:{themeKey:"palette",transform:_a},p:{style:bt},pt:{style:bt},pr:{style:bt},pb:{style:bt},pl:{style:bt},px:{style:bt},py:{style:bt},padding:{style:bt},paddingTop:{style:bt},paddingRight:{style:bt},paddingBottom:{style:bt},paddingLeft:{style:bt},paddingX:{style:bt},paddingY:{style:bt},paddingInline:{style:bt},paddingInlineStart:{style:bt},paddingInlineEnd:{style:bt},paddingBlock:{style:bt},paddingBlockStart:{style:bt},paddingBlockEnd:{style:bt},m:{style:St},mt:{style:St},mr:{style:St},mb:{style:St},ml:{style:St},mx:{style:St},my:{style:St},margin:{style:St},marginTop:{style:St},marginRight:{style:St},marginBottom:{style:St},marginLeft:{style:St},marginX:{style:St},marginY:{style:St},marginInline:{style:St},marginInlineStart:{style:St},marginInlineEnd:{style:St},marginBlock:{style:St},marginBlockStart:{style:St},marginBlockEnd:{style:St},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Tf},rowGap:{style:bf},columnGap:{style:Sf},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ar},maxWidth:{style:zm},minWidth:{transform:ar},height:{transform:ar},maxHeight:{transform:ar},minHeight:{transform:ar},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Hm=tM;function nM(...t){const e=t.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function rM(t,e){return typeof t=="function"?t(e):t}function iM(){function t(n,r,s,o){const c={[n]:r,theme:s},g=o[n];if(!g)return{[n]:r};const{cssProperty:m=n,themeKey:p,transform:w,style:v}=g;if(r==null)return null;if(p==="typography"&&r==="inherit")return{[n]:r};const I=Cf(s,p)||{};return v?v(c):Fi(c,r,M=>{let D=wd(I,w,M);return M===D&&typeof M=="string"&&(D=wd(I,w,`${n}${M==="default"?"":Ri(M)}`,M)),m===!1?D:{[m]:D}})}function e(n){var r;const{sx:s,theme:o={}}=n||{};if(!s)return null;const c=(r=o.unstable_sxConfig)!=null?r:Hm;function g(m){let p=m;if(typeof m=="function")p=m(o);else if(typeof m!="object")return m;if(!p)return null;const w=x7(o.breakpoints),v=Object.keys(w);let I=w;return Object.keys(p).forEach(R=>{const M=rM(p[R],o);if(M!=null)if(typeof M=="object")if(c[R])I=ec(I,t(R,M,o,c));else{const D=Fi({theme:o},M,U=>({[R]:U}));nM(D,M)?I[R]=e({sx:M,theme:o}):I=ec(I,D)}else I=ec(I,t(R,M,o,c))}),w7(v,I)}return Array.isArray(s)?s.map(g):g(s)}return e}const L3=iM();L3.filterProps=["sx"];const Wm=L3,sM=["breakpoints","palette","spacing","shape"];function $m(t={},...e){const{breakpoints:n={},palette:r={},spacing:s,shape:o={}}=t,c=yi(t,sM),g=p7(n),m=T7(s);let p=Ni({breakpoints:g,direction:"ltr",components:{},palette:Se({mode:"light"},r),spacing:m,shape:Se({},y7,o)},c);return p=e.reduce((w,v)=>Ni(w,v),p),p.unstable_sxConfig=Se({},Hm,c==null?void 0:c.unstable_sxConfig),p.unstable_sx=function(v){return Wm({sx:v,theme:this})},p}function oM(t){return Object.keys(t).length===0}function aM(t=null){const e=K.useContext(D3);return!e||oM(e)?t:e}const lM=$m();function cM(t=lM){return aM(t)}function B3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=B3(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function F3(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=B3(t))&&(r&&(r+=" "),r+=e);return r}const uM=["variant"];function pw(t){return t.length===0}function U3(t){const{variant:e}=t,n=yi(t,uM);let r=e||"";return Object.keys(n).sort().forEach(s=>{s==="color"?r+=pw(r)?t[s]:Ri(t[s]):r+=`${pw(r)?s:Ri(s)}${Ri(t[s].toString())}`}),r}const hM=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function dM(t){return Object.keys(t).length===0}function fM(t){return typeof t=="string"&&t.charCodeAt(0)>96}const gM=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,pM=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(s=>{const o=U3(s.props);r[o]=s.style}),r},mM=(t,e,n,r)=>{var s;const{ownerState:o={}}=t,c=[],g=n==null||(s=n.components)==null||(s=s[r])==null?void 0:s.variants;return g&&g.forEach(m=>{let p=!0;Object.keys(m.props).forEach(w=>{o[w]!==m.props[w]&&t[w]!==m.props[w]&&(p=!1)}),p&&c.push(e[U3(m.props)])}),c};function Ah(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const yM=$m(),xM=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Tl({defaultTheme:t,theme:e,themeId:n}){return dM(e)?t:e[n]||e}function wM(t){return t?(e,n)=>n[t]:null}function EM(t={}){const{themeId:e,defaultTheme:n=yM,rootShouldForwardProp:r=Ah,slotShouldForwardProp:s=Ah}=t,o=c=>Wm(Se({},c,{theme:Tl(Se({},c,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(c,g={})=>{d7(c,B=>B.filter(X=>!(X!=null&&X.__mui_systemSx)));const{name:m,slot:p,skipVariantsResolver:w,skipSx:v,overridesResolver:I=wM(xM(p))}=g,R=yi(g,hM),M=w!==void 0?w:p&&p!=="Root"&&p!=="root"||!1,D=v||!1;let U,k=Ah;p==="Root"||p==="root"?k=r:p?k=s:fM(c)&&(k=void 0);const S=h7(c,Se({shouldForwardProp:k,label:U},R)),O=(B,...X)=>{const G=X?X.map(se=>typeof se=="function"&&se.__emotion_real!==se?Me=>se(Se({},Me,{theme:Tl(Se({},Me,{defaultTheme:n,themeId:e}))})):se):[];let F=B;m&&I&&G.push(se=>{const Me=Tl(Se({},se,{defaultTheme:n,themeId:e})),ge=gM(m,Me);if(ge){const Oe={};return Object.entries(ge).forEach(([yt,W])=>{Oe[yt]=typeof W=="function"?W(Se({},se,{theme:Me})):W}),I(se,Oe)}return null}),m&&!M&&G.push(se=>{const Me=Tl(Se({},se,{defaultTheme:n,themeId:e}));return mM(se,pM(m,Me),Me,m)}),D||G.push(o);const Z=G.length-X.length;if(Array.isArray(B)&&Z>0){const se=new Array(Z).fill("");F=[...B,...se],F.raw=[...B.raw,...se]}else typeof B=="function"&&B.__emotion_real!==B&&(F=se=>B(Se({},se,{theme:Tl(Se({},se,{defaultTheme:n,themeId:e}))})));const $=S(F,...G);return c.muiName&&($.muiName=c.muiName),$};return S.withConfig&&(O.withConfig=S.withConfig),O}}function vM(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:x3(e.components[n].defaultProps,r)}function _M({props:t,name:e,defaultTheme:n,themeId:r}){let s=cM(n);return r&&(s=s[r]||s),vM({theme:s,name:e,props:t})}function j3(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function CM(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Ua(t){if(t.type)return t;if(t.charAt(0)==="#")return Ua(CM(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Ba(9,t));let r=t.substring(e+1,t.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error(Ba(10,s))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:s}}function Gm(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((s,o)=>o<3?parseInt(s,10):s):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function AM(t){t=Ua(t);const{values:e}=t,n=e[0],r=e[1]/100,s=e[2]/100,o=r*Math.min(s,1-s),c=(p,w=(p+n/30)%12)=>s-o*Math.max(Math.min(w-3,9-w,1),-1);let g="rgb";const m=[Math.round(c(0)*255),Math.round(c(8)*255),Math.round(c(4)*255)];return t.type==="hsla"&&(g+="a",m.push(e[3])),Gm({type:g,values:m})}function mw(t){t=Ua(t);let e=t.type==="hsl"||t.type==="hsla"?Ua(AM(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function IM(t,e){const n=mw(t),r=mw(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function TM(t,e){if(t=Ua(t),e=j3(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Gm(t)}function SM(t,e){if(t=Ua(t),e=j3(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Gm(t)}function bM(t,e){return Se({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const NM=["mode","contrastThreshold","tonalOffset"],yw={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Pc.white,default:Pc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Y0={text:{primary:Pc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Pc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function xw(t,e,n,r){const s=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=SM(t.main,s):e==="dark"&&(t.dark=TM(t.main,o)))}function RM(t="light"){return t==="dark"?{main:jo[200],light:jo[50],dark:jo[400]}:{main:jo[700],light:jo[400],dark:jo[800]}}function OM(t="light"){return t==="dark"?{main:Uo[200],light:Uo[50],dark:Uo[400]}:{main:Uo[500],light:Uo[300],dark:Uo[700]}}function kM(t="light"){return t==="dark"?{main:Fo[500],light:Fo[300],dark:Fo[700]}:{main:Fo[700],light:Fo[400],dark:Fo[800]}}function DM(t="light"){return t==="dark"?{main:Vo[400],light:Vo[300],dark:Vo[700]}:{main:Vo[700],light:Vo[500],dark:Vo[900]}}function MM(t="light"){return t==="dark"?{main:zo[400],light:zo[300],dark:zo[700]}:{main:zo[800],light:zo[500],dark:zo[900]}}function PM(t="light"){return t==="dark"?{main:Al[400],light:Al[300],dark:Al[700]}:{main:"#ed6c02",light:Al[500],dark:Al[900]}}function LM(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,s=yi(t,NM),o=t.primary||RM(e),c=t.secondary||OM(e),g=t.error||kM(e),m=t.info||DM(e),p=t.success||MM(e),w=t.warning||PM(e);function v(D){return IM(D,Y0.text.primary)>=n?Y0.text.primary:yw.text.primary}const I=({color:D,name:U,mainShade:k=500,lightShade:S=300,darkShade:O=700})=>{if(D=Se({},D),!D.main&&D[k]&&(D.main=D[k]),!D.hasOwnProperty("main"))throw new Error(Ba(11,U?` (${U})`:"",k));if(typeof D.main!="string")throw new Error(Ba(12,U?` (${U})`:"",JSON.stringify(D.main)));return xw(D,"light",S,r),xw(D,"dark",O,r),D.contrastText||(D.contrastText=v(D.main)),D},R={dark:Y0,light:yw};return Ni(Se({common:Se({},Pc),mode:e,primary:I({color:o,name:"primary"}),secondary:I({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:I({color:g,name:"error"}),warning:I({color:w,name:"warning"}),info:I({color:m,name:"info"}),success:I({color:p,name:"success"}),grey:hD,contrastThreshold:n,getContrastText:v,augmentColor:I,tonalOffset:r},R[e]),s)}const BM=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function FM(t){return Math.round(t*1e5)/1e5}const ww={textTransform:"uppercase"},Ew='"Roboto", "Helvetica", "Arial", sans-serif';function UM(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=Ew,fontSize:s=14,fontWeightLight:o=300,fontWeightRegular:c=400,fontWeightMedium:g=500,fontWeightBold:m=700,htmlFontSize:p=16,allVariants:w,pxToRem:v}=n,I=yi(n,BM),R=s/14,M=v||(k=>`${k/p*R}rem`),D=(k,S,O,B,X)=>Se({fontFamily:r,fontWeight:k,fontSize:M(S),lineHeight:O},r===Ew?{letterSpacing:`${FM(B/S)}em`}:{},X,w),U={h1:D(o,96,1.167,-1.5),h2:D(o,60,1.2,-.5),h3:D(c,48,1.167,0),h4:D(c,34,1.235,.25),h5:D(c,24,1.334,0),h6:D(g,20,1.6,.15),subtitle1:D(c,16,1.75,.15),subtitle2:D(g,14,1.57,.1),body1:D(c,16,1.5,.15),body2:D(c,14,1.43,.15),button:D(g,14,1.75,.4,ww),caption:D(c,12,1.66,.4),overline:D(c,12,2.66,1,ww),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ni(Se({htmlFontSize:p,pxToRem:M,fontFamily:r,fontSize:s,fontWeightLight:o,fontWeightRegular:c,fontWeightMedium:g,fontWeightBold:m},U),I,{clone:!1})}const jM=.2,VM=.14,zM=.12;function pt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${jM})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${VM})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${zM})`].join(",")}const HM=["none",pt(0,2,1,-1,0,1,1,0,0,1,3,0),pt(0,3,1,-2,0,2,2,0,0,1,5,0),pt(0,3,3,-2,0,3,4,0,0,1,8,0),pt(0,2,4,-1,0,4,5,0,0,1,10,0),pt(0,3,5,-1,0,5,8,0,0,1,14,0),pt(0,3,5,-1,0,6,10,0,0,1,18,0),pt(0,4,5,-2,0,7,10,1,0,2,16,1),pt(0,5,5,-3,0,8,10,1,0,3,14,2),pt(0,5,6,-3,0,9,12,1,0,3,16,2),pt(0,6,6,-3,0,10,14,1,0,4,18,3),pt(0,6,7,-4,0,11,15,1,0,4,20,3),pt(0,7,8,-4,0,12,17,2,0,5,22,4),pt(0,7,8,-4,0,13,19,2,0,5,24,4),pt(0,7,9,-4,0,14,21,2,0,5,26,4),pt(0,8,9,-5,0,15,22,2,0,6,28,5),pt(0,8,10,-5,0,16,24,2,0,6,30,5),pt(0,8,11,-5,0,17,26,2,0,6,32,5),pt(0,9,11,-5,0,18,28,2,0,7,34,6),pt(0,9,12,-6,0,19,29,2,0,7,36,6),pt(0,10,13,-6,0,20,31,3,0,8,38,7),pt(0,10,13,-6,0,21,33,3,0,8,40,7),pt(0,10,14,-6,0,22,35,3,0,8,42,7),pt(0,11,14,-7,0,23,36,3,0,9,44,8),pt(0,11,15,-7,0,24,38,3,0,9,46,8)],WM=HM,$M=["duration","easing","delay"],GM={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},XM={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function vw(t){return`${Math.round(t)}ms`}function YM(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function KM(t){const e=Se({},GM,t.easing),n=Se({},XM,t.duration);return Se({getAutoHeightDuration:YM,create:(s=["all"],o={})=>{const{duration:c=n.standard,easing:g=e.easeInOut,delay:m=0}=o;return yi(o,$M),(Array.isArray(s)?s:[s]).map(p=>`${p} ${typeof c=="string"?c:vw(c)} ${g} ${typeof m=="string"?m:vw(m)}`).join(",")}},t,{easing:e,duration:n})}const qM={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},QM=qM,ZM=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function JM(t={},...e){const{mixins:n={},palette:r={},transitions:s={},typography:o={}}=t,c=yi(t,ZM);if(t.vars)throw new Error(Ba(18));const g=LM(r),m=$m(t);let p=Ni(m,{mixins:bM(m.breakpoints,n),palette:g,shadows:WM.slice(),typography:UM(g,o),transitions:KM(s),zIndex:Se({},QM)});return p=Ni(p,c),p=e.reduce((w,v)=>Ni(w,v),p),p.unstable_sxConfig=Se({},Hm,c==null?void 0:c.unstable_sxConfig),p.unstable_sx=function(v){return Wm({sx:v,theme:this})},p}const eP=JM(),V3=eP;function z3({props:t,name:e}){return _M({props:t,name:e,defaultTheme:V3,themeId:v3})}const tP=t=>Ah(t)&&t!=="classes",nP=EM({themeId:v3,defaultTheme:V3,rootShouldForwardProp:tP}),Nf=nP;function rP(t){return Pm("MuiSvgIcon",t)}E3("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const iP=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],sP=t=>{const{color:e,fontSize:n,classes:r}=t,s={root:["root",e!=="inherit"&&`color${Ri(e)}`,`fontSize${Ri(n)}`]};return w3(s,rP,r)},oP=Nf("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ri(n.color)}`],e[`fontSize${Ri(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,s,o,c,g,m,p,w,v,I,R,M;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(s=t.transitions)==null||(s=s.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(c=o.pxToRem)==null?void 0:c.call(o,20))||"1.25rem",medium:((g=t.typography)==null||(m=g.pxToRem)==null?void 0:m.call(g,24))||"1.5rem",large:((p=t.typography)==null||(w=p.pxToRem)==null?void 0:w.call(p,35))||"2.1875rem"}[e.fontSize],color:(v=(I=(t.vars||t).palette)==null||(I=I[e.color])==null?void 0:I.main)!=null?v:{action:(R=(t.vars||t).palette)==null||(R=R.action)==null?void 0:R.active,disabled:(M=(t.vars||t).palette)==null||(M=M.action)==null?void 0:M.disabled,inherit:void 0}[e.color]}}),H3=K.forwardRef(function(e,n){const r=z3({props:e,name:"MuiSvgIcon"}),{children:s,className:o,color:c="inherit",component:g="svg",fontSize:m="medium",htmlColor:p,inheritViewBox:w=!1,titleAccess:v,viewBox:I="0 0 24 24"}=r,R=yi(r,iP),M=K.isValidElement(s)&&s.type==="svg",D=Se({},r,{color:c,component:g,fontSize:m,instanceFontSize:e.fontSize,inheritViewBox:w,viewBox:I,hasSvgAsChild:M}),U={};w||(U.viewBox=I);const k=sP(D);return _.jsxs(oP,Se({as:g,className:F3(k.root,o),focusable:"false",color:p,"aria-hidden":v?void 0:!0,role:v?"img":void 0,ref:n},U,R,M&&s.props,{ownerState:D,children:[M?s.props.children:s,v?_.jsx("title",{children:v}):null]}))});H3.muiName="SvgIcon";const _w=H3;function aP(t,e){function n(r,s){return _.jsx(_w,Se({"data-testid":`${e}Icon`,ref:s},r,{children:t}))}return n.muiName=_w.muiName,K.memo(K.forwardRef(n))}const lP=aP(_.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function cP(t){return Pm("MuiAvatar",t)}E3("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const uP=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],hP=t=>{const{classes:e,variant:n,colorDefault:r}=t;return w3({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},cP,e)},dP=Nf("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t,ownerState:e})=>Se({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.variant==="square"&&{borderRadius:0},e.colorDefault&&Se({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}))),fP=Nf("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),gP=Nf(lP,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function pP({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[s,o]=K.useState(!1);return K.useEffect(()=>{if(!n&&!r)return;o(!1);let c=!0;const g=new Image;return g.onload=()=>{c&&o("loaded")},g.onerror=()=>{c&&o("error")},g.crossOrigin=t,g.referrerPolicy=e,g.src=n,r&&(g.srcset=r),()=>{c=!1}},[t,e,n,r]),s}const mP=K.forwardRef(function(e,n){const r=z3({props:e,name:"MuiAvatar"}),{alt:s,children:o,className:c,component:g="div",imgProps:m,sizes:p,src:w,srcSet:v,variant:I="circular"}=r,R=yi(r,uP);let M=null;const D=pP(Se({},m,{src:w,srcSet:v})),U=w||v,k=U&&D!=="error",S=Se({},r,{colorDefault:!k,component:g,variant:I}),O=hP(S);return k?M=_.jsx(fP,Se({alt:s,srcSet:v,src:w,sizes:p,ownerState:S,className:O.img},m)):o!=null?M=o:U&&s?M=s[0]:M=_.jsx(gP,{ownerState:S,className:O.fallback}),_.jsx(dP,Se({as:g,ownerState:S,className:F3(O.root,c),ref:n},R,{children:M}))}),Ed=mP,yP={video:{width:{min:1280,ideal:1920,max:2560},height:{min:720,ideal:1080,max:1440},facingMode:"user"}};function xP(){const[t,e]=K.useState(null),[n,r]=K.useState(null),s=async()=>{try{const m=(await navigator.mediaDevices.enumerateDevices()).find(p=>p.kind==="videoinput");if(m){const p={...yP,deviceId:{exact:m.deviceId}},w=await navigator.mediaDevices.getUserMedia(p);e(w)}else alert("No video camera found.")}catch(g){console.error("Error accessing camera:",g),alert("Error accessing camera. Please check your settings.")}},o=g=>{var p;const m=(p=g.target.files)==null?void 0:p[0];if(m){const w=new FileReader;w.onload=v=>{if(v.target&&typeof v.target.result=="string"){const I=v.target.result;r(I)}},w.readAsDataURL(m)}},c=()=>{"mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices?s():alert("Media features are not available on this device.")};return _.jsx("div",{className:"bg-primary",children:_.jsxs("div",{className:"grid mb-4 pb-10 px-8 mx-4 rounded-3xl bg-primary",children:[_.jsxs("div",{children:[_.jsxs("button",{onClick:()=>c(),children:["Start Camera",_.jsxs("svg",{viewBox:"0 0 24 24",height:"30px",width:"30px",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#ffffff",children:[_.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),_.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),_.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",_.jsx("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," ",_.jsx("path",{d:"M3 16.8V9.2C3 8.0799 3 7.51984 3.21799 7.09202C3.40973 6.71569 3.71569 6.40973 4.09202 6.21799C4.51984 6 5.0799 6 6.2 6H7.25464C7.37758 6 7.43905 6 7.49576 5.9935C7.79166 5.95961 8.05705 5.79559 8.21969 5.54609C8.25086 5.49827 8.27836 5.44328 8.33333 5.33333C8.44329 5.11342 8.49827 5.00346 8.56062 4.90782C8.8859 4.40882 9.41668 4.08078 10.0085 4.01299C10.1219 4 10.2448 4 10.4907 4H13.5093C13.7552 4 13.8781 4 13.9915 4.01299C14.5833 4.08078 15.1141 4.40882 15.4394 4.90782C15.5017 5.00345 15.5567 5.11345 15.6667 5.33333C15.7216 5.44329 15.7491 5.49827 15.7803 5.54609C15.943 5.79559 16.2083 5.95961 16.5042 5.9935C16.561 6 16.6224 6 16.7454 6H17.8C18.9201 6 19.4802 6 19.908 6.21799C20.2843 6.40973 20.5903 6.71569 20.782 7.09202C21 7.51984 21 8.0799 21 9.2V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8Z",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," "]})]})]}),t&&_.jsx("video",{style:{width:1280,height:720},autoPlay:!0,ref:g=>{g&&(g.srcObject=t)}}),n&&_.jsxs("div",{children:[_.jsx("h2",{children:"Preview:"}),_.jsx("img",{src:n,alt:"Uploaded"})]})]}),_.jsx("div",{className:"grid grid-cols-12 gap-6",children:_.jsx("div",{className:"grid grid-cols-12 col-span-12 gap-6 xxl:col-span-9",children:_.jsxs("div",{className:"col-span-12 mt-8",children:[_.jsxs("div",{className:"flex flex-row justify-center",children:[n?_.jsx(Ed,{alt:"Selected Avatar",src:n}):_.jsx(Ed,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg"}),_.jsx("label",{htmlFor:"fileInput",className:"file-input-label",children:_.jsxs("svg",{viewBox:"0 0 24 24",height:"30px",width:"30px",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#ffffff",children:[_.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),_.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),_.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",_.jsx("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," ",_.jsx("path",{d:"M3 16.8V9.2C3 8.0799 3 7.51984 3.21799 7.09202C3.40973 6.71569 3.71569 6.40973 4.09202 6.21799C4.51984 6 5.0799 6 6.2 6H7.25464C7.37758 6 7.43905 6 7.49576 5.9935C7.79166 5.95961 8.05705 5.79559 8.21969 5.54609C8.25086 5.49827 8.27836 5.44328 8.33333 5.33333C8.44329 5.11342 8.49827 5.00346 8.56062 4.90782C8.8859 4.40882 9.41668 4.08078 10.0085 4.01299C10.1219 4 10.2448 4 10.4907 4H13.5093C13.7552 4 13.8781 4 13.9915 4.01299C14.5833 4.08078 15.1141 4.40882 15.4394 4.90782C15.5017 5.00345 15.5567 5.11345 15.6667 5.33333C15.7216 5.44329 15.7491 5.49827 15.7803 5.54609C15.943 5.79559 16.2083 5.95961 16.5042 5.9935C16.561 6 16.6224 6 16.7454 6H17.8C18.9201 6 19.4802 6 19.908 6.21799C20.2843 6.40973 20.5903 6.71569 20.782 7.09202C21 7.51984 21 8.0799 21 9.2V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8Z",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," "]})]})}),_.jsx("input",{type:"file",id:"fileInput",accept:"image/*",onChange:o,style:{display:"none"}})]}),_.jsxs("div",{className:"grid grid-cols-12 gap-6 mt-5 mb-5",children:[_.jsx("div",{className:"transform  hover:scale-105 transition duration-300 bg-gray-500 text-black shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",children:_.jsx("div",{className:" text-xl text-left p-2",children:"Name"})}),_.jsx("div",{className:"transform  hover:scale-105 transition duration-300 bg-gray-500 text-black shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",children:_.jsx("div",{className:" text-xl text-left p-2",children:"Email"})})]}),_.jsx("div",{className:"transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y",children:_.jsxs("div",{className:"p-5 text-primary-500 rounded bg-white",children:[_.jsx("div",{className:"mt-3 text-3xl text-base font-bold leading-8",children:"Your Wallet Balance"}),_.jsx("div",{className:"flex justify-between ",children:_.jsx("div",{className:"mt-3 text-3xl leading-8 text-black",children:"$ 6, 200.34"})})]})}),_.jsxs("div",{className:"grid grid-cols-12 gap-6 mt-5",children:[_.jsx("div",{className:"transform  hover:scale-105 transition duration-300 bg-white text-black shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",children:_.jsx("div",{className:" text-xl text-left p-2",children:"My Wallets"})}),_.jsx("div",{className:"transform  hover:scale-105 transition duration-300 bg-white text-black shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",children:_.jsx("div",{className:" text-xl text-left p-2",children:"Notifications"})}),_.jsx("div",{className:"transform  hover:scale-105 transition duration-300 bg-white text-black shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",children:_.jsx("div",{className:" text-xl text-left p-2",children:"Privacy settings"})}),_.jsx("div",{className:"transform  hover:scale-105 transition duration-300 bg-white text-black shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",children:_.jsx("div",{className:" text-xl text-left p-2",children:"Support and Help"})}),_.jsx("div",{className:"transform  hover:scale-105 transition duration-300 bg-white text-black shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",children:_.jsx("div",{className:" text-xl text-left p-2",children:"Logout"})}),_.jsx("div",{className:"transform  hover:scale-105 transition duration-300 bg-white text-black shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",children:_.jsx("div",{className:" text-xl text-left p-2",children:"Delete Account"})})]})]})})})]})})}var le;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(le||(le={}));var Cw=new Map([[le.QR_CODE,"QR_CODE"],[le.AZTEC,"AZTEC"],[le.CODABAR,"CODABAR"],[le.CODE_39,"CODE_39"],[le.CODE_93,"CODE_93"],[le.CODE_128,"CODE_128"],[le.DATA_MATRIX,"DATA_MATRIX"],[le.MAXICODE,"MAXICODE"],[le.ITF,"ITF"],[le.EAN_13,"EAN_13"],[le.EAN_8,"EAN_8"],[le.PDF_417,"PDF_417"],[le.RSS_14,"RSS_14"],[le.RSS_EXPANDED,"RSS_EXPANDED"],[le.UPC_A,"UPC_A"],[le.UPC_E,"UPC_E"],[le.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Aw;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(Aw||(Aw={}));function wP(t){return Object.values(le).includes(t)}var bs;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(bs||(bs={}));var Pr=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[bs.SCAN_TYPE_CAMERA,bs.SCAN_TYPE_FILE],t}(),W3=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!Cw.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,Cw.get(e))},t}(),Iw=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),bg;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(bg||(bg={}));var $3=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:bg.UNKWOWN_ERROR}},t}(),G3=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function Qr(t){return typeof t>"u"||t===null}function EP(t,e,n){return t>n?n:t<e?e:t}var aa=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),Ze=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}(),Tw=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),X3=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(s),c=Object.keys(e),g=0,m=c;g<m.length;g++){var p=m[g];if(o.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},t}(),Ng={exports:{}};(function(t,e){(function(n,r){r(e)})(hl,function(n){function r(C){return C==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,i){C.__proto__=i}||function(C,i){for(var a in i)i.hasOwnProperty(a)&&(C[a]=i[a])};function o(C,i){s(C,i);function a(){this.constructor=C}C.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}function c(C,i){var a=Object.setPrototypeOf;a?a(C,i):C.__proto__=i}function g(C,i){i===void 0&&(i=C.constructor);var a=Error.captureStackTrace;a&&a(C,i)}var m=function(C){o(i,C);function i(a){var l=this.constructor,u=C.call(this,a)||this;return Object.defineProperty(u,"name",{value:l.name,enumerable:!1}),c(u,l.prototype),g(u),u}return i}(Error);class p extends m{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}p.kind="Exception";class w extends p{}w.kind="ArgumentException";class v extends p{}v.kind="IllegalArgumentException";class I{constructor(i){if(this.binarizer=i,i===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,a){return this.binarizer.getBlackRow(i,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,a,l,u){const h=this.binarizer.getLuminanceSource().crop(i,a,l,u);return new I(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class R extends p{static getChecksumInstance(){return new R}}R.kind="ChecksumException";class M{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class D{static arraycopy(i,a,l,u,h){for(;h--;)l[u++]=i[a++]}static currentTimeMillis(){return Date.now()}}class U extends p{}U.kind="IndexOutOfBoundsException";class k extends U{constructor(i=void 0,a=void 0){super(a),this.index=i,this.message=a}}k.kind="ArrayIndexOutOfBoundsException";class S{static fill(i,a){for(let l=0,u=i.length;l<u;l++)i[l]=a}static fillWithin(i,a,l,u){S.rangeCheck(i.length,a,l);for(let h=a;h<l;h++)i[h]=u}static rangeCheck(i,a,l){if(a>l)throw new v("fromIndex("+a+") > toIndex("+l+")");if(a<0)throw new k(a);if(l>i)throw new k(l)}static asList(...i){return i}static create(i,a,l){return Array.from({length:i}).map(h=>Array.from({length:a}).fill(l))}static createInt32Array(i,a,l){return Array.from({length:i}).map(h=>Int32Array.from({length:a}).fill(l))}static equals(i,a){if(!i||!a||!i.length||!a.length||i.length!==a.length)return!1;for(let l=0,u=i.length;l<u;l++)if(i[l]!==a[l])return!1;return!0}static hashCode(i){if(i===null)return 0;let a=1;for(const l of i)a=31*a+l;return a}static fillUint8Array(i,a){for(let l=0;l!==i.length;l++)i[l]=a}static copyOf(i,a){return i.slice(0,a)}static copyOfUint8Array(i,a){if(i.length<=a){const l=new Uint8Array(a);return l.set(i),l}return i.slice(0,a)}static copyOfRange(i,a,l){const u=l-a,h=new Int32Array(u);return D.arraycopy(i,a,h,0,u),h}static binarySearch(i,a,l){l===void 0&&(l=S.numberComparator);let u=0,h=i.length-1;for(;u<=h;){const d=h+u>>1,f=l(a,i[d]);if(f>0)u=d+1;else if(f<0)h=d-1;else return d}return-u-1}static numberComparator(i,a){return i-a}}class O{static numberOfTrailingZeros(i){let a;if(i===0)return 32;let l=31;return a=i<<16,a!==0&&(l-=16,i=a),a=i<<8,a!==0&&(l-=8,i=a),a=i<<4,a!==0&&(l-=4,i=a),a=i<<2,a!==0&&(l-=2,i=a),l-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let a=1;return i>>>16||(a+=16,i<<=16),i>>>24||(a+=8,i<<=8),i>>>28||(a+=4,i<<=4),i>>>30||(a+=2,i<<=2),a-=i>>>31,a}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,a){return Math.trunc(i/a)}static parseInt(i,a=void 0){return parseInt(i,a)}}O.MIN_VALUE_32_BITS=-2147483648,O.MAX_VALUE=Number.MAX_SAFE_INTEGER;class B{constructor(i,a){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,a==null?this.bits=B.makeArray(i):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const a=B.makeArray(i);D.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const a=this.size;if(i>=a)return a;const l=this.bits;let u=Math.floor(i/32),h=l[u];h&=~((1<<(i&31))-1);const d=l.length;for(;h===0;){if(++u===d)return a;h=l[u]}const f=u*32+O.numberOfTrailingZeros(h);return f>a?a:f}getNextUnset(i){const a=this.size;if(i>=a)return a;const l=this.bits;let u=Math.floor(i/32),h=~l[u];h&=~((1<<(i&31))-1);const d=l.length;for(;h===0;){if(++u===d)return a;h=~l[u]}const f=u*32+O.numberOfTrailingZeros(h);return f>a?a:f}setBulk(i,a){this.bits[Math.floor(i/32)]=a}setRange(i,a){if(a<i||i<0||a>this.size)throw new v;if(a===i)return;a--;const l=Math.floor(i/32),u=Math.floor(a/32),h=this.bits;for(let d=l;d<=u;d++){const f=d>l?0:i&31,x=(2<<(d<u?31:a&31))-(1<<f);h[d]|=x}}clear(){const i=this.bits.length,a=this.bits;for(let l=0;l<i;l++)a[l]=0}isRange(i,a,l){if(a<i||i<0||a>this.size)throw new v;if(a===i)return!0;a--;const u=Math.floor(i/32),h=Math.floor(a/32),d=this.bits;for(let f=u;f<=h;f++){const y=f>u?0:i&31,E=(2<<(f<h?31:a&31))-(1<<y)&4294967295;if((d[f]&E)!==(l?E:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,a){if(a<0||a>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let l=a;l>0;l--)this.appendBit((i>>l-1&1)===1)}appendBitArray(i){const a=i.size;this.ensureCapacity(this.size+a);for(let l=0;l<a;l++)this.appendBit(i.get(l))}xor(i){if(this.size!==i.size)throw new v("Sizes don't match");const a=this.bits;for(let l=0,u=a.length;l<u;l++)a[l]^=i.bits[l]}toBytes(i,a,l,u){for(let h=0;h<u;h++){let d=0;for(let f=0;f<8;f++)this.get(i)&&(d|=1<<7-f),i++;a[l+h]=d}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),l=a+1,u=this.bits;for(let h=0;h<l;h++){let d=u[h];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,i[a-h]=d}if(this.size!==l*32){const h=l*32-this.size;let d=i[0]>>>h;for(let f=1;f<l;f++){const y=i[f];d|=y<<32-h,i[f-1]=d,d=y>>>h}i[l-1]=d}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof B))return!1;const a=i;return this.size===a.size&&S.equals(this.bits,a.bits)}hashCode(){return 31*this.size+S.hashCode(this.bits)}toString(){let i="";for(let a=0,l=this.size;a<l;a++)a&7||(i+=" "),i+=this.get(a)?"X":".";return i}clone(){return new B(this.size,this.bits.slice())}}var X;(function(C){C[C.OTHER=0]="OTHER",C[C.PURE_BARCODE=1]="PURE_BARCODE",C[C.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",C[C.TRY_HARDER=3]="TRY_HARDER",C[C.CHARACTER_SET=4]="CHARACTER_SET",C[C.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",C[C.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",C[C.ASSUME_GS1=7]="ASSUME_GS1",C[C.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",C[C.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",C[C.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(X||(X={}));var G=X;class F extends p{static getFormatInstance(){return new F}}F.kind="FormatException";var Z;(function(C){C[C.Cp437=0]="Cp437",C[C.ISO8859_1=1]="ISO8859_1",C[C.ISO8859_2=2]="ISO8859_2",C[C.ISO8859_3=3]="ISO8859_3",C[C.ISO8859_4=4]="ISO8859_4",C[C.ISO8859_5=5]="ISO8859_5",C[C.ISO8859_6=6]="ISO8859_6",C[C.ISO8859_7=7]="ISO8859_7",C[C.ISO8859_8=8]="ISO8859_8",C[C.ISO8859_9=9]="ISO8859_9",C[C.ISO8859_10=10]="ISO8859_10",C[C.ISO8859_11=11]="ISO8859_11",C[C.ISO8859_13=12]="ISO8859_13",C[C.ISO8859_14=13]="ISO8859_14",C[C.ISO8859_15=14]="ISO8859_15",C[C.ISO8859_16=15]="ISO8859_16",C[C.SJIS=16]="SJIS",C[C.Cp1250=17]="Cp1250",C[C.Cp1251=18]="Cp1251",C[C.Cp1252=19]="Cp1252",C[C.Cp1256=20]="Cp1256",C[C.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",C[C.UTF8=22]="UTF8",C[C.ASCII=23]="ASCII",C[C.Big5=24]="Big5",C[C.GB18030=25]="GB18030",C[C.EUC_KR=26]="EUC_KR"})(Z||(Z={}));class ${constructor(i,a,l,...u){this.valueIdentifier=i,this.name=l,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=u,$.VALUE_IDENTIFIER_TO_ECI.set(i,this),$.NAME_TO_ECI.set(l,this);const h=this.values;for(let d=0,f=h.length;d!==f;d++){const y=h[d];$.VALUES_TO_ECI.set(y,this)}for(const d of u)$.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new F("incorect value");const a=$.VALUES_TO_ECI.get(i);if(a===void 0)throw new F("incorect value");return a}static getCharacterSetECIByName(i){const a=$.NAME_TO_ECI.get(i);if(a===void 0)throw new F("incorect value");return a}equals(i){if(!(i instanceof $))return!1;const a=i;return this.getName()===a.getName()}}$.VALUE_IDENTIFIER_TO_ECI=new Map,$.VALUES_TO_ECI=new Map,$.NAME_TO_ECI=new Map,$.Cp437=new $(Z.Cp437,Int32Array.from([0,2]),"Cp437"),$.ISO8859_1=new $(Z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),$.ISO8859_2=new $(Z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),$.ISO8859_3=new $(Z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),$.ISO8859_4=new $(Z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),$.ISO8859_5=new $(Z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),$.ISO8859_6=new $(Z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),$.ISO8859_7=new $(Z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),$.ISO8859_8=new $(Z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),$.ISO8859_9=new $(Z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),$.ISO8859_10=new $(Z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),$.ISO8859_11=new $(Z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),$.ISO8859_13=new $(Z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),$.ISO8859_14=new $(Z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),$.ISO8859_15=new $(Z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),$.ISO8859_16=new $(Z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),$.SJIS=new $(Z.SJIS,20,"SJIS","Shift_JIS"),$.Cp1250=new $(Z.Cp1250,21,"Cp1250","windows-1250"),$.Cp1251=new $(Z.Cp1251,22,"Cp1251","windows-1251"),$.Cp1252=new $(Z.Cp1252,23,"Cp1252","windows-1252"),$.Cp1256=new $(Z.Cp1256,24,"Cp1256","windows-1256"),$.UnicodeBigUnmarked=new $(Z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),$.UTF8=new $(Z.UTF8,26,"UTF8","UTF-8"),$.ASCII=new $(Z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),$.Big5=new $(Z.Big5,28,"Big5"),$.GB18030=new $(Z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),$.EUC_KR=new $(Z.EUC_KR,30,"EUC_KR","EUC-KR");class se extends p{}se.kind="UnsupportedOperationException";class Me{static decode(i,a){const l=this.encodingName(a);return this.customDecoder?this.customDecoder(i,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(i,l):new TextDecoder(l).decode(i)}static shouldDecodeOnFallback(i){return!Me.isBrowser()&&i==="ISO-8859-1"}static encode(i,a){const l=this.encodingName(a);return this.customEncoder?this.customEncoder(i,l):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof $?i:$.getCharacterSetECIByName(i)}static decodeFallback(i,a){const l=this.encodingCharacterSet(a);if(Me.isDecodeFallbackSupported(l)){let u="";for(let h=0,d=i.length;h<d;h++){let f=i[h].toString(16);f.length<2&&(f="0"+f),u+="%"+f}return decodeURIComponent(u)}if(l.equals($.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new se(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals($.UTF8)||i.equals($.ISO8859_1)||i.equals($.ASCII)}static encodeFallback(i){const l=btoa(unescape(encodeURIComponent(i))).split(""),u=[];for(let h=0;h<l.length;h++)u.push(l[h].charCodeAt(0));return new Uint8Array(u)}}class ge{static castAsNonUtf8Char(i,a=null){const l=a?a.getName():this.ISO88591;return Me.decode(new Uint8Array([i]),l)}static guessEncoding(i,a){if(a!=null&&a.get(G.CHARACTER_SET)!==void 0)return a.get(G.CHARACTER_SET).toString();const l=i.length;let u=!0,h=!0,d=!0,f=0,y=0,x=0,E=0,A=0,T=0,N=0,P=0,L=0,j=0,H=0;const ee=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let te=0;te<l&&(u||h||d);te++){const q=i[te]&255;d&&(f>0?q&128?f--:d=!1:q&128&&(q&64?(f++,q&32?(f++,q&16?(f++,q&8?d=!1:E++):x++):y++):d=!1)),u&&(q>127&&q<160?u=!1:q>159&&(q<192||q===215||q===247)&&H++),h&&(A>0?q<64||q===127||q>252?h=!1:A--:q===128||q===160||q>239?h=!1:q>160&&q<224?(T++,P=0,N++,N>L&&(L=N)):q>127?(A++,N=0,P++,P>j&&(j=P)):(N=0,P=0))}return d&&f>0&&(d=!1),h&&A>0&&(h=!1),d&&(ee||y+x+E>0)?ge.UTF8:h&&(ge.ASSUME_SHIFT_JIS||L>=3||j>=3)?ge.SHIFT_JIS:u&&h?L===2&&T===2||H*10>=l?ge.SHIFT_JIS:ge.ISO88591:u?ge.ISO88591:h?ge.SHIFT_JIS:d?ge.UTF8:ge.PLATFORM_DEFAULT_ENCODING}static format(i,...a){let l=-1;function u(d,f,y,x,E,A){if(d==="%%")return"%";if(a[++l]===void 0)return;d=x?parseInt(x.substr(1)):void 0;let T=E?parseInt(E.substr(1)):void 0,N;switch(A){case"s":N=a[l];break;case"c":N=a[l][0];break;case"f":N=parseFloat(a[l]).toFixed(d);break;case"p":N=parseFloat(a[l]).toPrecision(d);break;case"e":N=parseFloat(a[l]).toExponential(d);break;case"x":N=parseInt(a[l]).toString(T||16);break;case"d":N=parseFloat(parseInt(a[l],T||10).toPrecision(d)).toFixed(0);break}N=typeof N=="object"?JSON.stringify(N):(+N).toString(T);let P=parseInt(y),L=y&&y[0]+""=="0"?"0":" ";for(;N.length<P;)N=f!==void 0?N+L:L+N;return N}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(h,u)}static getBytes(i,a){return Me.encode(i,a)}static getCharCode(i,a=0){return i.charCodeAt(a)}static getCharAt(i){return String.fromCharCode(i)}}ge.SHIFT_JIS=$.SJIS.getName(),ge.GB2312="GB2312",ge.ISO88591=$.ISO8859_1.getName(),ge.EUC_JP="EUC_JP",ge.UTF8=$.UTF8.getName(),ge.PLATFORM_DEFAULT_ENCODING=ge.UTF8,ge.ASSUME_SHIFT_JIS=!1;class Oe{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=ge.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,a,l){for(let u=a;a<a+l;u++)this.append(i[u]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,a){this.value=this.value.substr(0,i)+a+this.value.substr(i+1)}substring(i,a){return this.value.substring(i,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,a){this.value=this.value.substr(0,i)+a+this.value.substr(i+a.length)}}class yt{constructor(i,a,l,u){if(this.width=i,this.height=a,this.rowSize=l,this.bits=u,a==null&&(a=i),this.height=a,i<1||a<1)throw new v("Both dimensions must be greater than 0");l==null&&(l=Math.floor((i+31)/32)),this.rowSize=l,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const a=i.length,l=i[0].length,u=new yt(l,a);for(let h=0;h<a;h++){const d=i[h];for(let f=0;f<l;f++)d[f]&&u.set(f,h)}return u}static parseFromString(i,a,l){if(i===null)throw new v("stringRepresentation cannot be null");const u=new Array(i.length);let h=0,d=0,f=-1,y=0,x=0;for(;x<i.length;)if(i.charAt(x)===`
`||i.charAt(x)==="\r"){if(h>d){if(f===-1)f=h-d;else if(h-d!==f)throw new v("row lengths do not match");d=h,y++}x++}else if(i.substring(x,x+a.length)===a)x+=a.length,u[h]=!0,h++;else if(i.substring(x,x+l.length)===l)x+=l.length,u[h]=!1,h++;else throw new v("illegal character encountered: "+i.substring(x));if(h>d){if(f===-1)f=h-d;else if(h-d!==f)throw new v("row lengths do not match");y++}const E=new yt(f,y);for(let A=0;A<h;A++)u[A]&&E.set(Math.floor(A%f),Math.floor(A/f));return E}get(i,a){const l=a*this.rowSize+Math.floor(i/32);return(this.bits[l]>>>(i&31)&1)!==0}set(i,a){const l=a*this.rowSize+Math.floor(i/32);this.bits[l]|=1<<(i&31)&4294967295}unset(i,a){const l=a*this.rowSize+Math.floor(i/32);this.bits[l]&=~(1<<(i&31)&4294967295)}flip(i,a){const l=a*this.rowSize+Math.floor(i/32);this.bits[l]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new v("input matrix dimensions do not match");const a=new B(Math.floor(this.width/32)+1),l=this.rowSize,u=this.bits;for(let h=0,d=this.height;h<d;h++){const f=h*l,y=i.getRow(h,a).getBitArray();for(let x=0;x<l;x++)u[f+x]^=y[x]}}clear(){const i=this.bits,a=i.length;for(let l=0;l<a;l++)i[l]=0}setRegion(i,a,l,u){if(a<0||i<0)throw new v("Left and top must be nonnegative");if(u<1||l<1)throw new v("Height and width must be at least 1");const h=i+l,d=a+u;if(d>this.height||h>this.width)throw new v("The region must fit inside the matrix");const f=this.rowSize,y=this.bits;for(let x=a;x<d;x++){const E=x*f;for(let A=i;A<h;A++)y[E+Math.floor(A/32)]|=1<<(A&31)&4294967295}}getRow(i,a){a==null||a.getSize()<this.width?a=new B(this.width):a.clear();const l=this.rowSize,u=this.bits,h=i*l;for(let d=0;d<l;d++)a.setBulk(d*32,u[h+d]);return a}setRow(i,a){D.arraycopy(a.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),a=this.getHeight();let l=new B(i),u=new B(i);for(let h=0,d=Math.floor((a+1)/2);h<d;h++)l=this.getRow(h,l),u=this.getRow(a-1-h,u),l.reverse(),u.reverse(),this.setRow(h,u),this.setRow(a-1-h,l)}getEnclosingRectangle(){const i=this.width,a=this.height,l=this.rowSize,u=this.bits;let h=i,d=a,f=-1,y=-1;for(let x=0;x<a;x++)for(let E=0;E<l;E++){const A=u[x*l+E];if(A!==0){if(x<d&&(d=x),x>y&&(y=x),E*32<h){let T=0;for(;!(A<<31-T&4294967295);)T++;E*32+T<h&&(h=E*32+T)}if(E*32+31>f){let T=31;for(;!(A>>>T);)T--;E*32+T>f&&(f=E*32+T)}}}return f<h||y<d?null:Int32Array.from([h,d,f-h+1,y-d+1])}getTopLeftOnBit(){const i=this.rowSize,a=this.bits;let l=0;for(;l<a.length&&a[l]===0;)l++;if(l===a.length)return null;const u=l/i;let h=l%i*32;const d=a[l];let f=0;for(;!(d<<31-f&4294967295);)f++;return h+=f,Int32Array.from([h,u])}getBottomRightOnBit(){const i=this.rowSize,a=this.bits;let l=a.length-1;for(;l>=0&&a[l]===0;)l--;if(l<0)return null;const u=Math.floor(l/i);let h=Math.floor(l%i)*32;const d=a[l];let f=31;for(;!(d>>>f);)f--;return h+=f,Int32Array.from([h,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof yt))return!1;const a=i;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&S.equals(this.bits,a.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+S.hashCode(this.bits),i}toString(i="X ",a="  ",l=`
`){return this.buildToString(i,a,l)}buildToString(i,a,l){let u=new Oe;for(let h=0,d=this.height;h<d;h++){for(let f=0,y=this.width;f<y;f++)u.append(this.get(f,h)?i:a);u.append(l)}return u.toString()}clone(){return new yt(this.width,this.height,this.rowSize,this.bits.slice())}}class W extends p{static getNotFoundInstance(){return new W}}W.kind="NotFoundException";class Ct extends M{constructor(i){super(i),this.luminances=Ct.EMPTY,this.buckets=new Int32Array(Ct.LUMINANCE_BUCKETS)}getBlackRow(i,a){const l=this.getLuminanceSource(),u=l.getWidth();a==null||a.getSize()<u?a=new B(u):a.clear(),this.initArrays(u);const h=l.getRow(i,this.luminances),d=this.buckets;for(let y=0;y<u;y++)d[(h[y]&255)>>Ct.LUMINANCE_SHIFT]++;const f=Ct.estimateBlackPoint(d);if(u<3)for(let y=0;y<u;y++)(h[y]&255)<f&&a.set(y);else{let y=h[0]&255,x=h[1]&255;for(let E=1;E<u-1;E++){const A=h[E+1]&255;(x*4-y-A)/2<f&&a.set(E),y=x,x=A}}return a}getBlackMatrix(){const i=this.getLuminanceSource(),a=i.getWidth(),l=i.getHeight(),u=new yt(a,l);this.initArrays(a);const h=this.buckets;for(let y=1;y<5;y++){const x=Math.floor(l*y/5),E=i.getRow(x,this.luminances),A=Math.floor(a*4/5);for(let T=Math.floor(a/5);T<A;T++){const N=E[T]&255;h[N>>Ct.LUMINANCE_SHIFT]++}}const d=Ct.estimateBlackPoint(h),f=i.getMatrix();for(let y=0;y<l;y++){const x=y*a;for(let E=0;E<a;E++)(f[x+E]&255)<d&&u.set(E,y)}return u}createBinarizer(i){return new Ct(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const a=this.buckets;for(let l=0;l<Ct.LUMINANCE_BUCKETS;l++)a[l]=0}static estimateBlackPoint(i){const a=i.length;let l=0,u=0,h=0;for(let E=0;E<a;E++)i[E]>h&&(u=E,h=i[E]),i[E]>l&&(l=i[E]);let d=0,f=0;for(let E=0;E<a;E++){const A=E-u,T=i[E]*A*A;T>f&&(d=E,f=T)}if(u>d){const E=u;u=d,d=E}if(d-u<=a/16)throw new W;let y=d-1,x=-1;for(let E=d-1;E>u;E--){const A=E-u,T=A*A*(d-E)*(l-i[E]);T>x&&(y=E,x=T)}return y<<Ct.LUMINANCE_SHIFT}}Ct.LUMINANCE_BITS=5,Ct.LUMINANCE_SHIFT=8-Ct.LUMINANCE_BITS,Ct.LUMINANCE_BUCKETS=1<<Ct.LUMINANCE_BITS,Ct.EMPTY=Uint8ClampedArray.from([0]);class Ae extends Ct{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),a=i.getWidth(),l=i.getHeight();if(a>=Ae.MINIMUM_DIMENSION&&l>=Ae.MINIMUM_DIMENSION){const u=i.getMatrix();let h=a>>Ae.BLOCK_SIZE_POWER;a&Ae.BLOCK_SIZE_MASK&&h++;let d=l>>Ae.BLOCK_SIZE_POWER;l&Ae.BLOCK_SIZE_MASK&&d++;const f=Ae.calculateBlackPoints(u,h,d,a,l),y=new yt(a,l);Ae.calculateThresholdForBlock(u,h,d,a,l,f,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new Ae(i)}static calculateThresholdForBlock(i,a,l,u,h,d,f){const y=h-Ae.BLOCK_SIZE,x=u-Ae.BLOCK_SIZE;for(let E=0;E<l;E++){let A=E<<Ae.BLOCK_SIZE_POWER;A>y&&(A=y);const T=Ae.cap(E,2,l-3);for(let N=0;N<a;N++){let P=N<<Ae.BLOCK_SIZE_POWER;P>x&&(P=x);const L=Ae.cap(N,2,a-3);let j=0;for(let ee=-2;ee<=2;ee++){const te=d[T+ee];j+=te[L-2]+te[L-1]+te[L]+te[L+1]+te[L+2]}const H=j/25;Ae.thresholdBlock(i,P,A,H,u,f)}}}static cap(i,a,l){return i<a?a:i>l?l:i}static thresholdBlock(i,a,l,u,h,d){for(let f=0,y=l*h+a;f<Ae.BLOCK_SIZE;f++,y+=h)for(let x=0;x<Ae.BLOCK_SIZE;x++)(i[y+x]&255)<=u&&d.set(a+x,l+f)}static calculateBlackPoints(i,a,l,u,h){const d=h-Ae.BLOCK_SIZE,f=u-Ae.BLOCK_SIZE,y=new Array(l);for(let x=0;x<l;x++){y[x]=new Int32Array(a);let E=x<<Ae.BLOCK_SIZE_POWER;E>d&&(E=d);for(let A=0;A<a;A++){let T=A<<Ae.BLOCK_SIZE_POWER;T>f&&(T=f);let N=0,P=255,L=0;for(let H=0,ee=E*u+T;H<Ae.BLOCK_SIZE;H++,ee+=u){for(let te=0;te<Ae.BLOCK_SIZE;te++){const q=i[ee+te]&255;N+=q,q<P&&(P=q),q>L&&(L=q)}if(L-P>Ae.MIN_DYNAMIC_RANGE)for(H++,ee+=u;H<Ae.BLOCK_SIZE;H++,ee+=u)for(let te=0;te<Ae.BLOCK_SIZE;te++)N+=i[ee+te]&255}let j=N>>Ae.BLOCK_SIZE_POWER*2;if(L-P<=Ae.MIN_DYNAMIC_RANGE&&(j=P/2,x>0&&A>0)){const H=(y[x-1][A]+2*y[x][A-1]+y[x-1][A-1])/4;P<H&&(j=H)}y[x][A]=j}}return y}}Ae.BLOCK_SIZE_POWER=3,Ae.BLOCK_SIZE=1<<Ae.BLOCK_SIZE_POWER,Ae.BLOCK_SIZE_MASK=Ae.BLOCK_SIZE-1,Ae.MINIMUM_DIMENSION=Ae.BLOCK_SIZE*5,Ae.MIN_DYNAMIC_RANGE=24;class oe{constructor(i,a){this.width=i,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,a,l,u){throw new se("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new se("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new se("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let a=new Oe;for(let l=0;l<this.height;l++){const u=this.getRow(l,i);for(let h=0;h<this.width;h++){const d=u[h]&255;let f;d<64?f="#":d<128?f="+":d<192?f=".":f=" ",a.append(f)}a.append(`
`)}return a.toString()}}class ye extends oe{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,a){const l=this.delegate.getRow(i,a),u=this.getWidth();for(let h=0;h<u;h++)l[h]=255-(l[h]&255);return l}getMatrix(){const i=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(a);for(let u=0;u<a;u++)l[u]=255-(i[u]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(i,a,l,u){return new ye(this.delegate.crop(i,a,l,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ye(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ye(this.delegate.rotateCounterClockwise45())}}class ve extends oe{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=ve.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const a=i.getContext("2d").getImageData(0,0,i.width,i.height);return ve.toGrayscaleBuffer(a.data,i.width,i.height)}static toGrayscaleBuffer(i,a,l){const u=new Uint8ClampedArray(a*l);for(let h=0,d=0,f=i.length;h<f;h+=4,d++){let y;if(i[h+3]===0)y=255;else{const E=i[h],A=i[h+1],T=i[h+2];y=306*E+601*A+117*T+512>>10}u[d]=y}return u}getRow(i,a){if(i<0||i>=this.getHeight())throw new v("Requested row is outside the image: "+i);const l=this.getWidth(),u=i*l;return a===null?a=this.buffer.slice(u,u+l):(a.length<l&&(a=new Uint8ClampedArray(l)),a.set(this.buffer.slice(u,u+l))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,a,l,u){return super.crop(i,a,l,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const a=this.getTempCanvasElement(),l=a.getContext("2d"),u=i*ve.DEGREE_TO_RADIANS,h=this.canvas.width,d=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(u))*h+Math.abs(Math.sin(u))*d),y=Math.ceil(Math.abs(Math.sin(u))*h+Math.abs(Math.cos(u))*d);return a.width=f,a.height=y,l.translate(f/2,y/2),l.rotate(u),l.drawImage(this.canvas,h/-2,d/-2),this.buffer=ve.makeBufferFromCanvasImageData(a),this}invert(){return new ye(this)}}ve.DEGREE_TO_RADIANS=Math.PI/180;class ft{constructor(i,a,l){this.deviceId=i,this.label=a,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Be=(globalThis||hl||self||window||void 0)&&(globalThis||hl||self||window||void 0).__awaiter||function(C,i,a,l){function u(h){return h instanceof a?h:new a(function(d){d(h)})}return new(a||(a=Promise))(function(h,d){function f(E){try{x(l.next(E))}catch(A){d(A)}}function y(E){try{x(l.throw(E))}catch(A){d(A)}}function x(E){E.done?h(E.value):u(E.value).then(f,y)}x((l=l.apply(C,i||[])).next())})};class yr{constructor(i,a=500,l){this.reader=i,this.timeBetweenScansMillis=a,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return Be(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const l of i){const u=l.kind==="video"?"videoinput":l.kind;if(u!=="videoinput")continue;const h=l.deviceId||l.id,d=l.label||`Video device ${a.length+1}`,f=l.groupId,y={deviceId:h,label:d,kind:u,groupId:f};a.push(y)}return a})}getVideoInputDevices(){return Be(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new ft(a.deviceId,a.label))})}findDeviceById(i){return Be(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(l=>l.deviceId===i):null})}decodeFromInputVideoDevice(i,a){return Be(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,a)})}decodeOnceFromVideoDevice(i,a){return Be(this,void 0,void 0,function*(){this.reset();let l;i?l={deviceId:{exact:i}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeOnceFromConstraints(u,a)})}decodeOnceFromConstraints(i,a){return Be(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(l,a)})}decodeOnceFromStream(i,a){return Be(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(i,a);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(i,a,l){return Be(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,a,l)})}decodeFromVideoDevice(i,a,l){return Be(this,void 0,void 0,function*(){let u;i?u={deviceId:{exact:i}}:u={facingMode:"environment"};const h={video:u};return yield this.decodeFromConstraints(h,a,l)})}decodeFromConstraints(i,a,l){return Be(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(u,a,l)})}decodeFromStream(i,a,l){return Be(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(i,a);return yield this.decodeContinuously(u,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,a){return Be(this,void 0,void 0,function*(){const l=this.prepareVideoElement(a);return this.addVideoSource(l,i),this.videoElement=l,this.stream=i,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(i){return new Promise((a,l)=>this.playVideoOnLoad(i,()=>a()))}playVideoOnLoad(i,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",a),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return Be(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,a){const l=document.getElementById(i);if(!l)throw new w(`element with id '${i}' not found`);if(l.nodeName.toLowerCase()!==a.toLowerCase())throw new w(`element with id '${i}' must be an ${a} element`);return l}decodeFromImage(i,a){if(!i&&!a)throw new w("either imageElement with a src set or an url must be provided");return a&&!i?this.decodeFromImageUrl(a):this.decodeFromImageElement(i)}decodeFromVideo(i,a){if(!i&&!a)throw new w("Either an element with a src set or an URL must be provided");return a&&!i?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,a,l){if(i===void 0&&a===void 0)throw new w("Either an element with a src set or an URL must be provided");return a&&!i?this.decodeFromVideoUrlContinuously(a,l):this.decodeFromVideoElementContinuously(i,l)}decodeFromImageElement(i){if(!i)throw new w("An image element must be provided.");this.reset();const a=this.prepareImageElement(i);this.imageElement=a;let l;return this.isImageLoaded(a)?l=this.decodeOnce(a,!1,!0):l=this._decodeOnLoadImage(a),l}decodeFromVideoElement(i){const a=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(i,a){const l=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(l,a)}_decodeFromVideoElementSetup(i){if(!i)throw new w("A video element must be provided.");this.reset();const a=this.prepareVideoElement(i);return this.videoElement=a,a}decodeFromImageUrl(i){if(!i)throw new w("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const l=this._decodeOnLoadImage(a);return a.src=i,l}decodeFromVideoUrl(i){if(!i)throw new w("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElement(a);return a.src=i,l}decodeFromVideoUrlContinuously(i,a){if(!i)throw new w("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(l,a);return l.src=i,u}_decodeOnLoadImage(i){return new Promise((a,l)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(a,l),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return Be(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,a){return Be(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,a)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let a;return typeof i>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof i=="string"&&(a=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(a=i),a}prepareVideoElement(i){let a;return!i&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof i=="string"&&(a=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(a=i),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(i,a=!0,l=!0){this._stopAsyncDecode=!1;const u=(h,d)=>{if(this._stopAsyncDecode){d(new W("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(i);h(f)}catch(f){const y=a&&f instanceof W,E=(f instanceof R||f instanceof F)&&l;if(y||E)return setTimeout(u,this._timeBetweenDecodingAttempts,h,d);d(f)}};return new Promise((h,d)=>u(h,d))}decodeContinuously(i,a){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(i);a(u,null),setTimeout(l,this.timeBetweenScansMillis)}catch(u){a(null,u);const h=u instanceof R||u instanceof F,d=u instanceof W;(h||d)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(i){const a=this.createBinaryBitmap(i);return this.decodeBitmap(a)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,a,l){a||(a={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(i,a,l=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const a=this.getCaptureCanvas(i),l=new ve(a),u=new Ae(l);return new I(u)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const a=this.createCaptureCanvas(i);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let l,u;return typeof i<"u"&&(i instanceof HTMLVideoElement?(l=i.videoWidth,u=i.videoHeight):i instanceof HTMLImageElement&&(l=i.naturalWidth||i.width,u=i.naturalHeight||i.height)),a.style.width=l+"px",a.style.height=u+"px",a.width=l,a.height=u,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,a){try{i.srcObject=a}catch{i.src=URL.createObjectURL(a)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class xt{constructor(i,a,l=a==null?0:8*a.length,u,h,d=D.currentTimeMillis()){this.text=i,this.rawBytes=a,this.numBits=l,this.resultPoints=u,this.format=h,this.timestamp=d,this.text=i,this.rawBytes=a,l==null?this.numBits=a==null?0:8*a.length:this.numBits=l,this.resultPoints=u,this.format=h,this.resultMetadata=null,d==null?this.timestamp=D.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,a)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const a=this.resultPoints;if(a===null)this.resultPoints=i;else if(i!==null&&i.length>0){const l=new Array(a.length+i.length);D.arraycopy(a,0,l,0,a.length),D.arraycopy(i,0,l,a.length,i.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ms;(function(C){C[C.AZTEC=0]="AZTEC",C[C.CODABAR=1]="CODABAR",C[C.CODE_39=2]="CODE_39",C[C.CODE_93=3]="CODE_93",C[C.CODE_128=4]="CODE_128",C[C.DATA_MATRIX=5]="DATA_MATRIX",C[C.EAN_8=6]="EAN_8",C[C.EAN_13=7]="EAN_13",C[C.ITF=8]="ITF",C[C.MAXICODE=9]="MAXICODE",C[C.PDF_417=10]="PDF_417",C[C.QR_CODE=11]="QR_CODE",C[C.RSS_14=12]="RSS_14",C[C.RSS_EXPANDED=13]="RSS_EXPANDED",C[C.UPC_A=14]="UPC_A",C[C.UPC_E=15]="UPC_E",C[C.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ms||(Ms={}));var de=Ms,ji;(function(C){C[C.OTHER=0]="OTHER",C[C.ORIENTATION=1]="ORIENTATION",C[C.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",C[C.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",C[C.ISSUE_NUMBER=4]="ISSUE_NUMBER",C[C.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",C[C.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",C[C.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",C[C.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",C[C.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",C[C.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ji||(ji={}));var Qt=ji;class Ja{constructor(i,a,l,u,h=-1,d=-1){this.rawBytes=i,this.text=a,this.byteSegments=l,this.ecLevel=u,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=d,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class el{exp(i){return this.expTable[i]}log(i){if(i===0)throw new v;return this.logTable[i]}static addOrSubtract(i,a){return i^a}}class zn{constructor(i,a){if(a.length===0)throw new v;this.field=i;const l=a.length;if(l>1&&a[0]===0){let u=1;for(;u<l&&a[u]===0;)u++;u===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-u),D.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const a=this.coefficients;let l;if(i===1){l=0;for(let d=0,f=a.length;d!==f;d++){const y=a[d];l=el.addOrSubtract(l,y)}return l}l=a[0];const u=a.length,h=this.field;for(let d=1;d<u;d++)l=el.addOrSubtract(h.multiply(i,l),a[d]);return l}addOrSubtract(i){if(!this.field.equals(i.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let a=this.coefficients,l=i.coefficients;if(a.length>l.length){const d=a;a=l,l=d}let u=new Int32Array(l.length);const h=l.length-a.length;D.arraycopy(l,0,u,0,h);for(let d=h;d<l.length;d++)u[d]=el.addOrSubtract(a[d-h],l[d]);return new zn(this.field,u)}multiply(i){if(!this.field.equals(i.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const a=this.coefficients,l=a.length,u=i.coefficients,h=u.length,d=new Int32Array(l+h-1),f=this.field;for(let y=0;y<l;y++){const x=a[y];for(let E=0;E<h;E++)d[y+E]=el.addOrSubtract(d[y+E],f.multiply(x,u[E]))}return new zn(f,d)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const a=this.coefficients.length,l=this.field,u=new Int32Array(a),h=this.coefficients;for(let d=0;d<a;d++)u[d]=l.multiply(h[d],i);return new zn(l,u)}multiplyByMonomial(i,a){if(i<0)throw new v;if(a===0)return this.field.getZero();const l=this.coefficients,u=l.length,h=new Int32Array(u+i),d=this.field;for(let f=0;f<u;f++)h[f]=d.multiply(l[f],a);return new zn(d,h)}divide(i){if(!this.field.equals(i.field))throw new v("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new v("Divide by 0");const a=this.field;let l=a.getZero(),u=this;const h=i.getCoefficient(i.getDegree()),d=a.inverse(h);for(;u.getDegree()>=i.getDegree()&&!u.isZero();){const f=u.getDegree()-i.getDegree(),y=a.multiply(u.getCoefficient(u.getDegree()),d),x=i.multiplyByMonomial(f,y),E=a.buildMonomial(f,y);l=l.addOrSubtract(E),u=u.addOrSubtract(x)}return[l,u]}toString(){let i="";for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);if(l!==0){if(l<0?(i+=" - ",l=-l):i.length>0&&(i+=" + "),a===0||l!==1){const u=this.field.log(l);u===0?i+="1":u===1?i+="a":(i+="a^",i+=u)}a!==0&&(a===1?i+="x":(i+="x^",i+=a))}}return i}}class du extends p{}du.kind="ArithmeticException";class We extends el{constructor(i,a,l){super(),this.primitive=i,this.size=a,this.generatorBase=l;const u=new Int32Array(a);let h=1;for(let f=0;f<a;f++)u[f]=h,h*=2,h>=a&&(h^=i,h&=a-1);this.expTable=u;const d=new Int32Array(a);for(let f=0;f<a-1;f++)d[u[f]]=f;this.logTable=d,this.zero=new zn(this,Int32Array.from([0])),this.one=new zn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,a){if(i<0)throw new v;if(a===0)return this.zero;const l=new Int32Array(i+1);return l[0]=a,new zn(this,l)}inverse(i){if(i===0)throw new du;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,a){return i===0||a===0?0:this.expTable[(this.logTable[i]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+O.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}We.AZTEC_DATA_12=new We(4201,4096,1),We.AZTEC_DATA_10=new We(1033,1024,1),We.AZTEC_DATA_6=new We(67,64,1),We.AZTEC_PARAM=new We(19,16,1),We.QR_CODE_FIELD_256=new We(285,256,0),We.DATA_MATRIX_FIELD_256=new We(301,256,1),We.AZTEC_DATA_8=We.DATA_MATRIX_FIELD_256,We.MAXICODE_FIELD_64=We.AZTEC_DATA_6;class To extends p{}To.kind="ReedSolomonException";class zr extends p{}zr.kind="IllegalStateException";class tl{constructor(i){this.field=i}decode(i,a){const l=this.field,u=new zn(l,i),h=new Int32Array(a);let d=!0;for(let N=0;N<a;N++){const P=u.evaluateAt(l.exp(N+l.getGeneratorBase()));h[h.length-1-N]=P,P!==0&&(d=!1)}if(d)return;const f=new zn(l,h),y=this.runEuclideanAlgorithm(l.buildMonomial(a,1),f,a),x=y[0],E=y[1],A=this.findErrorLocations(x),T=this.findErrorMagnitudes(E,A);for(let N=0;N<A.length;N++){const P=i.length-1-l.log(A[N]);if(P<0)throw new To("Bad error location");i[P]=We.addOrSubtract(i[P],T[N])}}runEuclideanAlgorithm(i,a,l){if(i.getDegree()<a.getDegree()){const N=i;i=a,a=N}const u=this.field;let h=i,d=a,f=u.getZero(),y=u.getOne();for(;d.getDegree()>=(l/2|0);){let N=h,P=f;if(h=d,f=y,h.isZero())throw new To("r_{i-1} was zero");d=N;let L=u.getZero();const j=h.getCoefficient(h.getDegree()),H=u.inverse(j);for(;d.getDegree()>=h.getDegree()&&!d.isZero();){const ee=d.getDegree()-h.getDegree(),te=u.multiply(d.getCoefficient(d.getDegree()),H);L=L.addOrSubtract(u.buildMonomial(ee,te)),d=d.addOrSubtract(h.multiplyByMonomial(ee,te))}if(y=L.multiply(f).addOrSubtract(P),d.getDegree()>=h.getDegree())throw new zr("Division algorithm failed to reduce polynomial?")}const x=y.getCoefficient(0);if(x===0)throw new To("sigmaTilde(0) was zero");const E=u.inverse(x),A=y.multiplyScalar(E),T=d.multiplyScalar(E);return[A,T]}findErrorLocations(i){const a=i.getDegree();if(a===1)return Int32Array.from([i.getCoefficient(1)]);const l=new Int32Array(a);let u=0;const h=this.field;for(let d=1;d<h.getSize()&&u<a;d++)i.evaluateAt(d)===0&&(l[u]=h.inverse(d),u++);if(u!==a)throw new To("Error locator degree does not match number of roots");return l}findErrorMagnitudes(i,a){const l=a.length,u=new Int32Array(l),h=this.field;for(let d=0;d<l;d++){const f=h.inverse(a[d]);let y=1;for(let x=0;x<l;x++)if(d!==x){const E=h.multiply(a[x],f),A=E&1?E&-2:E|1;y=h.multiply(y,A)}u[d]=h.multiply(i.evaluateAt(f),h.inverse(y)),h.getGeneratorBase()!==0&&(u[d]=h.multiply(u[d],f))}return u}}var on;(function(C){C[C.UPPER=0]="UPPER",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.DIGIT=3]="DIGIT",C[C.PUNCT=4]="PUNCT",C[C.BINARY=5]="BINARY"})(on||(on={}));class st{decode(i){this.ddata=i;let a=i.getBits(),l=this.extractBits(a),u=this.correctBits(l),h=st.convertBoolArrayToByteArray(u),d=st.getEncodedData(u),f=new Ja(h,d,null,null);return f.setNumBits(u.length),f}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let a=i.length,l=on.UPPER,u=on.UPPER,h="",d=0;for(;d<a;)if(u===on.BINARY){if(a-d<5)break;let f=st.readCode(i,d,5);if(d+=5,f===0){if(a-d<11)break;f=st.readCode(i,d,11)+31,d+=11}for(let y=0;y<f;y++){if(a-d<8){d=a;break}const x=st.readCode(i,d,8);h+=ge.castAsNonUtf8Char(x),d+=8}u=l}else{let f=u===on.DIGIT?4:5;if(a-d<f)break;let y=st.readCode(i,d,f);d+=f;let x=st.getCharacter(u,y);x.startsWith("CTRL_")?(l=u,u=st.getTable(x.charAt(5)),x.charAt(6)==="L"&&(l=u)):(h+=x,u=l)}return h}static getTable(i){switch(i){case"L":return on.LOWER;case"P":return on.PUNCT;case"M":return on.MIXED;case"D":return on.DIGIT;case"B":return on.BINARY;case"U":default:return on.UPPER}}static getCharacter(i,a){switch(i){case on.UPPER:return st.UPPER_TABLE[a];case on.LOWER:return st.LOWER_TABLE[a];case on.MIXED:return st.MIXED_TABLE[a];case on.PUNCT:return st.PUNCT_TABLE[a];case on.DIGIT:return st.DIGIT_TABLE[a];default:throw new zr("Bad table")}}correctBits(i){let a,l;this.ddata.getNbLayers()<=2?(l=6,a=We.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,a=We.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,a=We.AZTEC_DATA_10):(l=12,a=We.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),h=i.length/l;if(h<u)throw new F;let d=i.length%l,f=new Int32Array(h);for(let T=0;T<h;T++,d+=l)f[T]=st.readCode(i,d,l);try{new tl(a).decode(f,h-u)}catch(T){throw new F(T)}let y=(1<<l)-1,x=0;for(let T=0;T<u;T++){let N=f[T];if(N===0||N===y)throw new F;(N===1||N===y-1)&&x++}let E=new Array(u*l-x),A=0;for(let T=0;T<u;T++){let N=f[T];if(N===1||N===y-1)E.fill(N>1,A,A+l-1),A+=l-1;else for(let P=l-1;P>=0;--P)E[A++]=(N&1<<P)!==0}return E}extractBits(i){let a=this.ddata.isCompact(),l=this.ddata.getNbLayers(),u=(a?11:14)+l*4,h=new Int32Array(u),d=new Array(this.totalBitsInLayer(l,a));if(a)for(let f=0;f<h.length;f++)h[f]=f;else{let f=u+1+2*O.truncDivision(O.truncDivision(u,2)-1,15),y=u/2,x=O.truncDivision(f,2);for(let E=0;E<y;E++){let A=E+O.truncDivision(E,15);h[y-E-1]=x-A-1,h[y+E]=x+A+1}}for(let f=0,y=0;f<l;f++){let x=(l-f)*4+(a?9:12),E=f*2,A=u-1-E;for(let T=0;T<x;T++){let N=T*2;for(let P=0;P<2;P++)d[y+N+P]=i.get(h[E+P],h[E+T]),d[y+2*x+N+P]=i.get(h[E+T],h[A-P]),d[y+4*x+N+P]=i.get(h[A-P],h[A-T]),d[y+6*x+N+P]=i.get(h[A-T],h[E+P])}y+=x*8}return d}static readCode(i,a,l){let u=0;for(let h=a;h<a+l;h++)u<<=1,i[h]&&(u|=1);return u}static readByte(i,a){let l=i.length-a;return l>=8?st.readCode(i,a,8):st.readCode(i,a,l)<<8-l}static convertBoolArrayToByteArray(i){let a=new Uint8Array((i.length+7)/8);for(let l=0;l<a.length;l++)a[l]=st.readByte(i,8*l);return a}totalBitsInLayer(i,a){return((a?88:112)+16*i)*i}}st.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],st.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],st.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],st.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],st.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ue{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,a,l,u){const h=i-l,d=a-u;return Math.sqrt(h*h+d*d)}static sum(i){let a=0;for(let l=0,u=i.length;l!==u;l++){const h=i[l];a+=h}return a}}class fu{static floatToIntBits(i){return i}}fu.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ue{constructor(i,a){this.x=i,this.y=a}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof ue){const a=i;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*fu.floatToIntBits(this.x)+fu.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const a=this.distance(i[0],i[1]),l=this.distance(i[1],i[2]),u=this.distance(i[0],i[2]);let h,d,f;if(l>=a&&l>=u?(d=i[0],h=i[1],f=i[2]):u>=l&&u>=a?(d=i[1],h=i[0],f=i[2]):(d=i[2],h=i[0],f=i[1]),this.crossProductZ(h,d,f)<0){const y=h;h=f,f=y}i[0]=h,i[1]=d,i[2]=f}static distance(i,a){return Ue.distance(i.x,i.y,a.x,a.y)}static crossProductZ(i,a,l){const u=a.x,h=a.y;return(l.x-u)*(i.y-h)-(l.y-h)*(i.x-u)}}class gu{constructor(i,a){this.bits=i,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Km extends gu{constructor(i,a,l,u,h){super(i,a),this.compact=l,this.nbDatablocks=u,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class xi{constructor(i,a,l,u){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),a==null&&(a=xi.INIT_SIZE),l==null&&(l=i.getWidth()/2|0),u==null&&(u=i.getHeight()/2|0);const h=a/2|0;if(this.leftInit=l-h,this.rightInit=l+h,this.upInit=u-h,this.downInit=u+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let i=this.leftInit,a=this.rightInit,l=this.upInit,u=this.downInit,h=!1,d=!0,f=!1,y=!1,x=!1,E=!1,A=!1;const T=this.width,N=this.height;for(;d;){d=!1;let P=!0;for(;(P||!y)&&a<T;)P=this.containsBlackPoint(l,u,a,!1),P?(a++,d=!0,y=!0):y||a++;if(a>=T){h=!0;break}let L=!0;for(;(L||!x)&&u<N;)L=this.containsBlackPoint(i,a,u,!0),L?(u++,d=!0,x=!0):x||u++;if(u>=N){h=!0;break}let j=!0;for(;(j||!E)&&i>=0;)j=this.containsBlackPoint(l,u,i,!1),j?(i--,d=!0,E=!0):E||i--;if(i<0){h=!0;break}let H=!0;for(;(H||!A)&&l>=0;)H=this.containsBlackPoint(i,a,l,!0),H?(l--,d=!0,A=!0):A||l--;if(l<0){h=!0;break}d&&(f=!0)}if(!h&&f){const P=a-i;let L=null;for(let te=1;L===null&&te<P;te++)L=this.getBlackPointOnSegment(i,u-te,i+te,u);if(L==null)throw new W;let j=null;for(let te=1;j===null&&te<P;te++)j=this.getBlackPointOnSegment(i,l+te,i+te,l);if(j==null)throw new W;let H=null;for(let te=1;H===null&&te<P;te++)H=this.getBlackPointOnSegment(a,l+te,a-te,l);if(H==null)throw new W;let ee=null;for(let te=1;ee===null&&te<P;te++)ee=this.getBlackPointOnSegment(a,u-te,a-te,u);if(ee==null)throw new W;return this.centerEdges(ee,L,H,j)}else throw new W}getBlackPointOnSegment(i,a,l,u){const h=Ue.round(Ue.distance(i,a,l,u)),d=(l-i)/h,f=(u-a)/h,y=this.image;for(let x=0;x<h;x++){const E=Ue.round(i+x*d),A=Ue.round(a+x*f);if(y.get(E,A))return new ue(E,A)}return null}centerEdges(i,a,l,u){const h=i.getX(),d=i.getY(),f=a.getX(),y=a.getY(),x=l.getX(),E=l.getY(),A=u.getX(),T=u.getY(),N=xi.CORR;return h<this.width/2?[new ue(A-N,T+N),new ue(f+N,y+N),new ue(x-N,E-N),new ue(h+N,d-N)]:[new ue(A+N,T+N),new ue(f+N,y-N),new ue(x-N,E+N),new ue(h-N,d-N)]}containsBlackPoint(i,a,l,u){const h=this.image;if(u){for(let d=i;d<=a;d++)if(h.get(d,l))return!0}else for(let d=i;d<=a;d++)if(h.get(l,d))return!0;return!1}}xi.INIT_SIZE=10,xi.CORR=1;class Rf{static checkAndNudgePoints(i,a){const l=i.getWidth(),u=i.getHeight();let h=!0;for(let d=0;d<a.length&&h;d+=2){const f=Math.floor(a[d]),y=Math.floor(a[d+1]);if(f<-1||f>l||y<-1||y>u)throw new W;h=!1,f===-1?(a[d]=0,h=!0):f===l&&(a[d]=l-1,h=!0),y===-1?(a[d+1]=0,h=!0):y===u&&(a[d+1]=u-1,h=!0)}h=!0;for(let d=a.length-2;d>=0&&h;d-=2){const f=Math.floor(a[d]),y=Math.floor(a[d+1]);if(f<-1||f>l||y<-1||y>u)throw new W;h=!1,f===-1?(a[d]=0,h=!0):f===l&&(a[d]=l-1,h=!0),y===-1?(a[d+1]=0,h=!0):y===u&&(a[d+1]=u-1,h=!0)}}}class Nr{constructor(i,a,l,u,h,d,f,y,x){this.a11=i,this.a21=a,this.a31=l,this.a12=u,this.a22=h,this.a32=d,this.a13=f,this.a23=y,this.a33=x}static quadrilateralToQuadrilateral(i,a,l,u,h,d,f,y,x,E,A,T,N,P,L,j){const H=Nr.quadrilateralToSquare(i,a,l,u,h,d,f,y);return Nr.squareToQuadrilateral(x,E,A,T,N,P,L,j).times(H)}transformPoints(i){const a=i.length,l=this.a11,u=this.a12,h=this.a13,d=this.a21,f=this.a22,y=this.a23,x=this.a31,E=this.a32,A=this.a33;for(let T=0;T<a;T+=2){const N=i[T],P=i[T+1],L=h*N+y*P+A;i[T]=(l*N+d*P+x)/L,i[T+1]=(u*N+f*P+E)/L}}transformPointsWithValues(i,a){const l=this.a11,u=this.a12,h=this.a13,d=this.a21,f=this.a22,y=this.a23,x=this.a31,E=this.a32,A=this.a33,T=i.length;for(let N=0;N<T;N++){const P=i[N],L=a[N],j=h*P+y*L+A;i[N]=(l*P+d*L+x)/j,a[N]=(u*P+f*L+E)/j}}static squareToQuadrilateral(i,a,l,u,h,d,f,y){const x=i-l+h-f,E=a-u+d-y;if(x===0&&E===0)return new Nr(l-i,h-l,i,u-a,d-u,a,0,0,1);{const A=l-h,T=f-h,N=u-d,P=y-d,L=A*P-T*N,j=(x*P-T*E)/L,H=(A*E-x*N)/L;return new Nr(l-i+j*l,f-i+H*f,i,u-a+j*u,y-a+H*y,a,j,H,1)}}static quadrilateralToSquare(i,a,l,u,h,d,f,y){return Nr.squareToQuadrilateral(i,a,l,u,h,d,f,y).buildAdjoint()}buildAdjoint(){return new Nr(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new Nr(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class qm extends Rf{sampleGrid(i,a,l,u,h,d,f,y,x,E,A,T,N,P,L,j,H,ee,te){const q=Nr.quadrilateralToQuadrilateral(u,h,d,f,y,x,E,A,T,N,P,L,j,H,ee,te);return this.sampleGridWithTransform(i,a,l,q)}sampleGridWithTransform(i,a,l,u){if(a<=0||l<=0)throw new W;const h=new yt(a,l),d=new Float32Array(2*a);for(let f=0;f<l;f++){const y=d.length,x=f+.5;for(let E=0;E<y;E+=2)d[E]=E/2+.5,d[E+1]=x;u.transformPoints(d),Rf.checkAndNudgePoints(i,d);try{for(let E=0;E<y;E+=2)i.get(Math.floor(d[E]),Math.floor(d[E+1]))&&h.set(E/2,f)}catch{throw new W}}return h}}class Vi{static setGridSampler(i){Vi.gridSampler=i}static getInstance(){return Vi.gridSampler}}Vi.gridSampler=new qm;class kn{constructor(i,a){this.x=i,this.y=a}toResultPoint(){return new ue(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Qm{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let a=this.getMatrixCenter(),l=this.getBullsEyeCorners(a);if(i){let d=l[0];l[0]=l[2],l[2]=d}this.extractParameters(l);let u=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),h=this.getMatrixCornerPoints(l);return new Km(u,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new W;let a=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(i[0],i[1],a),this.sampleLine(i[1],i[2],a),this.sampleLine(i[2],i[3],a),this.sampleLine(i[3],i[0],a)]);this.shift=this.getRotation(l,a);let u=0;for(let d=0;d<4;d++){let f=l[(this.shift+d)%4];this.compact?(u<<=7,u+=f>>1&127):(u<<=10,u+=(f>>2&992)+(f>>1&31))}let h=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(i,a){let l=0;i.forEach((u,h,d)=>{let f=(u>>a-2<<1)+(u&1);l=(l<<3)+f}),l=((l&1)<<11)+(l>>1);for(let u=0;u<4;u++)if(O.bitCount(l^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new W}getCorrectedParameterData(i,a){let l,u;a?(l=7,u=2):(l=10,u=4);let h=l-u,d=new Int32Array(l);for(let y=l-1;y>=0;--y)d[y]=i&15,i>>=4;try{new tl(We.AZTEC_PARAM).decode(d,h)}catch{throw new W}let f=0;for(let y=0;y<u;y++)f=(f<<4)+d[y];return f}getBullsEyeCorners(i){let a=i,l=i,u=i,h=i,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let A=this.getFirstDifferent(a,d,1,-1),T=this.getFirstDifferent(l,d,1,1),N=this.getFirstDifferent(u,d,-1,1),P=this.getFirstDifferent(h,d,-1,-1);if(this.nbCenterLayers>2){let L=this.distancePoint(P,A)*this.nbCenterLayers/(this.distancePoint(h,a)*(this.nbCenterLayers+2));if(L<.75||L>1.25||!this.isWhiteOrBlackRectangle(A,T,N,P))break}a=A,l=T,u=N,h=P,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new W;this.compact=this.nbCenterLayers===5;let f=new ue(a.getX()+.5,a.getY()-.5),y=new ue(l.getX()+.5,l.getY()+.5),x=new ue(u.getX()-.5,u.getY()+.5),E=new ue(h.getX()-.5,h.getY()-.5);return this.expandSquare([f,y,x,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,a,l,u;try{let f=new xi(this.image).detect();i=f[0],a=f[1],l=f[2],u=f[3]}catch{let y=this.image.getWidth()/2,x=this.image.getHeight()/2;i=this.getFirstDifferent(new kn(y+7,x-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new kn(y+7,x+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new kn(y-7,x+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new kn(y-7,x-7),!1,-1,-1).toResultPoint()}let h=Ue.round((i.getX()+u.getX()+a.getX()+l.getX())/4),d=Ue.round((i.getY()+u.getY()+a.getY()+l.getY())/4);try{let f=new xi(this.image,15,h,d).detect();i=f[0],a=f[1],l=f[2],u=f[3]}catch{i=this.getFirstDifferent(new kn(h+7,d-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new kn(h+7,d+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new kn(h-7,d+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new kn(h-7,d-7),!1,-1,-1).toResultPoint()}return h=Ue.round((i.getX()+u.getX()+a.getX()+l.getX())/4),d=Ue.round((i.getY()+u.getY()+a.getY()+l.getY())/4),new kn(h,d)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,a,l,u,h){let d=Vi.getInstance(),f=this.getDimension(),y=f/2-this.nbCenterLayers,x=f/2+this.nbCenterLayers;return d.sampleGrid(i,f,f,y,y,x,y,x,x,y,x,a.getX(),a.getY(),l.getX(),l.getY(),u.getX(),u.getY(),h.getX(),h.getY())}sampleLine(i,a,l){let u=0,h=this.distanceResultPoint(i,a),d=h/l,f=i.getX(),y=i.getY(),x=d*(a.getX()-i.getX())/h,E=d*(a.getY()-i.getY())/h;for(let A=0;A<l;A++)this.image.get(Ue.round(f+A*x),Ue.round(y+A*E))&&(u|=1<<l-A-1);return u}isWhiteOrBlackRectangle(i,a,l,u){let h=3;i=new kn(i.getX()-h,i.getY()+h),a=new kn(a.getX()-h,a.getY()-h),l=new kn(l.getX()+h,l.getY()-h),u=new kn(u.getX()+h,u.getY()+h);let d=this.getColor(u,i);if(d===0)return!1;let f=this.getColor(i,a);return f!==d||(f=this.getColor(a,l),f!==d)?!1:(f=this.getColor(l,u),f===d)}getColor(i,a){let l=this.distancePoint(i,a),u=(a.getX()-i.getX())/l,h=(a.getY()-i.getY())/l,d=0,f=i.getX(),y=i.getY(),x=this.image.get(i.getX(),i.getY()),E=Math.ceil(l);for(let T=0;T<E;T++)f+=u,y+=h,this.image.get(Ue.round(f),Ue.round(y))!==x&&d++;let A=d/l;return A>.1&&A<.9?0:A<=.1===x?1:-1}getFirstDifferent(i,a,l,u){let h=i.getX()+l,d=i.getY()+u;for(;this.isValid(h,d)&&this.image.get(h,d)===a;)h+=l,d+=u;for(h-=l,d-=u;this.isValid(h,d)&&this.image.get(h,d)===a;)h+=l;for(h-=l;this.isValid(h,d)&&this.image.get(h,d)===a;)d+=u;return d-=u,new kn(h,d)}expandSquare(i,a,l){let u=l/(2*a),h=i[0].getX()-i[2].getX(),d=i[0].getY()-i[2].getY(),f=(i[0].getX()+i[2].getX())/2,y=(i[0].getY()+i[2].getY())/2,x=new ue(f+u*h,y+u*d),E=new ue(f-u*h,y-u*d);h=i[1].getX()-i[3].getX(),d=i[1].getY()-i[3].getY(),f=(i[1].getX()+i[3].getX())/2,y=(i[1].getY()+i[3].getY())/2;let A=new ue(f+u*h,y+u*d),T=new ue(f-u*h,y-u*d);return[x,A,E,T]}isValid(i,a){return i>=0&&i<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(i){let a=Ue.round(i.getX()),l=Ue.round(i.getY());return this.isValid(a,l)}distancePoint(i,a){return Ue.distance(i.getX(),i.getY(),a.getX(),a.getY())}distanceResultPoint(i,a){return Ue.distance(i.getX(),i.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(O.truncDivision(this.nbLayers-4,8)+1)+15}}class pu{decode(i,a=null){let l=null,u=new Qm(i.getBlackMatrix()),h=null,d=null;try{let E=u.detectMirror(!1);h=E.getPoints(),this.reportFoundResultPoints(a,h),d=new st().decode(E)}catch(E){l=E}if(d==null)try{let E=u.detectMirror(!0);h=E.getPoints(),this.reportFoundResultPoints(a,h),d=new st().decode(E)}catch(E){throw l??E}let f=new xt(d.getText(),d.getRawBytes(),d.getNumBits(),h,de.AZTEC,D.currentTimeMillis()),y=d.getByteSegments();y!=null&&f.putMetadata(Qt.BYTE_SEGMENTS,y);let x=d.getECLevel();return x!=null&&f.putMetadata(Qt.ERROR_CORRECTION_LEVEL,x),f}reportFoundResultPoints(i,a){if(i!=null){let l=i.get(G.NEED_RESULT_POINT_CALLBACK);l!=null&&a.forEach((u,h,d)=>{l.foundPossibleResultPoint(u)})}}reset(){}}class Q3 extends yr{constructor(i=500){super(new pu,i)}}class Ft{decode(i,a){try{return this.doDecode(i,a)}catch{if(a&&a.get(G.TRY_HARDER)===!0&&i.isRotateSupported()){const h=i.rotateCounterClockwise(),d=this.doDecode(h,a),f=d.getResultMetadata();let y=270;f!==null&&f.get(Qt.ORIENTATION)===!0&&(y=y+f.get(Qt.ORIENTATION)%360),d.putMetadata(Qt.ORIENTATION,y);const x=d.getResultPoints();if(x!==null){const E=h.getHeight();for(let A=0;A<x.length;A++)x[A]=new ue(E-x[A].getY()-1,x[A].getX())}return d}else throw new W}}reset(){}doDecode(i,a){const l=i.getWidth(),u=i.getHeight();let h=new B(l);const d=a&&a.get(G.TRY_HARDER)===!0,f=Math.max(1,u>>(d?8:5));let y;d?y=u:y=15;const x=Math.trunc(u/2);for(let E=0;E<y;E++){const A=Math.trunc((E+1)/2),T=(E&1)===0,N=x+f*(T?A:-A);if(N<0||N>=u)break;try{h=i.getBlackRow(N,h)}catch{continue}for(let P=0;P<2;P++){if(P===1&&(h.reverse(),a&&a.get(G.NEED_RESULT_POINT_CALLBACK)===!0)){const L=new Map;a.forEach((j,H)=>L.set(H,j)),L.delete(G.NEED_RESULT_POINT_CALLBACK),a=L}try{const L=this.decodeRow(N,h,a);if(P===1){L.putMetadata(Qt.ORIENTATION,180);const j=L.getResultPoints();j!==null&&(j[0]=new ue(l-j[0].getX()-1,j[0].getY()),j[1]=new ue(l-j[1].getX()-1,j[1].getY()))}return L}catch{}}}throw new W}static recordPattern(i,a,l){const u=l.length;for(let x=0;x<u;x++)l[x]=0;const h=i.getSize();if(a>=h)throw new W;let d=!i.get(a),f=0,y=a;for(;y<h;){if(i.get(y)!==d)l[f]++;else{if(++f===u)break;l[f]=1,d=!d}y++}if(!(f===u||f===u-1&&y===h))throw new W}static recordPatternInReverse(i,a,l){let u=l.length,h=i.get(a);for(;a>0&&u>=0;)i.get(--a)!==h&&(u--,h=!h);if(u>=0)throw new W;Ft.recordPattern(i,a+1,l)}static patternMatchVariance(i,a,l){const u=i.length;let h=0,d=0;for(let x=0;x<u;x++)h+=i[x],d+=a[x];if(h<d)return Number.POSITIVE_INFINITY;const f=h/d;l*=f;let y=0;for(let x=0;x<u;x++){const E=i[x],A=a[x]*f,T=E>A?E-A:A-E;if(T>l)return Number.POSITIVE_INFINITY;y+=T}return y/h}}class ne extends Ft{static findStartPattern(i){const a=i.getSize(),l=i.getNextSet(0);let u=0,h=Int32Array.from([0,0,0,0,0,0]),d=l,f=!1;const y=6;for(let x=l;x<a;x++)if(i.get(x)!==f)h[u]++;else{if(u===y-1){let E=ne.MAX_AVG_VARIANCE,A=-1;for(let T=ne.CODE_START_A;T<=ne.CODE_START_C;T++){const N=Ft.patternMatchVariance(h,ne.CODE_PATTERNS[T],ne.MAX_INDIVIDUAL_VARIANCE);N<E&&(E=N,A=T)}if(A>=0&&i.isRange(Math.max(0,d-(x-d)/2),d,!1))return Int32Array.from([d,x,A]);d+=h[0]+h[1],h=h.slice(2,h.length-1),h[u-1]=0,h[u]=0,u--}else u++;h[u]=1,f=!f}throw new W}static decodeCode(i,a,l){Ft.recordPattern(i,l,a);let u=ne.MAX_AVG_VARIANCE,h=-1;for(let d=0;d<ne.CODE_PATTERNS.length;d++){const f=ne.CODE_PATTERNS[d],y=this.patternMatchVariance(a,f,ne.MAX_INDIVIDUAL_VARIANCE);y<u&&(u=y,h=d)}if(h>=0)return h;throw new W}decodeRow(i,a,l){const u=l&&l.get(G.ASSUME_GS1)===!0,h=ne.findStartPattern(a),d=h[2];let f=0;const y=new Uint8Array(20);y[f++]=d;let x;switch(d){case ne.CODE_START_A:x=ne.CODE_CODE_A;break;case ne.CODE_START_B:x=ne.CODE_CODE_B;break;case ne.CODE_START_C:x=ne.CODE_CODE_C;break;default:throw new F}let E=!1,A=!1,T="",N=h[0],P=h[1];const L=Int32Array.from([0,0,0,0,0,0]);let j=0,H=0,ee=d,te=0,q=!0,ke=!1,Te=!1;for(;!E;){const Po=A;switch(A=!1,j=H,H=ne.decodeCode(a,L,P),y[f++]=H,H!==ne.CODE_STOP&&(q=!0),H!==ne.CODE_STOP&&(te++,ee+=te*H),N=P,P+=L.reduce((TI,SI)=>TI+SI,0),H){case ne.CODE_START_A:case ne.CODE_START_B:case ne.CODE_START_C:throw new F}switch(x){case ne.CODE_CODE_A:if(H<64)Te===ke?T+=String.fromCharCode(" ".charCodeAt(0)+H):T+=String.fromCharCode(" ".charCodeAt(0)+H+128),Te=!1;else if(H<96)Te===ke?T+=String.fromCharCode(H-64):T+=String.fromCharCode(H+64),Te=!1;else switch(H!==ne.CODE_STOP&&(q=!1),H){case ne.CODE_FNC_1:u&&(T.length===0?T+="]C1":T+=String.fromCharCode(29));break;case ne.CODE_FNC_2:case ne.CODE_FNC_3:break;case ne.CODE_FNC_4_A:!ke&&Te?(ke=!0,Te=!1):ke&&Te?(ke=!1,Te=!1):Te=!0;break;case ne.CODE_SHIFT:A=!0,x=ne.CODE_CODE_B;break;case ne.CODE_CODE_B:x=ne.CODE_CODE_B;break;case ne.CODE_CODE_C:x=ne.CODE_CODE_C;break;case ne.CODE_STOP:E=!0;break}break;case ne.CODE_CODE_B:if(H<96)Te===ke?T+=String.fromCharCode(" ".charCodeAt(0)+H):T+=String.fromCharCode(" ".charCodeAt(0)+H+128),Te=!1;else switch(H!==ne.CODE_STOP&&(q=!1),H){case ne.CODE_FNC_1:u&&(T.length===0?T+="]C1":T+=String.fromCharCode(29));break;case ne.CODE_FNC_2:case ne.CODE_FNC_3:break;case ne.CODE_FNC_4_B:!ke&&Te?(ke=!0,Te=!1):ke&&Te?(ke=!1,Te=!1):Te=!0;break;case ne.CODE_SHIFT:A=!0,x=ne.CODE_CODE_A;break;case ne.CODE_CODE_A:x=ne.CODE_CODE_A;break;case ne.CODE_CODE_C:x=ne.CODE_CODE_C;break;case ne.CODE_STOP:E=!0;break}break;case ne.CODE_CODE_C:if(H<100)H<10&&(T+="0"),T+=H;else switch(H!==ne.CODE_STOP&&(q=!1),H){case ne.CODE_FNC_1:u&&(T.length===0?T+="]C1":T+=String.fromCharCode(29));break;case ne.CODE_CODE_A:x=ne.CODE_CODE_A;break;case ne.CODE_CODE_B:x=ne.CODE_CODE_B;break;case ne.CODE_STOP:E=!0;break}break}Po&&(x=x===ne.CODE_CODE_A?ne.CODE_CODE_B:ne.CODE_CODE_A)}const Gn=P-N;if(P=a.getNextUnset(P),!a.isRange(P,Math.min(a.getSize(),P+(P-N)/2),!1))throw new W;if(ee-=te*j,ee%103!==j)throw new R;const Or=T.length;if(Or===0)throw new W;Or>0&&q&&(x===ne.CODE_CODE_C?T=T.substring(0,Or-2):T=T.substring(0,Or-1));const Xn=(h[1]+h[0])/2,it=N+Gn/2,cn=y.length,rr=new Uint8Array(cn);for(let Po=0;Po<cn;Po++)rr[Po]=y[Po];const Mo=[new ue(Xn,i),new ue(it,i)];return new xt(T,rr,0,Mo,de.CODE_128,new Date().getTime())}}ne.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ne.MAX_AVG_VARIANCE=.25,ne.MAX_INDIVIDUAL_VARIANCE=.7,ne.CODE_SHIFT=98,ne.CODE_CODE_C=99,ne.CODE_CODE_B=100,ne.CODE_CODE_A=101,ne.CODE_FNC_1=102,ne.CODE_FNC_2=97,ne.CODE_FNC_3=96,ne.CODE_FNC_4_A=101,ne.CODE_FNC_4_B=100,ne.CODE_START_A=103,ne.CODE_START_B=104,ne.CODE_START_C=105,ne.CODE_STOP=106;class Wt extends Ft{constructor(i=!1,a=!1){super(),this.usingCheckDigit=i,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,a,l){let u=this.counters;u.fill(0),this.decodeRowResult="";let h=Wt.findAsteriskPattern(a,u),d=a.getNextSet(h[1]),f=a.getSize(),y,x;do{Wt.recordPattern(a,d,u);let L=Wt.toNarrowWidePattern(u);if(L<0)throw new W;y=Wt.patternToChar(L),this.decodeRowResult+=y,x=d;for(let j of u)d+=j;d=a.getNextSet(d)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let E=0;for(let L of u)E+=L;let A=d-x-E;if(d!==f&&A*2<E)throw new W;if(this.usingCheckDigit){let L=this.decodeRowResult.length-1,j=0;for(let H=0;H<L;H++)j+=Wt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(H));if(this.decodeRowResult.charAt(L)!==Wt.ALPHABET_STRING.charAt(j%43))throw new R;this.decodeRowResult=this.decodeRowResult.substring(0,L)}if(this.decodeRowResult.length===0)throw new W;let T;this.extendedMode?T=Wt.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;let N=(h[1]+h[0])/2,P=x+E/2;return new xt(T,null,0,[new ue(N,i),new ue(P,i)],de.CODE_39,new Date().getTime())}static findAsteriskPattern(i,a){let l=i.getSize(),u=i.getNextSet(0),h=0,d=u,f=!1,y=a.length;for(let x=u;x<l;x++)if(i.get(x)!==f)a[h]++;else{if(h===y-1){if(this.toNarrowWidePattern(a)===Wt.ASTERISK_ENCODING&&i.isRange(Math.max(0,d-Math.floor((x-d)/2)),d,!1))return[d,x];d+=a[0]+a[1],a.copyWithin(0,2,2+h-1),a[h-1]=0,a[h]=0,h--}else h++;a[h]=1,f=!f}throw new W}static toNarrowWidePattern(i){let a=i.length,l=0,u;do{let h=2147483647;for(let y of i)y<h&&y>l&&(h=y);l=h,u=0;let d=0,f=0;for(let y=0;y<a;y++){let x=i[y];x>l&&(f|=1<<a-1-y,u++,d+=x)}if(u===3){for(let y=0;y<a&&u>0;y++){let x=i[y];if(x>l&&(u--,x*2>=d))return-1}return f}}while(u>3);return-1}static patternToChar(i){for(let a=0;a<Wt.CHARACTER_ENCODINGS.length;a++)if(Wt.CHARACTER_ENCODINGS[a]===i)return Wt.ALPHABET_STRING.charAt(a);if(i===Wt.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(i){let a=i.length,l="";for(let u=0;u<a;u++){let h=i.charAt(u);if(h==="+"||h==="$"||h==="%"||h==="/"){let d=i.charAt(u+1),f="\0";switch(h){case"+":if(d>="A"&&d<="Z")f=String.fromCharCode(d.charCodeAt(0)+32);else throw new F;break;case"$":if(d>="A"&&d<="Z")f=String.fromCharCode(d.charCodeAt(0)-64);else throw new F;break;case"%":if(d>="A"&&d<="E")f=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")f=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")f=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")f=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")f="\0";else if(d==="V")f="@";else if(d==="W")f="`";else if(d==="X"||d==="Y"||d==="Z")f="";else throw new F;break;case"/":if(d>="A"&&d<="O")f=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")f=":";else throw new F;break}l+=f,u++}else l+=h}return l}}Wt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Wt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Wt.ASTERISK_ENCODING=148;class nt extends Ft{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,a,l){let u=this.decodeStart(a),h=this.decodeEnd(a),d=new Oe;nt.decodeMiddle(a,u[1],h[0],d);let f=d.toString(),y=null;l!=null&&(y=l.get(G.ALLOWED_LENGTHS)),y==null&&(y=nt.DEFAULT_ALLOWED_LENGTHS);let x=f.length,E=!1,A=0;for(let P of y){if(x===P){E=!0;break}P>A&&(A=P)}if(!E&&x>A&&(E=!0),!E)throw new F;const T=[new ue(u[1],i),new ue(h[0],i)];return new xt(f,null,0,T,de.ITF,new Date().getTime())}static decodeMiddle(i,a,l,u){let h=new Int32Array(10),d=new Int32Array(5),f=new Int32Array(5);for(h.fill(0),d.fill(0),f.fill(0);a<l;){Ft.recordPattern(i,a,h);for(let x=0;x<5;x++){let E=2*x;d[x]=h[E],f[x]=h[E+1]}let y=nt.decodeDigit(d);u.append(y.toString()),y=this.decodeDigit(f),u.append(y.toString()),h.forEach(function(x){a+=x})}}decodeStart(i){let a=nt.skipWhiteSpace(i),l=nt.findGuardPattern(i,a,nt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(i,l[0]),l}validateQuietZone(i,a){let l=this.narrowLineWidth*10;l=l<a?l:a;for(let u=a-1;l>0&&u>=0&&!i.get(u);u--)l--;if(l!==0)throw new W}static skipWhiteSpace(i){const a=i.getSize(),l=i.getNextSet(0);if(l===a)throw new W;return l}decodeEnd(i){i.reverse();try{let a=nt.skipWhiteSpace(i),l;try{l=nt.findGuardPattern(i,a,nt.END_PATTERN_REVERSED[0])}catch(h){h instanceof W&&(l=nt.findGuardPattern(i,a,nt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,l[0]);let u=l[0];return l[0]=i.getSize()-l[1],l[1]=i.getSize()-u,l}finally{i.reverse()}}static findGuardPattern(i,a,l){let u=l.length,h=new Int32Array(u),d=i.getSize(),f=!1,y=0,x=a;h.fill(0);for(let E=a;E<d;E++)if(i.get(E)!==f)h[y]++;else{if(y===u-1){if(Ft.patternMatchVariance(h,l,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return[x,E];x+=h[0]+h[1],D.arraycopy(h,2,h,0,y-1),h[y-1]=0,h[y]=0,y--}else y++;h[y]=1,f=!f}throw new W}static decodeDigit(i){let a=nt.MAX_AVG_VARIANCE,l=-1,u=nt.PATTERNS.length;for(let h=0;h<u;h++){let d=nt.PATTERNS[h],f=Ft.patternMatchVariance(i,d,nt.MAX_INDIVIDUAL_VARIANCE);f<a?(a=f,l=h):f===a&&(l=-1)}if(l>=0)return l%10;throw new W}}nt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],nt.MAX_AVG_VARIANCE=.38,nt.MAX_INDIVIDUAL_VARIANCE=.5,nt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],nt.START_PATTERN=Int32Array.from([1,1,1,1]),nt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class At extends Ft{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let a=!1,l,u=0,h=Int32Array.from([0,0,0]);for(;!a;){h=Int32Array.from([0,0,0]),l=At.findGuardPattern(i,u,!1,this.START_END_PATTERN,h);let d=l[0];u=l[1];let f=d-(u-d);f>=0&&(a=i.isRange(f,d,!1))}return l}static checkChecksum(i){return At.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let a=i.length;if(a===0)return!1;let l=parseInt(i.charAt(a-1),10);return At.getStandardUPCEANChecksum(i.substring(0,a-1))===l}static getStandardUPCEANChecksum(i){let a=i.length,l=0;for(let u=a-1;u>=0;u-=2){let h=i.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new F;l+=h}l*=3;for(let u=a-2;u>=0;u-=2){let h=i.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new F;l+=h}return(1e3-l)%10}static decodeEnd(i,a){return At.findGuardPattern(i,a,!1,At.START_END_PATTERN,new Int32Array(At.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,a,l,u){return this.findGuardPattern(i,a,l,u,new Int32Array(u.length))}static findGuardPattern(i,a,l,u,h){let d=i.getSize();a=l?i.getNextUnset(a):i.getNextSet(a);let f=0,y=a,x=u.length,E=l;for(let A=a;A<d;A++)if(i.get(A)!==E)h[f]++;else{if(f===x-1){if(Ft.patternMatchVariance(h,u,At.MAX_INDIVIDUAL_VARIANCE)<At.MAX_AVG_VARIANCE)return Int32Array.from([y,A]);y+=h[0]+h[1];let T=h.slice(2,h.length-1);for(let N=0;N<f-1;N++)h[N]=T[N];h[f-1]=0,h[f]=0,f--}else f++;h[f]=1,E=!E}throw new W}static decodeDigit(i,a,l,u){this.recordPattern(i,l,a);let h=this.MAX_AVG_VARIANCE,d=-1,f=u.length;for(let y=0;y<f;y++){let x=u[y],E=Ft.patternMatchVariance(a,x,At.MAX_INDIVIDUAL_VARIANCE);E<h&&(h=E,d=y)}if(d>=0)return d;throw new W}}At.MAX_AVG_VARIANCE=.48,At.MAX_INDIVIDUAL_VARIANCE=.7,At.START_END_PATTERN=Int32Array.from([1,1,1]),At.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),At.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),At.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class nl{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,a,l){let u=this.decodeRowStringBuffer,h=this.decodeMiddle(a,l,u),d=u.toString(),f=nl.parseExtensionString(d),y=[new ue((l[0]+l[1])/2,i),new ue(h,i)],x=new xt(d,null,0,y,de.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&x.putAllMetadata(f),x}decodeMiddle(i,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=i.getSize(),d=a[1],f=0;for(let x=0;x<5&&d<h;x++){let E=At.decodeDigit(i,u,d,At.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let A of u)d+=A;E>=10&&(f|=1<<4-x),x!==4&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(l.length!==5)throw new W;let y=this.determineCheckDigit(f);if(nl.extensionChecksum(l.toString())!==y)throw new W;return d}static extensionChecksum(i){let a=i.length,l=0;for(let u=a-2;u>=0;u-=2)l+=i.charAt(u).charCodeAt(0)-"0".charCodeAt(0);l*=3;for(let u=a-1;u>=0;u-=2)l+=i.charAt(u).charCodeAt(0)-"0".charCodeAt(0);return l*=3,l%10}determineCheckDigit(i){for(let a=0;a<10;a++)if(i===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new W}static parseExtensionString(i){if(i.length!==5)return null;let a=nl.parseExtension5String(i);return a==null?null:new Map([[Qt.SUGGESTED_PRICE,a]])}static parseExtension5String(i){let a;switch(i.charAt(0)){case"0":a="";break;case"5":a="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let l=parseInt(i.substring(1)),u=(l/100).toString(),h=l%100,d=h<10?"0"+h:h.toString();return a+u+"."+d}}class Of{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,a,l){let u=this.decodeRowStringBuffer,h=this.decodeMiddle(a,l,u),d=u.toString(),f=Of.parseExtensionString(d),y=[new ue((l[0]+l[1])/2,i),new ue(h,i)],x=new xt(d,null,0,y,de.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&x.putAllMetadata(f),x}decodeMiddle(i,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=i.getSize(),d=a[1],f=0;for(let y=0;y<2&&d<h;y++){let x=At.decodeDigit(i,u,d,At.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+x%10);for(let E of u)d+=E;x>=10&&(f|=1<<1-y),y!==1&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(l.length!==2)throw new W;if(parseInt(l.toString())%4!==f)throw new W;return d}static parseExtensionString(i){return i.length!==2?null:new Map([[Qt.ISSUE_NUMBER,parseInt(i)]])}}class Zm{static decodeRow(i,a,l){let u=At.findGuardPattern(a,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new nl().decodeRow(i,a,u)}catch{return new Of().decodeRow(i,a,u)}}}Zm.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class $e extends At{constructor(){super(),this.decodeRowStringBuffer="",$e.L_AND_G_PATTERNS=$e.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let a=$e.L_PATTERNS[i-10],l=new Int32Array(a.length);for(let u=0;u<a.length;u++)l[u]=a[a.length-u-1];$e.L_AND_G_PATTERNS[i]=l}}decodeRow(i,a,l){let u=$e.findStartGuardPattern(a),h=l==null?null:l.get(G.NEED_RESULT_POINT_CALLBACK);if(h!=null){const q=new ue((u[0]+u[1])/2,i);h.foundPossibleResultPoint(q)}let d=this.decodeMiddle(a,u,this.decodeRowStringBuffer),f=d.rowOffset,y=d.resultString;if(h!=null){const q=new ue(f,i);h.foundPossibleResultPoint(q)}let x=this.decodeEnd(a,f);if(h!=null){const q=new ue((x[0]+x[1])/2,i);h.foundPossibleResultPoint(q)}let E=x[1],A=E+(E-x[0]);if(A>=a.getSize()||!a.isRange(E,A,!1))throw new W;let T=y.toString();if(T.length<8)throw new F;if(!$e.checkChecksum(T))throw new R;let N=(u[1]+u[0])/2,P=(x[1]+x[0])/2,L=this.getBarcodeFormat(),j=[new ue(N,i),new ue(P,i)],H=new xt(T,null,0,j,L,new Date().getTime()),ee=0;try{let q=Zm.decodeRow(i,a,x[1]);H.putMetadata(Qt.UPC_EAN_EXTENSION,q.getText()),H.putAllMetadata(q.getResultMetadata()),H.addResultPoints(q.getResultPoints()),ee=q.getText().length}catch{}let te=l==null?null:l.get(G.ALLOWED_EAN_EXTENSIONS);if(te!=null){let q=!1;for(let ke in te)if(ee.toString()===ke){q=!0;break}if(!q)throw new W}return H}decodeEnd(i,a){return $e.findGuardPattern(i,a,!1,$e.START_END_PATTERN,new Int32Array($e.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return $e.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let a=i.length;if(a===0)return!1;let l=parseInt(i.charAt(a-1),10);return $e.getStandardUPCEANChecksum(i.substring(0,a-1))===l}static getStandardUPCEANChecksum(i){let a=i.length,l=0;for(let u=a-1;u>=0;u-=2){let h=i.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new F;l+=h}l*=3;for(let u=a-2;u>=0;u-=2){let h=i.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new F;l+=h}return(1e3-l)%10}}class Ps extends $e{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=i.getSize(),d=a[1],f=0;for(let x=0;x<6&&d<h;x++){let E=$e.decodeDigit(i,u,d,$e.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let A of u)d+=A;E>=10&&(f|=1<<5-x)}l=Ps.determineFirstDigit(l,f),d=$e.findGuardPattern(i,d,!0,$e.MIDDLE_PATTERN,new Int32Array($e.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&d<h;x++){let E=$e.decodeDigit(i,u,d,$e.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+E);for(let A of u)d+=A}return{rowOffset:d,resultString:l}}getBarcodeFormat(){return de.EAN_13}static determineFirstDigit(i,a){for(let l=0;l<10;l++)if(a===this.FIRST_DIGIT_ENCODINGS[l])return i=String.fromCharCode("0".charCodeAt(0)+l)+i,i;throw new W}}Ps.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Jm extends $e{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,a,l){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=i.getSize(),d=a[1];for(let y=0;y<4&&d<h;y++){let x=$e.decodeDigit(i,u,d,$e.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+x);for(let E of u)d+=E}d=$e.findGuardPattern(i,d,!0,$e.MIDDLE_PATTERN,new Int32Array($e.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&d<h;y++){let x=$e.decodeDigit(i,u,d,$e.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+x);for(let E of u)d+=E}return{rowOffset:d,resultString:l}}getBarcodeFormat(){return de.EAN_8}}class e2 extends $e{constructor(){super(...arguments),this.ean13Reader=new Ps}getBarcodeFormat(){return de.UPC_A}decode(i,a){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,a,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,a,l))}decodeMiddle(i,a,l){return this.ean13Reader.decodeMiddle(i,a,l)}maybeReturnResult(i){let a=i.getText();if(a.charAt(0)==="0"){let l=new xt(a.substring(1),null,null,i.getResultPoints(),de.UPC_A);return i.getResultMetadata()!=null&&l.putAllMetadata(i.getResultMetadata()),l}else throw new W}reset(){this.ean13Reader.reset()}}class Rr extends $e{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,a,l){const u=this.decodeMiddleCounters.map(x=>x);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const h=i.getSize();let d=a[1],f=0;for(let x=0;x<6&&d<h;x++){const E=Rr.decodeDigit(i,u,d,Rr.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let A of u)d+=A;E>=10&&(f|=1<<5-x)}let y=Rr.determineNumSysAndCheckDigit(l,f);return{rowOffset:d,resultString:y}}decodeEnd(i,a){return Rr.findGuardPatternWithoutCounters(i,a,!0,Rr.MIDDLE_END_PATTERN)}checkChecksum(i){return $e.checkChecksum(Rr.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,a){for(let l=0;l<=1;l++)for(let u=0;u<10;u++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][u]){let h=String.fromCharCode("0".charCodeAt(0)+l),d=String.fromCharCode("0".charCodeAt(0)+u);return h+i+d}throw W.getNotFoundInstance()}getBarcodeFormat(){return de.UPC_E}static convertUPCEtoUPCA(i){const a=i.slice(1,7).split("").map(h=>h.charCodeAt(0)),l=new Oe;l.append(i.charAt(0));let u=a[5];switch(u){case 0:case 1:case 2:l.appendChars(a,0,2),l.append(u),l.append("0000"),l.appendChars(a,2,3);break;case 3:l.appendChars(a,0,3),l.append("00000"),l.appendChars(a,3,2);break;case 4:l.appendChars(a,0,4),l.append("00000"),l.append(a[4]);break;default:l.appendChars(a,0,5),l.append("0000"),l.append(u);break}return i.length>=8&&l.append(i.charAt(7)),l.toString()}}Rr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Rr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class kf extends Ft{constructor(i){super();let a=i==null?null:i.get(G.POSSIBLE_FORMATS),l=[];r(a)?(l.push(new Ps),l.push(new e2),l.push(new Jm),l.push(new Rr)):(a.indexOf(de.EAN_13)>-1&&l.push(new Ps),a.indexOf(de.UPC_A)>-1&&l.push(new e2),a.indexOf(de.EAN_8)>-1&&l.push(new Jm),a.indexOf(de.UPC_E)>-1&&l.push(new Rr)),this.readers=l}decodeRow(i,a,l){for(let u of this.readers)try{const h=u.decodeRow(i,a,l),d=h.getBarcodeFormat()===de.EAN_13&&h.getText().charAt(0)==="0",f=l==null?null:l.get(G.POSSIBLE_FORMATS),y=f==null||f.includes(de.UPC_A);if(d&&y){const x=h.getRawBytes(),E=new xt(h.getText().substring(1),x,x?x.length:null,h.getResultPoints(),de.UPC_A);return E.putAllMetadata(h.getResultMetadata()),E}return h}catch{}throw new W}reset(){for(let i of this.readers)i.reset()}}class yn extends Ft{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,a){for(let l=0;l<a.length;l++)if(Ft.patternMatchVariance(i,a[l],yn.MAX_INDIVIDUAL_VARIANCE)<yn.MAX_AVG_VARIANCE)return l;throw new W}static count(i){return Ue.sum(new Int32Array(i))}static increment(i,a){let l=0,u=a[0];for(let h=1;h<i.length;h++)a[h]>u&&(u=a[h],l=h);i[l]++}static decrement(i,a){let l=0,u=a[0];for(let h=1;h<i.length;h++)a[h]<u&&(u=a[h],l=h);i[l]--}static isFinderPattern(i){let a=i[0]+i[1],l=a+i[2]+i[3],u=a/l;if(u>=yn.MIN_FINDER_PATTERN_RATIO&&u<=yn.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let f of i)f>d&&(d=f),f<h&&(h=f);return d<10*h}return!1}}yn.MAX_AVG_VARIANCE=.2,yn.MAX_INDIVIDUAL_VARIANCE=.45,yn.MIN_FINDER_PATTERN_RATIO=9.5/12,yn.MAX_FINDER_PATTERN_RATIO=12.5/14;class So{constructor(i,a){this.value=i,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof So))return!1;const a=i;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class mu{constructor(i,a,l,u,h){this.value=i,this.startEnd=a,this.value=i,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new ue(l,h)),this.resultPoints.push(new ue(u,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof mu))return!1;const a=i;return this.value===a.value}hashCode(){return this.value}}class Hr{constructor(){}static getRSSvalue(i,a,l){let u=0;for(let y of i)u+=y;let h=0,d=0,f=i.length;for(let y=0;y<f-1;y++){let x;for(x=1,d|=1<<y;x<i[y];x++,d&=~(1<<y)){let E=Hr.combins(u-x-1,f-y-2);if(l&&d===0&&u-x-(f-y-1)>=f-y-1&&(E-=Hr.combins(u-x-(f-y),f-y-2)),f-y-1>1){let A=0;for(let T=u-x-(f-y-2);T>a;T--)A+=Hr.combins(u-x-T-1,f-y-3);E-=A*(f-1-y)}else u-x>a&&E--;h+=E}u-=x}return h}static combins(i,a){let l,u;i-a>a?(u=a,l=i-a):(u=i-a,l=a);let h=1,d=1;for(let f=i;f>l;f--)h*=f,d<=u&&(h/=d,d++);for(;d<=u;)h/=d,d++;return h}}class Z3{static buildBitArray(i){let a=i.length*2-1;i[i.length-1].getRightChar()==null&&(a-=1);let l=12*a,u=new B(l),h=0,f=i[0].getRightChar().getValue();for(let y=11;y>=0;--y)f&1<<y&&u.set(h),h++;for(let y=1;y<i.length;++y){let x=i[y],E=x.getLeftChar().getValue();for(let A=11;A>=0;--A)E&1<<A&&u.set(h),h++;if(x.getRightChar()!=null){let A=x.getRightChar().getValue();for(let T=11;T>=0;--T)A&1<<T&&u.set(h),h++}}return u}}class Ls{constructor(i,a){a?this.decodedInformation=null:(this.finished=i,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Df{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class Hn extends Df{constructor(i,a){super(i),this.value=a}getValue(){return this.value}isFNC1(){return this.value===Hn.FNC1}}Hn.FNC1="$";class Bs extends Df{constructor(i,a,l){super(i),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class xr extends Df{constructor(i,a,l){if(super(i),a<0||a>10||l<0||l>10)throw new F;this.firstDigit=a,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===xr.FNC1}isSecondDigitFNC1(){return this.secondDigit===xr.FNC1}isAnyFNC1(){return this.firstDigit===xr.FNC1||this.secondDigit===xr.FNC1}}xr.FNC1=10;class ae{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new W;let a=i.substring(0,2);for(let h of ae.TWO_DIGIT_DATA_LENGTH)if(h[0]===a)return h[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(2,h[2],i):ae.processFixedAI(2,h[1],i);if(i.length<3)throw new W;let l=i.substring(0,3);for(let h of ae.THREE_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(3,h[2],i):ae.processFixedAI(3,h[1],i);for(let h of ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(4,h[2],i):ae.processFixedAI(4,h[1],i);if(i.length<4)throw new W;let u=i.substring(0,4);for(let h of ae.FOUR_DIGIT_DATA_LENGTH)if(h[0]===u)return h[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(4,h[2],i):ae.processFixedAI(4,h[1],i);throw new W}static processFixedAI(i,a,l){if(l.length<i)throw new W;let u=l.substring(0,i);if(l.length<i+a)throw new W;let h=l.substring(i,i+a),d=l.substring(i+a),f="("+u+")"+h,y=ae.parseFieldsInGeneralPurpose(d);return y==null?f:f+y}static processVariableAI(i,a,l){let u=l.substring(0,i),h;l.length<i+a?h=l.length:h=i+a;let d=l.substring(i,h),f=l.substring(h),y="("+u+")"+d,x=ae.parseFieldsInGeneralPurpose(f);return x==null?y:y+x}}ae.VARIABLE_LENGTH=[],ae.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ae.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ae.VARIABLE_LENGTH,20],["22",ae.VARIABLE_LENGTH,29],["30",ae.VARIABLE_LENGTH,8],["37",ae.VARIABLE_LENGTH,8],["90",ae.VARIABLE_LENGTH,30],["91",ae.VARIABLE_LENGTH,30],["92",ae.VARIABLE_LENGTH,30],["93",ae.VARIABLE_LENGTH,30],["94",ae.VARIABLE_LENGTH,30],["95",ae.VARIABLE_LENGTH,30],["96",ae.VARIABLE_LENGTH,30],["97",ae.VARIABLE_LENGTH,3],["98",ae.VARIABLE_LENGTH,30],["99",ae.VARIABLE_LENGTH,30]],ae.THREE_DIGIT_DATA_LENGTH=[["240",ae.VARIABLE_LENGTH,30],["241",ae.VARIABLE_LENGTH,30],["242",ae.VARIABLE_LENGTH,6],["250",ae.VARIABLE_LENGTH,30],["251",ae.VARIABLE_LENGTH,30],["253",ae.VARIABLE_LENGTH,17],["254",ae.VARIABLE_LENGTH,20],["400",ae.VARIABLE_LENGTH,30],["401",ae.VARIABLE_LENGTH,30],["402",17],["403",ae.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ae.VARIABLE_LENGTH,20],["421",ae.VARIABLE_LENGTH,15],["422",3],["423",ae.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ae.VARIABLE_LENGTH,15],["391",ae.VARIABLE_LENGTH,18],["392",ae.VARIABLE_LENGTH,15],["393",ae.VARIABLE_LENGTH,18],["703",ae.VARIABLE_LENGTH,30]],ae.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ae.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ae.VARIABLE_LENGTH,20],["8003",ae.VARIABLE_LENGTH,30],["8004",ae.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ae.VARIABLE_LENGTH,30],["8008",ae.VARIABLE_LENGTH,12],["8018",18],["8020",ae.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ae.VARIABLE_LENGTH,70],["8200",ae.VARIABLE_LENGTH,70]];class bo{constructor(i){this.buffer=new Oe,this.information=i}decodeAllCodes(i,a){let l=a,u=null;do{let h=this.decodeGeneralPurposeField(l,u),d=ae.parseFieldsInGeneralPurpose(h.getNewString());if(d!=null&&i.append(d),h.isRemaining()?u=""+h.getRemainingValue():u=null,l===h.getNewPosition())break;l=h.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let a=i;a<i+3;++a)if(this.information.get(a))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(i,4);return h===0?new xr(this.information.getSize(),xr.FNC1,xr.FNC1):new xr(this.information.getSize(),h-1,xr.FNC1)}let a=this.extractNumericValueFromBitArray(i,7),l=(a-8)/11,u=(a-8)%11;return new xr(i+7,l,u)}extractNumericValueFromBitArray(i,a){return bo.extractNumericValueFromBitArray(this.information,i,a)}static extractNumericValueFromBitArray(i,a,l){let u=0;for(let h=0;h<l;++h)i.get(a+h)&&(u|=1<<l-h-1);return u}decodeGeneralPurposeField(i,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(i);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Bs(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Bs(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,a;do{let l=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),i=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),i=a.isFinished()):(a=this.parseNumericBlock(),i=a.isFinished()),!(l!==this.current.getPosition())&&!i)break}while(!i);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let a;return i.isSecondDigitFNC1()?a=new Bs(this.current.getPosition(),this.buffer.toString()):a=new Bs(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new Ls(!0,a)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let a=new Bs(this.current.getPosition(),this.buffer.toString());return new Ls(!0,a)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ls(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let a=new Bs(this.current.getPosition(),this.buffer.toString());return new Ls(!0,a)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ls(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let a=new Bs(this.current.getPosition(),this.buffer.toString());return new Ls(!0,a)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ls(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,5);if(a>=5&&a<16)return!0;if(i+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<116)return!0;if(i+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(i,8);return u>=232&&u<253}decodeIsoIec646(i){let a=this.extractNumericValueFromBitArray(i,5);if(a===15)return new Hn(i+5,Hn.FNC1);if(a>=5&&a<15)return new Hn(i+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<90)return new Hn(i+7,""+(l+1));if(l>=90&&l<116)return new Hn(i+7,""+(l+7));let u=this.extractNumericValueFromBitArray(i,8),h;switch(u){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new F}return new Hn(i+8,h)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,5);if(a>=5&&a<16)return!0;if(i+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,6);return l>=16&&l<63}decodeAlphanumeric(i){let a=this.extractNumericValueFromBitArray(i,5);if(a===15)return new Hn(i+5,Hn.FNC1);if(a>=5&&a<15)return new Hn(i+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(i,6);if(l>=32&&l<58)return new Hn(i+6,""+(l+33));let u;switch(l){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new zr("Decoding invalid alphanumeric value: "+l)}return new Hn(i+6,u)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let a=0;a<5&&a+i<this.information.getSize();++a)if(a===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+a))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let a=i;a<i+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let a=0;a<4&&a+i<this.information.getSize();++a)if(this.information.get(i+a))return!1;return!0}}class Mf{constructor(i){this.information=i,this.generalDecoder=new bo(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Wn extends Mf{constructor(i){super(i)}encodeCompressedGtin(i,a){i.append("(01)");let l=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,a,l)}encodeCompressedGtinWithoutAI(i,a,l){for(let u=0;u<4;++u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*u,10);h/100===0&&i.append("0"),h/10===0&&i.append("0"),i.append(h)}Wn.appendCheckDigit(i,l)}static appendCheckDigit(i,a){let l=0;for(let u=0;u<13;u++){let h=i.charAt(u+a).charCodeAt(0)-"0".charCodeAt(0);l+=u&1?h:3*h}l=10-l%10,l===10&&(l=0),i.append(l)}}Wn.GTIN_SIZE=40;class No extends Wn{constructor(i){super(i)}parseInformation(){let i=new Oe;i.append("(01)");let a=i.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(No.HEADER_SIZE,4);return i.append(l),this.encodeCompressedGtinWithoutAI(i,No.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(i,No.HEADER_SIZE+44)}}No.HEADER_SIZE=1+1+2;class yu extends Mf{constructor(i){super(i)}parseInformation(){let i=new Oe;return this.getGeneralDecoder().decodeAllCodes(i,yu.HEADER_SIZE)}}yu.HEADER_SIZE=2+1+2;class xu extends Wn{constructor(i){super(i)}encodeCompressedWeight(i,a,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(a,l);this.addWeightCode(i,u);let h=this.checkWeight(u),d=1e5;for(let f=0;f<5;++f)h/d===0&&i.append("0"),d/=10;i.append(h)}}class Wr extends xu{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=Wr.HEADER_SIZE+xu.GTIN_SIZE+Wr.WEIGHT_SIZE)throw new W;let i=new Oe;return this.encodeCompressedGtin(i,Wr.HEADER_SIZE),this.encodeCompressedWeight(i,Wr.HEADER_SIZE+xu.GTIN_SIZE,Wr.WEIGHT_SIZE),i.toString()}}Wr.HEADER_SIZE=4+1,Wr.WEIGHT_SIZE=15;class J3 extends Wr{constructor(i){super(i)}addWeightCode(i,a){i.append("(3103)")}checkWeight(i){return i}}class eI extends Wr{constructor(i){super(i)}addWeightCode(i,a){a<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class $r extends Wn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<$r.HEADER_SIZE+Wn.GTIN_SIZE)throw new W;let i=new Oe;this.encodeCompressedGtin(i,$r.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray($r.HEADER_SIZE+Wn.GTIN_SIZE,$r.LAST_DIGIT_SIZE);i.append("(392"),i.append(a),i.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField($r.HEADER_SIZE+Wn.GTIN_SIZE+$r.LAST_DIGIT_SIZE,null);return i.append(l.getNewString()),i.toString()}}$r.HEADER_SIZE=5+1+2,$r.LAST_DIGIT_SIZE=2;class Dn extends Wn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<Dn.HEADER_SIZE+Wn.GTIN_SIZE)throw new W;let i=new Oe;this.encodeCompressedGtin(i,Dn.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Dn.HEADER_SIZE+Wn.GTIN_SIZE,Dn.LAST_DIGIT_SIZE);i.append("(393"),i.append(a),i.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Dn.HEADER_SIZE+Wn.GTIN_SIZE+Dn.LAST_DIGIT_SIZE,Dn.FIRST_THREE_DIGITS_SIZE);l/100==0&&i.append("0"),l/10==0&&i.append("0"),i.append(l);let u=this.getGeneralDecoder().decodeGeneralPurposeField(Dn.HEADER_SIZE+Wn.GTIN_SIZE+Dn.LAST_DIGIT_SIZE+Dn.FIRST_THREE_DIGITS_SIZE,null);return i.append(u.getNewString()),i.toString()}}Dn.HEADER_SIZE=5+1+2,Dn.LAST_DIGIT_SIZE=2,Dn.FIRST_THREE_DIGITS_SIZE=10;class gt extends xu{constructor(i,a,l){super(i),this.dateCode=l,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=gt.HEADER_SIZE+gt.GTIN_SIZE+gt.WEIGHT_SIZE+gt.DATE_SIZE)throw new W;let i=new Oe;return this.encodeCompressedGtin(i,gt.HEADER_SIZE),this.encodeCompressedWeight(i,gt.HEADER_SIZE+gt.GTIN_SIZE,gt.WEIGHT_SIZE),this.encodeCompressedDate(i,gt.HEADER_SIZE+gt.GTIN_SIZE+gt.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a,gt.DATE_SIZE);if(l==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let u=l%32;l/=32;let h=l%12+1;l/=12;let d=l;d/10==0&&i.append("0"),i.append(d),h/10==0&&i.append("0"),i.append(h),u/10==0&&i.append("0"),i.append(u)}addWeightCode(i,a){i.append("("),i.append(this.firstAIdigits),i.append(a/1e5),i.append(")")}checkWeight(i){return i%1e5}}gt.HEADER_SIZE=7+1,gt.WEIGHT_SIZE=20,gt.DATE_SIZE=16;function t2(C){try{if(C.get(1))return new No(C);if(!C.get(2))return new yu(C);switch(bo.extractNumericValueFromBitArray(C,1,4)){case 4:return new J3(C);case 5:return new eI(C)}switch(bo.extractNumericValueFromBitArray(C,1,5)){case 12:return new $r(C);case 13:return new Dn(C)}switch(bo.extractNumericValueFromBitArray(C,1,7)){case 56:return new gt(C,"310","11");case 57:return new gt(C,"320","11");case 58:return new gt(C,"310","13");case 59:return new gt(C,"320","13");case 60:return new gt(C,"310","15");case 61:return new gt(C,"320","15");case 62:return new gt(C,"310","17");case 63:return new gt(C,"320","17")}}catch(i){throw console.log(i),new zr("unknown decoder: "+C)}}class zi{constructor(i,a,l,u){this.leftchar=i,this.rightchar=a,this.finderpattern=l,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,a){return i instanceof zi?zi.equalsOrNull(i.leftchar,a.leftchar)&&zi.equalsOrNull(i.rightchar,a.rightchar)&&zi.equalsOrNull(i.finderpattern,a.finderpattern):!1}static equalsOrNull(i,a){return i===null?a===null:zi.equals(i,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Pf{constructor(i,a,l){this.pairs=i,this.rowNumber=a,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,a){return i instanceof Pf?this.checkEqualitity(i,a)&&i.wasReversed===a.wasReversed:!1}checkEqualitity(i,a){if(!i||!a)return;let l;return i.forEach((u,h)=>{a.forEach(d=>{u.getLeftChar().getValue()===d.getLeftChar().getValue()&&u.getRightChar().getValue()===d.getRightChar().getValue()&&u.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(l=!0)})}),l}}class Y extends yn{constructor(i){super(...arguments),this.pairs=new Array(Y.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,a,l){this.pairs.length=0,this.startFromEven=!1;try{return Y.constructResult(this.decodeRow2pairs(i,a))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,Y.constructResult(this.decodeRow2pairs(i,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,a){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,i))}catch(h){if(h instanceof W){if(!this.pairs.length)throw new W;l=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(i,!1),u){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new W}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return i&&(this.rows=this.rows.reverse()),a}checkRows(i,a){for(let l=a;l<this.rows.length;l++){let u=this.rows[l];this.pairs.length=0;for(let d of i)this.pairs.push(d.getPairs());if(this.pairs.push(u.getPairs()),!Y.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(i);h.push(u);try{return this.checkRows(h,l+1)}catch(d){this.verbose&&console.log(d)}}throw new W}static isValidSequence(i){for(let a of Y.FINDER_PATTERN_SEQUENCES){if(i.length>a.length)continue;let l=!0;for(let u=0;u<i.length;u++)if(i[u].getFinderPattern().getValue()!=a[u]){l=!1;break}if(l)return!0}return!1}storeRow(i,a){let l=0,u=!1,h=!1;for(;l<this.rows.length;){let d=this.rows[l];if(d.getRowNumber()>i){h=d.isEquivalent(this.pairs);break}u=d.isEquivalent(this.pairs),l++}h||u||Y.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Pf(this.pairs,i,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,a){for(let l of a)if(l.getPairs().length!==i.length){for(let u of l.getPairs())for(let h of i)if(zi.equals(u,h))break}}static isPartialRow(i,a){for(let l of a){let u=!0;for(let h of i){let d=!1;for(let f of l.getPairs())if(h.equals(f)){d=!0;break}if(!d){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(i){let a=Z3.buildBitArray(i),u=t2(a).parseInformation(),h=i[0].getFinderPattern().getResultPoints(),d=i[i.length-1].getFinderPattern().getResultPoints(),f=[h[0],h[1],d[0],d[1]];return new xt(u,null,null,f,de.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),a=i.getLeftChar(),l=i.getRightChar();if(l==null)return!1;let u=l.getChecksumPortion(),h=2;for(let f=1;f<this.pairs.size();++f){let y=this.pairs.get(f);u+=y.getLeftChar().getChecksumPortion(),h++;let x=y.getRightChar();x!=null&&(u+=x.getChecksumPortion(),h++)}return u%=211,211*(h-4)+u==a.getValue()}static getNextSecondBar(i,a){let l;return i.get(a)?(l=i.getNextUnset(a),l=i.getNextSet(l)):(l=i.getNextSet(a),l=i.getNextUnset(l)),l}retrieveNextPair(i,a,l){let u=a.length%2==0;this.startFromEven&&(u=!u);let h,d=!0,f=-1;do this.findNextPair(i,a,f),h=this.parseFoundFinderPattern(i,l,u),h==null?f=Y.getNextSecondBar(i,this.startEnd[0]):d=!1;while(d);let y=this.decodeDataCharacter(i,h,u,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new W;let x;try{x=this.decodeDataCharacter(i,h,u,!1)}catch(E){x=null,this.verbose&&console.log(E)}return new zi(y,x,h,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,a,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=i.getSize(),d;l>=0?d=l:this.isEmptyPair(a)?d=0:d=a[a.length-1].getFinderPattern().getStartEnd()[1];let f=a.length%2!=0;this.startFromEven&&(f=!f);let y=!1;for(;d<h&&(y=!i.get(d),!!y);)d++;let x=0,E=d;for(let A=d;A<h;A++)if(i.get(A)!=y)u[x]++;else{if(x==3){if(f&&Y.reverseCounters(u),Y.isFinderPattern(u)){this.startEnd[0]=E,this.startEnd[1]=A;return}f&&Y.reverseCounters(u),E+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,x--}else x++;u[x]=1,y=!y}throw new W}static reverseCounters(i){let a=i.length;for(let l=0;l<a/2;++l){let u=i[l];i[l]=i[a-l-1],i[a-l-1]=u}}parseFoundFinderPattern(i,a,l){let u,h,d;if(l){let x=this.startEnd[0]-1;for(;x>=0&&!i.get(x);)x--;x++,u=this.startEnd[0]-x,h=x,d=this.startEnd[1]}else h=this.startEnd[0],d=i.getNextUnset(this.startEnd[1]+1),u=d-this.startEnd[1];let f=this.getDecodeFinderCounters();D.arraycopy(f,0,f,1,f.length-1),f[0]=u;let y;try{y=this.parseFinderValue(f,Y.FINDER_PATTERNS)}catch{return null}return new mu(y,[h,d],h,d,a)}decodeDataCharacter(i,a,l,u){let h=this.getDataCharacterCounters();for(let it=0;it<h.length;it++)h[it]=0;if(u)Y.recordPatternInReverse(i,a.getStartEnd()[0],h);else{Y.recordPattern(i,a.getStartEnd()[1],h);for(let it=0,cn=h.length-1;it<cn;it++,cn--){let rr=h[it];h[it]=h[cn],h[cn]=rr}}let d=17,f=Ue.sum(new Int32Array(h))/d,y=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(f-y)/y>.3)throw new W;let x=this.getOddCounts(),E=this.getEvenCounts(),A=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let it=0;it<h.length;it++){let cn=1*h[it]/f,rr=cn+.5;if(rr<1){if(cn<.3)throw new W;rr=1}else if(rr>8){if(cn>8.7)throw new W;rr=8}let Mo=it/2;it&1?(E[Mo]=rr,T[Mo]=cn-rr):(x[Mo]=rr,A[Mo]=cn-rr)}this.adjustOddEvenCounts(d);let N=4*a.getValue()+(l?0:2)+(u?0:1)-1,P=0,L=0;for(let it=x.length-1;it>=0;it--){if(Y.isNotA1left(a,l,u)){let cn=Y.WEIGHTS[N][2*it];L+=x[it]*cn}P+=x[it]}let j=0;for(let it=E.length-1;it>=0;it--)if(Y.isNotA1left(a,l,u)){let cn=Y.WEIGHTS[N][2*it+1];j+=E[it]*cn}let H=L+j;if(P&1||P>13||P<4)throw new W;let ee=(13-P)/2,te=Y.SYMBOL_WIDEST[ee],q=9-te,ke=Hr.getRSSvalue(x,te,!0),Te=Hr.getRSSvalue(E,q,!1),Gn=Y.EVEN_TOTAL_SUBSET[ee],Or=Y.GSUM[ee],Xn=ke*Gn+Te+Or;return new So(Xn,H)}static isNotA1left(i,a,l){return!(i.getValue()==0&&a&&l)}adjustOddEvenCounts(i){let a=Ue.sum(new Int32Array(this.getOddCounts())),l=Ue.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1;a>13?h=!0:a<4&&(u=!0);let d=!1,f=!1;l>13?f=!0:l<4&&(d=!0);let y=a+l-i,x=(a&1)==1,E=(l&1)==0;if(y==1)if(x){if(E)throw new W;h=!0}else{if(!E)throw new W;f=!0}else if(y==-1)if(x){if(E)throw new W;u=!0}else{if(!E)throw new W;d=!0}else if(y==0){if(x){if(!E)throw new W;a<l?(u=!0,f=!0):(h=!0,d=!0)}else if(E)throw new W}else throw new W;if(u){if(h)throw new W;Y.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Y.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(f)throw new W;Y.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&Y.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Y.SYMBOL_WIDEST=[7,5,4,3,1],Y.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Y.GSUM=[0,348,1388,2948,3988],Y.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Y.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Y.FINDER_PAT_A=0,Y.FINDER_PAT_B=1,Y.FINDER_PAT_C=2,Y.FINDER_PAT_D=3,Y.FINDER_PAT_E=4,Y.FINDER_PAT_F=5,Y.FINDER_PATTERN_SEQUENCES=[[Y.FINDER_PAT_A,Y.FINDER_PAT_A],[Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B],[Y.FINDER_PAT_A,Y.FINDER_PAT_C,Y.FINDER_PAT_B,Y.FINDER_PAT_D],[Y.FINDER_PAT_A,Y.FINDER_PAT_E,Y.FINDER_PAT_B,Y.FINDER_PAT_D,Y.FINDER_PAT_C],[Y.FINDER_PAT_A,Y.FINDER_PAT_E,Y.FINDER_PAT_B,Y.FINDER_PAT_D,Y.FINDER_PAT_D,Y.FINDER_PAT_F],[Y.FINDER_PAT_A,Y.FINDER_PAT_E,Y.FINDER_PAT_B,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_F,Y.FINDER_PAT_F],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_D],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_E],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_F,Y.FINDER_PAT_F],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_E,Y.FINDER_PAT_F,Y.FINDER_PAT_F]],Y.MAX_PAIRS=11;class tI extends So{constructor(i,a,l){super(i,a),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class It extends yn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,a,l){const u=this.decodePair(a,!1,i,l);It.addOrTally(this.possibleLeftPairs,u),a.reverse();let h=this.decodePair(a,!0,i,l);It.addOrTally(this.possibleRightPairs,h),a.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&It.checkChecksum(d,f))return It.constructResult(d,f)}throw new W}static addOrTally(i,a){if(a==null)return;let l=!1;for(let u of i)if(u.getValue()===a.getValue()){u.incrementCount(),l=!0;break}l||i.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,a){let l=4537077*i.getValue()+a.getValue(),u=new String(l).toString(),h=new Oe;for(let x=13-u.length;x>0;x--)h.append("0");h.append(u);let d=0;for(let x=0;x<13;x++){let E=h.charAt(x).charCodeAt(0)-"0".charCodeAt(0);d+=x&1?E:3*E}d=10-d%10,d===10&&(d=0),h.append(d.toString());let f=i.getFinderPattern().getResultPoints(),y=a.getFinderPattern().getResultPoints();return new xt(h.toString(),null,0,[f[0],f[1],y[0],y[1]],de.RSS_14,new Date().getTime())}static checkChecksum(i,a){let l=(i.getChecksumPortion()+16*a.getChecksumPortion())%79,u=9*i.getFinderPattern().getValue()+a.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,l===u}decodePair(i,a,l,u){try{let h=this.findFinderPattern(i,a),d=this.parseFoundFinderPattern(i,l,a,h),f=u==null?null:u.get(G.NEED_RESULT_POINT_CALLBACK);if(f!=null){let E=(h[0]+h[1])/2;a&&(E=i.getSize()-1-E),f.foundPossibleResultPoint(new ue(E,l))}let y=this.decodeDataCharacter(i,d,!0),x=this.decodeDataCharacter(i,d,!1);return new tI(1597*y.getValue()+x.getValue(),y.getChecksumPortion()+4*x.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(i,a,l){let u=this.getDataCharacterCounters();for(let j=0;j<u.length;j++)u[j]=0;if(l)Ft.recordPatternInReverse(i,a.getStartEnd()[0],u);else{Ft.recordPattern(i,a.getStartEnd()[1]+1,u);for(let j=0,H=u.length-1;j<H;j++,H--){let ee=u[j];u[j]=u[H],u[H]=ee}}let h=l?16:15,d=Ue.sum(new Int32Array(u))/h,f=this.getOddCounts(),y=this.getEvenCounts(),x=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let j=0;j<u.length;j++){let H=u[j]/d,ee=Math.floor(H+.5);ee<1?ee=1:ee>8&&(ee=8);let te=Math.floor(j/2);j&1?(y[te]=ee,E[te]=H-ee):(f[te]=ee,x[te]=H-ee)}this.adjustOddEvenCounts(l,h);let A=0,T=0;for(let j=f.length-1;j>=0;j--)T*=9,T+=f[j],A+=f[j];let N=0,P=0;for(let j=y.length-1;j>=0;j--)N*=9,N+=y[j],P+=y[j];let L=T+3*N;if(l){if(A&1||A>12||A<4)throw new W;let j=(12-A)/2,H=It.OUTSIDE_ODD_WIDEST[j],ee=9-H,te=Hr.getRSSvalue(f,H,!1),q=Hr.getRSSvalue(y,ee,!0),ke=It.OUTSIDE_EVEN_TOTAL_SUBSET[j],Te=It.OUTSIDE_GSUM[j];return new So(te*ke+q+Te,L)}else{if(P&1||P>10||P<4)throw new W;let j=(10-P)/2,H=It.INSIDE_ODD_WIDEST[j],ee=9-H,te=Hr.getRSSvalue(f,H,!0),q=Hr.getRSSvalue(y,ee,!1),ke=It.INSIDE_ODD_TOTAL_SUBSET[j],Te=It.INSIDE_GSUM[j];return new So(q*ke+te+Te,L)}}findFinderPattern(i,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=i.getSize(),h=!1,d=0;for(;d<u&&(h=!i.get(d),a!==h);)d++;let f=0,y=d;for(let x=d;x<u;x++)if(i.get(x)!==h)l[f]++;else{if(f===3){if(yn.isFinderPattern(l))return[y,x];y+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,f--}else f++;l[f]=1,h=!h}throw new W}parseFoundFinderPattern(i,a,l,u){let h=i.get(u[0]),d=u[0]-1;for(;d>=0&&h!==i.get(d);)d--;d++;const f=u[0]-d,y=this.getDecodeFinderCounters(),x=new Int32Array(y.length);D.arraycopy(y,0,x,1,y.length-1),x[0]=f;const E=this.parseFinderValue(x,It.FINDER_PATTERNS);let A=d,T=u[1];return l&&(A=i.getSize()-1-A,T=i.getSize()-1-T),new mu(E,[d,u[1]],A,T,a)}adjustOddEvenCounts(i,a){let l=Ue.sum(new Int32Array(this.getOddCounts())),u=Ue.sum(new Int32Array(this.getEvenCounts())),h=!1,d=!1,f=!1,y=!1;i?(l>12?d=!0:l<4&&(h=!0),u>12?y=!0:u<4&&(f=!0)):(l>11?d=!0:l<5&&(h=!0),u>10?y=!0:u<4&&(f=!0));let x=l+u-a,E=(l&1)===(i?1:0),A=(u&1)===1;if(x===1)if(E){if(A)throw new W;d=!0}else{if(!A)throw new W;y=!0}else if(x===-1)if(E){if(A)throw new W;h=!0}else{if(!A)throw new W;f=!0}else if(x===0){if(E){if(!A)throw new W;l<u?(h=!0,y=!0):(d=!0,f=!0)}else if(A)throw new W}else throw new W;if(h){if(d)throw new W;yn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&yn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(y)throw new W;yn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&yn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}It.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],It.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],It.OUTSIDE_GSUM=[0,161,961,2015,2715],It.INSIDE_GSUM=[0,336,1036,1516],It.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],It.INSIDE_ODD_WIDEST=[2,4,6,8],It.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ro extends Ft{constructor(i,a){super(),this.readers=[],this.verbose=a===!0;const l=i?i.get(G.POSSIBLE_FORMATS):null,u=i&&i.get(G.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(de.EAN_13)||l.includes(de.UPC_A)||l.includes(de.EAN_8)||l.includes(de.UPC_E))&&this.readers.push(new kf(i)),l.includes(de.CODE_39)&&this.readers.push(new Wt(u)),l.includes(de.CODE_128)&&this.readers.push(new ne),l.includes(de.ITF)&&this.readers.push(new nt),l.includes(de.RSS_14)&&this.readers.push(new It),l.includes(de.RSS_EXPANDED)&&this.readers.push(new Y(this.verbose))):(this.readers.push(new kf(i)),this.readers.push(new Wt),this.readers.push(new kf(i)),this.readers.push(new ne),this.readers.push(new nt),this.readers.push(new It),this.readers.push(new Y(this.verbose)))}decodeRow(i,a,l){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(i,a,l)}catch{}throw new W}reset(){this.readers.forEach(i=>i.reset())}}class nI extends yr{constructor(i=500,a){super(new Ro(a),i,a)}}class Ke{constructor(i,a,l){this.ecCodewords=i,this.ecBlocks=[a],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ge{constructor(i,a){this.count=i,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Pe{constructor(i,a,l,u,h,d){this.versionNumber=i,this.symbolSizeRows=a,this.symbolSizeColumns=l,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=h,this.ecBlocks=d;let f=0;const y=d.getECCodewords(),x=d.getECBlocks();for(let E of x)f+=E.getCount()*(E.getDataCodewords()+y);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,a){if(i&1||a&1)throw new F;for(let l of Pe.VERSIONS)if(l.symbolSizeRows===i&&l.symbolSizeColumns===a)return l;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new Pe(1,10,10,8,8,new Ke(5,new Ge(1,3))),new Pe(2,12,12,10,10,new Ke(7,new Ge(1,5))),new Pe(3,14,14,12,12,new Ke(10,new Ge(1,8))),new Pe(4,16,16,14,14,new Ke(12,new Ge(1,12))),new Pe(5,18,18,16,16,new Ke(14,new Ge(1,18))),new Pe(6,20,20,18,18,new Ke(18,new Ge(1,22))),new Pe(7,22,22,20,20,new Ke(20,new Ge(1,30))),new Pe(8,24,24,22,22,new Ke(24,new Ge(1,36))),new Pe(9,26,26,24,24,new Ke(28,new Ge(1,44))),new Pe(10,32,32,14,14,new Ke(36,new Ge(1,62))),new Pe(11,36,36,16,16,new Ke(42,new Ge(1,86))),new Pe(12,40,40,18,18,new Ke(48,new Ge(1,114))),new Pe(13,44,44,20,20,new Ke(56,new Ge(1,144))),new Pe(14,48,48,22,22,new Ke(68,new Ge(1,174))),new Pe(15,52,52,24,24,new Ke(42,new Ge(2,102))),new Pe(16,64,64,14,14,new Ke(56,new Ge(2,140))),new Pe(17,72,72,16,16,new Ke(36,new Ge(4,92))),new Pe(18,80,80,18,18,new Ke(48,new Ge(4,114))),new Pe(19,88,88,20,20,new Ke(56,new Ge(4,144))),new Pe(20,96,96,22,22,new Ke(68,new Ge(4,174))),new Pe(21,104,104,24,24,new Ke(56,new Ge(6,136))),new Pe(22,120,120,18,18,new Ke(68,new Ge(6,175))),new Pe(23,132,132,20,20,new Ke(62,new Ge(8,163))),new Pe(24,144,144,22,22,new Ke(62,new Ge(8,156),new Ge(2,155))),new Pe(25,8,18,6,16,new Ke(7,new Ge(1,5))),new Pe(26,8,32,6,14,new Ke(11,new Ge(1,10))),new Pe(27,12,26,10,24,new Ke(14,new Ge(1,16))),new Pe(28,12,36,10,16,new Ke(18,new Ge(1,22))),new Pe(29,16,36,14,16,new Ke(24,new Ge(1,32))),new Pe(30,16,48,14,22,new Ke(28,new Ge(1,49)))]}}Pe.VERSIONS=Pe.buildVersions();class Lf{constructor(i){const a=i.getHeight();if(a<8||a>144||a&1)throw new F;this.version=Lf.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new yt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const a=i.getHeight(),l=i.getWidth();return Pe.getVersionForDimensions(a,l)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let a=0,l=4,u=0;const h=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let f=!1,y=!1,x=!1,E=!1;do if(l===h&&u===0&&!f)i[a++]=this.readCorner1(h,d)&255,l-=2,u+=2,f=!0;else if(l===h-2&&u===0&&d&3&&!y)i[a++]=this.readCorner2(h,d)&255,l-=2,u+=2,y=!0;else if(l===h+4&&u===2&&!(d&7)&&!x)i[a++]=this.readCorner3(h,d)&255,l-=2,u+=2,x=!0;else if(l===h-2&&u===0&&(d&7)===4&&!E)i[a++]=this.readCorner4(h,d)&255,l-=2,u+=2,E=!0;else{do l<h&&u>=0&&!this.readMappingMatrix.get(u,l)&&(i[a++]=this.readUtah(l,u,h,d)&255),l-=2,u+=2;while(l>=0&&u<d);l+=1,u+=3;do l>=0&&u<d&&!this.readMappingMatrix.get(u,l)&&(i[a++]=this.readUtah(l,u,h,d)&255),l+=2,u-=2;while(l<h&&u>=0);l+=3,u+=1}while(l<h||u<d);if(a!==this.version.getTotalCodewords())throw new F;return i}readModule(i,a,l,u){return i<0&&(i+=l,a+=4-(l+4&7)),a<0&&(a+=u,i+=4-(u+4&7)),this.readMappingMatrix.set(a,i),this.mappingBitMatrix.get(a,i)}readUtah(i,a,l,u){let h=0;return this.readModule(i-2,a-2,l,u)&&(h|=1),h<<=1,this.readModule(i-2,a-1,l,u)&&(h|=1),h<<=1,this.readModule(i-1,a-2,l,u)&&(h|=1),h<<=1,this.readModule(i-1,a-1,l,u)&&(h|=1),h<<=1,this.readModule(i-1,a,l,u)&&(h|=1),h<<=1,this.readModule(i,a-2,l,u)&&(h|=1),h<<=1,this.readModule(i,a-1,l,u)&&(h|=1),h<<=1,this.readModule(i,a,l,u)&&(h|=1),h}readCorner1(i,a){let l=0;return this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,1,i,a)&&(l|=1),l<<=1,this.readModule(i-1,2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l<<=1,this.readModule(2,a-1,i,a)&&(l|=1),l<<=1,this.readModule(3,a-1,i,a)&&(l|=1),l}readCorner2(i,a){let l=0;return this.readModule(i-3,0,i,a)&&(l|=1),l<<=1,this.readModule(i-2,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(0,a-4,i,a)&&(l|=1),l<<=1,this.readModule(0,a-3,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l}readCorner3(i,a){let l=0;return this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,a-1,i,a)&&(l|=1),l<<=1,this.readModule(0,a-3,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-3,i,a)&&(l|=1),l<<=1,this.readModule(1,a-2,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l}readCorner4(i,a){let l=0;return this.readModule(i-3,0,i,a)&&(l|=1),l<<=1,this.readModule(i-2,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l<<=1,this.readModule(2,a-1,i,a)&&(l|=1),l<<=1,this.readModule(3,a-1,i,a)&&(l|=1),l}extractDataRegion(i){const a=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(i.getHeight()!==a)throw new v("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),d=a/u|0,f=l/h|0,y=d*u,x=f*h,E=new yt(x,y);for(let A=0;A<d;++A){const T=A*u;for(let N=0;N<f;++N){const P=N*h;for(let L=0;L<u;++L){const j=A*(u+2)+1+L,H=T+L;for(let ee=0;ee<h;++ee){const te=N*(h+2)+1+ee;if(i.get(te,j)){const q=P+ee;E.set(q,H)}}}}}return E}}class Bf{constructor(i,a){this.numDataCodewords=i,this.codewords=a}static getDataBlocks(i,a){const l=a.getECBlocks();let u=0;const h=l.getECBlocks();for(let L of h)u+=L.getCount();const d=new Array(u);let f=0;for(let L of h)for(let j=0;j<L.getCount();j++){const H=L.getDataCodewords(),ee=l.getECCodewords()+H;d[f++]=new Bf(H,new Uint8Array(ee))}const x=d[0].codewords.length-l.getECCodewords(),E=x-1;let A=0;for(let L=0;L<E;L++)for(let j=0;j<f;j++)d[j].codewords[L]=i[A++];const T=a.getVersionNumber()===24,N=T?8:f;for(let L=0;L<N;L++)d[L].codewords[x-1]=i[A++];const P=d[0].codewords.length;for(let L=x;L<P;L++)for(let j=0;j<f;j++){const H=T?(j+8)%f:j,ee=T&&H>7?L-1:L;d[H].codewords[ee]=i[A++]}if(A!==i.length)throw new v;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ff{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new v(""+i);let a=0,l=this.bitOffset,u=this.byteOffset;const h=this.bytes;if(l>0){const d=8-l,f=i<d?i:d,y=d-f,x=255>>8-f<<y;a=(h[u]&x)>>y,i-=f,l+=f,l===8&&(l=0,u++)}if(i>0){for(;i>=8;)a=a<<8|h[u]&255,u++,i-=8;if(i>0){const d=8-i,f=255>>d<<d;a=a<<i|(h[u]&f)>>d,l+=i}}return this.bitOffset=l,this.byteOffset=u,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var $t;(function(C){C[C.PAD_ENCODE=0]="PAD_ENCODE",C[C.ASCII_ENCODE=1]="ASCII_ENCODE",C[C.C40_ENCODE=2]="C40_ENCODE",C[C.TEXT_ENCODE=3]="TEXT_ENCODE",C[C.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",C[C.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",C[C.BASE256_ENCODE=6]="BASE256_ENCODE"})($t||($t={}));class Hi{static decode(i){const a=new Ff(i),l=new Oe,u=new Oe,h=new Array;let d=$t.ASCII_ENCODE;do if(d===$t.ASCII_ENCODE)d=this.decodeAsciiSegment(a,l,u);else{switch(d){case $t.C40_ENCODE:this.decodeC40Segment(a,l);break;case $t.TEXT_ENCODE:this.decodeTextSegment(a,l);break;case $t.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,l);break;case $t.EDIFACT_ENCODE:this.decodeEdifactSegment(a,l);break;case $t.BASE256_ENCODE:this.decodeBase256Segment(a,l,h);break;default:throw new F}d=$t.ASCII_ENCODE}while(d!==$t.PAD_ENCODE&&a.available()>0);return u.length()>0&&l.append(u.toString()),new Ja(i,l.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(i,a,l){let u=!1;do{let h=i.readBits(8);if(h===0)throw new F;if(h<=128)return u&&(h+=128),a.append(String.fromCharCode(h-1)),$t.ASCII_ENCODE;if(h===129)return $t.PAD_ENCODE;if(h<=229){const d=h-130;d<10&&a.append("0"),a.append(""+d)}else switch(h){case 230:return $t.C40_ENCODE;case 231:return $t.BASE256_ENCODE;case 232:a.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:u=!0;break;case 236:a.append("[)>05"),l.insert(0,"");break;case 237:a.append("[)>06"),l.insert(0,"");break;case 238:return $t.ANSIX12_ENCODE;case 239:return $t.TEXT_ENCODE;case 240:return $t.EDIFACT_ENCODE;case 241:break;default:if(h!==254||i.available()!==0)throw new F;break}}while(i.available()>0);return $t.ASCII_ENCODE}static decodeC40Segment(i,a){let l=!1;const u=[];let h=0;do{if(i.available()===8)return;const d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),u);for(let f=0;f<3;f++){const y=u[f];switch(h){case 0:if(y<3)h=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[y];l?(a.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):a.append(x)}else throw new F;break;case 1:l?(a.append(String.fromCharCode(y+128)),l=!1):a.append(String.fromCharCode(y)),h=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[y];l?(a.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):a.append(x)}else switch(y){case 27:a.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new F}h=0;break;case 3:l?(a.append(String.fromCharCode(y+224)),l=!1):a.append(String.fromCharCode(y+96)),h=0;break;default:throw new F}}}while(i.available()>0)}static decodeTextSegment(i,a){let l=!1,u=[],h=0;do{if(i.available()===8)return;const d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),u);for(let f=0;f<3;f++){const y=u[f];switch(h){case 0:if(y<3)h=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[y];l?(a.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):a.append(x)}else throw new F;break;case 1:l?(a.append(String.fromCharCode(y+128)),l=!1):a.append(String.fromCharCode(y)),h=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[y];l?(a.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):a.append(x)}else switch(y){case 27:a.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new F}h=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[y];l?(a.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):a.append(x),h=0}else throw new F;break;default:throw new F}}}while(i.available()>0)}static decodeAnsiX12Segment(i,a){const l=[];do{if(i.available()===8)return;const u=i.readBits(8);if(u===254)return;this.parseTwoBytes(u,i.readBits(8),l);for(let h=0;h<3;h++){const d=l[h];switch(d){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(d<14)a.append(String.fromCharCode(d+44));else if(d<40)a.append(String.fromCharCode(d+51));else throw new F;break}}}while(i.available()>0)}static parseTwoBytes(i,a,l){let u=(i<<8)+a-1,h=Math.floor(u/1600);l[0]=h,u-=h*1600,h=Math.floor(u/40),l[1]=h,l[2]=u-h*40}static decodeEdifactSegment(i,a){do{if(i.available()<=16)return;for(let l=0;l<4;l++){let u=i.readBits(6);if(u===31){const h=8-i.getBitOffset();h!==8&&i.readBits(h);return}u&32||(u|=64),a.append(String.fromCharCode(u))}}while(i.available()>0)}static decodeBase256Segment(i,a,l){let u=1+i.getByteOffset();const h=this.unrandomize255State(i.readBits(8),u++);let d;if(h===0?d=i.available()/8|0:h<250?d=h:d=250*(h-249)+this.unrandomize255State(i.readBits(8),u++),d<0)throw new F;const f=new Uint8Array(d);for(let y=0;y<d;y++){if(i.available()<8)throw new F;f[y]=this.unrandomize255State(i.readBits(8),u++)}l.push(f);try{a.append(Me.decode(f,ge.ISO88591))}catch(y){throw new zr("Platform does not support required encoding: "+y.message)}}static unrandomize255State(i,a){const l=149*a%255+1,u=i-l;return u>=0?u:u+256}}Hi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Hi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Hi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Hi.TEXT_SHIFT2_SET_CHARS=Hi.C40_SHIFT2_SET_CHARS,Hi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class rI{constructor(){this.rsDecoder=new tl(We.DATA_MATRIX_FIELD_256)}decode(i){const a=new Lf(i),l=a.getVersion(),u=a.readCodewords(),h=Bf.getDataBlocks(u,l);let d=0;for(let x of h)d+=x.getNumDataCodewords();const f=new Uint8Array(d),y=h.length;for(let x=0;x<y;x++){const E=h[x],A=E.getCodewords(),T=E.getNumDataCodewords();this.correctErrors(A,T);for(let N=0;N<T;N++)f[N*y+x]=A[N]}return Hi.decode(f)}correctErrors(i,a){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-a)}catch{throw new R}for(let u=0;u<a;u++)i[u]=l[u]}}class Pt{constructor(i){this.image=i,this.rectangleDetector=new xi(this.image)}detect(){const i=this.rectangleDetector.detect();let a=this.detectSolid1(i);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new W;a=this.shiftToModuleCenter(a);const l=a[0],u=a[1],h=a[2],d=a[3];let f=this.transitionsBetween(l,d)+1,y=this.transitionsBetween(h,d)+1;(f&1)===1&&(f+=1),(y&1)===1&&(y+=1),4*f<7*y&&4*y<7*f&&(f=y=Math.max(f,y));let x=Pt.sampleGrid(this.image,l,u,h,d,f,y);return new gu(x,[l,u,h,d])}static shiftPoint(i,a,l){let u=(a.getX()-i.getX())/(l+1),h=(a.getY()-i.getY())/(l+1);return new ue(i.getX()+u,i.getY()+h)}static moveAway(i,a,l){let u=i.getX(),h=i.getY();return u<a?u-=1:u+=1,h<l?h-=1:h+=1,new ue(u,h)}detectSolid1(i){let a=i[0],l=i[1],u=i[3],h=i[2],d=this.transitionsBetween(a,l),f=this.transitionsBetween(l,u),y=this.transitionsBetween(u,h),x=this.transitionsBetween(h,a),E=d,A=[h,a,l,u];return E>f&&(E=f,A[0]=a,A[1]=l,A[2]=u,A[3]=h),E>y&&(E=y,A[0]=l,A[1]=u,A[2]=h,A[3]=a),E>x&&(A[0]=u,A[1]=h,A[2]=a,A[3]=l),A}detectSolid2(i){let a=i[0],l=i[1],u=i[2],h=i[3],d=this.transitionsBetween(a,h),f=Pt.shiftPoint(l,u,(d+1)*4),y=Pt.shiftPoint(u,l,(d+1)*4),x=this.transitionsBetween(f,a),E=this.transitionsBetween(y,h);return x<E?(i[0]=a,i[1]=l,i[2]=u,i[3]=h):(i[0]=l,i[1]=u,i[2]=h,i[3]=a),i}correctTopRight(i){let a=i[0],l=i[1],u=i[2],h=i[3],d=this.transitionsBetween(a,h),f=this.transitionsBetween(l,h),y=Pt.shiftPoint(a,l,(f+1)*4),x=Pt.shiftPoint(u,l,(d+1)*4);d=this.transitionsBetween(y,h),f=this.transitionsBetween(x,h);let E=new ue(h.getX()+(u.getX()-l.getX())/(d+1),h.getY()+(u.getY()-l.getY())/(d+1)),A=new ue(h.getX()+(a.getX()-l.getX())/(f+1),h.getY()+(a.getY()-l.getY())/(f+1));if(!this.isValid(E))return this.isValid(A)?A:null;if(!this.isValid(A))return E;let T=this.transitionsBetween(y,E)+this.transitionsBetween(x,E),N=this.transitionsBetween(y,A)+this.transitionsBetween(x,A);return T>N?E:A}shiftToModuleCenter(i){let a=i[0],l=i[1],u=i[2],h=i[3],d=this.transitionsBetween(a,h)+1,f=this.transitionsBetween(u,h)+1,y=Pt.shiftPoint(a,l,f*4),x=Pt.shiftPoint(u,l,d*4);d=this.transitionsBetween(y,h)+1,f=this.transitionsBetween(x,h)+1,(d&1)===1&&(d+=1),(f&1)===1&&(f+=1);let E=(a.getX()+l.getX()+u.getX()+h.getX())/4,A=(a.getY()+l.getY()+u.getY()+h.getY())/4;a=Pt.moveAway(a,E,A),l=Pt.moveAway(l,E,A),u=Pt.moveAway(u,E,A),h=Pt.moveAway(h,E,A);let T,N;return y=Pt.shiftPoint(a,l,f*4),y=Pt.shiftPoint(y,h,d*4),T=Pt.shiftPoint(l,a,f*4),T=Pt.shiftPoint(T,u,d*4),x=Pt.shiftPoint(u,h,f*4),x=Pt.shiftPoint(x,l,d*4),N=Pt.shiftPoint(h,u,f*4),N=Pt.shiftPoint(N,a,d*4),[y,T,x,N]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,a,l,u,h,d,f){return Vi.getInstance().sampleGrid(i,d,f,.5,.5,d-.5,.5,d-.5,f-.5,.5,f-.5,a.getX(),a.getY(),h.getX(),h.getY(),u.getX(),u.getY(),l.getX(),l.getY())}transitionsBetween(i,a){let l=Math.trunc(i.getX()),u=Math.trunc(i.getY()),h=Math.trunc(a.getX()),d=Math.trunc(a.getY()),f=Math.abs(d-u)>Math.abs(h-l);if(f){let L=l;l=u,u=L,L=h,h=d,d=L}let y=Math.abs(h-l),x=Math.abs(d-u),E=-y/2,A=u<d?1:-1,T=l<h?1:-1,N=0,P=this.image.get(f?u:l,f?l:u);for(let L=l,j=u;L!==h;L+=T){let H=this.image.get(f?j:L,f?L:j);if(H!==P&&(N++,P=H),E+=x,E>0){if(j===d)break;j+=A,E-=y}}return N}}class Wi{constructor(){this.decoder=new rI}decode(i,a=null){let l,u;if(a!=null&&a.has(G.PURE_BARCODE)){const x=Wi.extractPureBits(i.getBlackMatrix());l=this.decoder.decode(x),u=Wi.NO_POINTS}else{const x=new Pt(i.getBlackMatrix()).detect();l=this.decoder.decode(x.getBits()),u=x.getPoints()}const h=l.getRawBytes(),d=new xt(l.getText(),h,8*h.length,u,de.DATA_MATRIX,D.currentTimeMillis()),f=l.getByteSegments();f!=null&&d.putMetadata(Qt.BYTE_SEGMENTS,f);const y=l.getECLevel();return y!=null&&d.putMetadata(Qt.ERROR_CORRECTION_LEVEL,y),d}reset(){}static extractPureBits(i){const a=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(a==null||l==null)throw new W;const u=this.moduleSize(a,i);let h=a[1];const d=l[1];let f=a[0];const x=(l[0]-f+1)/u,E=(d-h+1)/u;if(x<=0||E<=0)throw new W;const A=u/2;h+=A,f+=A;const T=new yt(x,E);for(let N=0;N<E;N++){const P=h+N*u;for(let L=0;L<x;L++)i.get(f+L*u,P)&&T.set(L,N)}return T}static moduleSize(i,a){const l=a.getWidth();let u=i[0];const h=i[1];for(;u<l&&a.get(u,h);)u++;if(u===l)throw new W;const d=u-i[0];if(d===0)throw new W;return d}}Wi.NO_POINTS=[];class iI extends yr{constructor(i=500){super(new Wi,i)}}var Oo;(function(C){C[C.L=0]="L",C[C.M=1]="M",C[C.Q=2]="Q",C[C.H=3]="H"})(Oo||(Oo={}));class ot{constructor(i,a,l){this.value=i,this.stringValue=a,this.bits=l,ot.FOR_BITS.set(l,this),ot.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return ot.L;case"M":return ot.M;case"Q":return ot.Q;case"H":return ot.H;default:throw new w(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof ot))return!1;const a=i;return this.value===a.value}static forBits(i){if(i<0||i>=ot.FOR_BITS.size)throw new v;return ot.FOR_BITS.get(i)}}ot.FOR_BITS=new Map,ot.FOR_VALUE=new Map,ot.L=new ot(Oo.L,"L",1),ot.M=new ot(Oo.M,"M",0),ot.Q=new ot(Oo.Q,"Q",3),ot.H=new ot(Oo.H,"H",2);class xn{constructor(i){this.errorCorrectionLevel=ot.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,a){return O.bitCount(i^a)}static decodeFormatInformation(i,a){const l=xn.doDecodeFormatInformation(i,a);return l!==null?l:xn.doDecodeFormatInformation(i^xn.FORMAT_INFO_MASK_QR,a^xn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,a){let l=Number.MAX_SAFE_INTEGER,u=0;for(const h of xn.FORMAT_INFO_DECODE_LOOKUP){const d=h[0];if(d===i||d===a)return new xn(h[1]);let f=xn.numBitsDiffering(i,d);f<l&&(u=h[1],l=f),i!==a&&(f=xn.numBitsDiffering(a,d),f<l&&(u=h[1],l=f))}return l<=3?new xn(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof xn))return!1;const a=i;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}xn.FORMAT_INFO_MASK_QR=21522,xn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class V{constructor(i,...a){this.ecCodewordsPerBlock=i,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const a=this.ecBlocks;for(const l of a)i+=l.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class b{constructor(i,a){this.count=i,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class fe{constructor(i,a,...l){this.versionNumber=i,this.alignmentPatternCenters=a,this.ecBlocks=l;let u=0;const h=l[0].getECCodewordsPerBlock(),d=l[0].getECBlocks();for(const f of d)u+=f.getCount()*(f.getDataCodewords()+h);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new F;try{return this.getVersionForNumber((i-17)/4)}catch{throw new F}}static getVersionForNumber(i){if(i<1||i>40)throw new v;return fe.VERSIONS[i-1]}static decodeVersionInformation(i){let a=Number.MAX_SAFE_INTEGER,l=0;for(let u=0;u<fe.VERSION_DECODE_INFO.length;u++){const h=fe.VERSION_DECODE_INFO[u];if(h===i)return fe.getVersionForNumber(u+7);const d=xn.numBitsDiffering(i,h);d<a&&(l=u+7,a=d)}return a<=3?fe.getVersionForNumber(l):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),a=new yt(i);a.setRegion(0,0,9,9),a.setRegion(i-8,0,8,9),a.setRegion(0,i-8,9,8);const l=this.alignmentPatternCenters.length;for(let u=0;u<l;u++){const h=this.alignmentPatternCenters[u]-2;for(let d=0;d<l;d++)u===0&&(d===0||d===l-1)||u===l-1&&d===0||a.setRegion(this.alignmentPatternCenters[d]-2,h,5,5)}return a.setRegion(6,9,1,i-17),a.setRegion(9,6,i-17,1),this.versionNumber>6&&(a.setRegion(i-11,0,3,6),a.setRegion(0,i-11,6,3)),a}toString(){return""+this.versionNumber}}fe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),fe.VERSIONS=[new fe(1,new Int32Array(0),new V(7,new b(1,19)),new V(10,new b(1,16)),new V(13,new b(1,13)),new V(17,new b(1,9))),new fe(2,Int32Array.from([6,18]),new V(10,new b(1,34)),new V(16,new b(1,28)),new V(22,new b(1,22)),new V(28,new b(1,16))),new fe(3,Int32Array.from([6,22]),new V(15,new b(1,55)),new V(26,new b(1,44)),new V(18,new b(2,17)),new V(22,new b(2,13))),new fe(4,Int32Array.from([6,26]),new V(20,new b(1,80)),new V(18,new b(2,32)),new V(26,new b(2,24)),new V(16,new b(4,9))),new fe(5,Int32Array.from([6,30]),new V(26,new b(1,108)),new V(24,new b(2,43)),new V(18,new b(2,15),new b(2,16)),new V(22,new b(2,11),new b(2,12))),new fe(6,Int32Array.from([6,34]),new V(18,new b(2,68)),new V(16,new b(4,27)),new V(24,new b(4,19)),new V(28,new b(4,15))),new fe(7,Int32Array.from([6,22,38]),new V(20,new b(2,78)),new V(18,new b(4,31)),new V(18,new b(2,14),new b(4,15)),new V(26,new b(4,13),new b(1,14))),new fe(8,Int32Array.from([6,24,42]),new V(24,new b(2,97)),new V(22,new b(2,38),new b(2,39)),new V(22,new b(4,18),new b(2,19)),new V(26,new b(4,14),new b(2,15))),new fe(9,Int32Array.from([6,26,46]),new V(30,new b(2,116)),new V(22,new b(3,36),new b(2,37)),new V(20,new b(4,16),new b(4,17)),new V(24,new b(4,12),new b(4,13))),new fe(10,Int32Array.from([6,28,50]),new V(18,new b(2,68),new b(2,69)),new V(26,new b(4,43),new b(1,44)),new V(24,new b(6,19),new b(2,20)),new V(28,new b(6,15),new b(2,16))),new fe(11,Int32Array.from([6,30,54]),new V(20,new b(4,81)),new V(30,new b(1,50),new b(4,51)),new V(28,new b(4,22),new b(4,23)),new V(24,new b(3,12),new b(8,13))),new fe(12,Int32Array.from([6,32,58]),new V(24,new b(2,92),new b(2,93)),new V(22,new b(6,36),new b(2,37)),new V(26,new b(4,20),new b(6,21)),new V(28,new b(7,14),new b(4,15))),new fe(13,Int32Array.from([6,34,62]),new V(26,new b(4,107)),new V(22,new b(8,37),new b(1,38)),new V(24,new b(8,20),new b(4,21)),new V(22,new b(12,11),new b(4,12))),new fe(14,Int32Array.from([6,26,46,66]),new V(30,new b(3,115),new b(1,116)),new V(24,new b(4,40),new b(5,41)),new V(20,new b(11,16),new b(5,17)),new V(24,new b(11,12),new b(5,13))),new fe(15,Int32Array.from([6,26,48,70]),new V(22,new b(5,87),new b(1,88)),new V(24,new b(5,41),new b(5,42)),new V(30,new b(5,24),new b(7,25)),new V(24,new b(11,12),new b(7,13))),new fe(16,Int32Array.from([6,26,50,74]),new V(24,new b(5,98),new b(1,99)),new V(28,new b(7,45),new b(3,46)),new V(24,new b(15,19),new b(2,20)),new V(30,new b(3,15),new b(13,16))),new fe(17,Int32Array.from([6,30,54,78]),new V(28,new b(1,107),new b(5,108)),new V(28,new b(10,46),new b(1,47)),new V(28,new b(1,22),new b(15,23)),new V(28,new b(2,14),new b(17,15))),new fe(18,Int32Array.from([6,30,56,82]),new V(30,new b(5,120),new b(1,121)),new V(26,new b(9,43),new b(4,44)),new V(28,new b(17,22),new b(1,23)),new V(28,new b(2,14),new b(19,15))),new fe(19,Int32Array.from([6,30,58,86]),new V(28,new b(3,113),new b(4,114)),new V(26,new b(3,44),new b(11,45)),new V(26,new b(17,21),new b(4,22)),new V(26,new b(9,13),new b(16,14))),new fe(20,Int32Array.from([6,34,62,90]),new V(28,new b(3,107),new b(5,108)),new V(26,new b(3,41),new b(13,42)),new V(30,new b(15,24),new b(5,25)),new V(28,new b(15,15),new b(10,16))),new fe(21,Int32Array.from([6,28,50,72,94]),new V(28,new b(4,116),new b(4,117)),new V(26,new b(17,42)),new V(28,new b(17,22),new b(6,23)),new V(30,new b(19,16),new b(6,17))),new fe(22,Int32Array.from([6,26,50,74,98]),new V(28,new b(2,111),new b(7,112)),new V(28,new b(17,46)),new V(30,new b(7,24),new b(16,25)),new V(24,new b(34,13))),new fe(23,Int32Array.from([6,30,54,78,102]),new V(30,new b(4,121),new b(5,122)),new V(28,new b(4,47),new b(14,48)),new V(30,new b(11,24),new b(14,25)),new V(30,new b(16,15),new b(14,16))),new fe(24,Int32Array.from([6,28,54,80,106]),new V(30,new b(6,117),new b(4,118)),new V(28,new b(6,45),new b(14,46)),new V(30,new b(11,24),new b(16,25)),new V(30,new b(30,16),new b(2,17))),new fe(25,Int32Array.from([6,32,58,84,110]),new V(26,new b(8,106),new b(4,107)),new V(28,new b(8,47),new b(13,48)),new V(30,new b(7,24),new b(22,25)),new V(30,new b(22,15),new b(13,16))),new fe(26,Int32Array.from([6,30,58,86,114]),new V(28,new b(10,114),new b(2,115)),new V(28,new b(19,46),new b(4,47)),new V(28,new b(28,22),new b(6,23)),new V(30,new b(33,16),new b(4,17))),new fe(27,Int32Array.from([6,34,62,90,118]),new V(30,new b(8,122),new b(4,123)),new V(28,new b(22,45),new b(3,46)),new V(30,new b(8,23),new b(26,24)),new V(30,new b(12,15),new b(28,16))),new fe(28,Int32Array.from([6,26,50,74,98,122]),new V(30,new b(3,117),new b(10,118)),new V(28,new b(3,45),new b(23,46)),new V(30,new b(4,24),new b(31,25)),new V(30,new b(11,15),new b(31,16))),new fe(29,Int32Array.from([6,30,54,78,102,126]),new V(30,new b(7,116),new b(7,117)),new V(28,new b(21,45),new b(7,46)),new V(30,new b(1,23),new b(37,24)),new V(30,new b(19,15),new b(26,16))),new fe(30,Int32Array.from([6,26,52,78,104,130]),new V(30,new b(5,115),new b(10,116)),new V(28,new b(19,47),new b(10,48)),new V(30,new b(15,24),new b(25,25)),new V(30,new b(23,15),new b(25,16))),new fe(31,Int32Array.from([6,30,56,82,108,134]),new V(30,new b(13,115),new b(3,116)),new V(28,new b(2,46),new b(29,47)),new V(30,new b(42,24),new b(1,25)),new V(30,new b(23,15),new b(28,16))),new fe(32,Int32Array.from([6,34,60,86,112,138]),new V(30,new b(17,115)),new V(28,new b(10,46),new b(23,47)),new V(30,new b(10,24),new b(35,25)),new V(30,new b(19,15),new b(35,16))),new fe(33,Int32Array.from([6,30,58,86,114,142]),new V(30,new b(17,115),new b(1,116)),new V(28,new b(14,46),new b(21,47)),new V(30,new b(29,24),new b(19,25)),new V(30,new b(11,15),new b(46,16))),new fe(34,Int32Array.from([6,34,62,90,118,146]),new V(30,new b(13,115),new b(6,116)),new V(28,new b(14,46),new b(23,47)),new V(30,new b(44,24),new b(7,25)),new V(30,new b(59,16),new b(1,17))),new fe(35,Int32Array.from([6,30,54,78,102,126,150]),new V(30,new b(12,121),new b(7,122)),new V(28,new b(12,47),new b(26,48)),new V(30,new b(39,24),new b(14,25)),new V(30,new b(22,15),new b(41,16))),new fe(36,Int32Array.from([6,24,50,76,102,128,154]),new V(30,new b(6,121),new b(14,122)),new V(28,new b(6,47),new b(34,48)),new V(30,new b(46,24),new b(10,25)),new V(30,new b(2,15),new b(64,16))),new fe(37,Int32Array.from([6,28,54,80,106,132,158]),new V(30,new b(17,122),new b(4,123)),new V(28,new b(29,46),new b(14,47)),new V(30,new b(49,24),new b(10,25)),new V(30,new b(24,15),new b(46,16))),new fe(38,Int32Array.from([6,32,58,84,110,136,162]),new V(30,new b(4,122),new b(18,123)),new V(28,new b(13,46),new b(32,47)),new V(30,new b(48,24),new b(14,25)),new V(30,new b(42,15),new b(32,16))),new fe(39,Int32Array.from([6,26,54,82,110,138,166]),new V(30,new b(20,117),new b(4,118)),new V(28,new b(40,47),new b(7,48)),new V(30,new b(43,24),new b(22,25)),new V(30,new b(10,15),new b(67,16))),new fe(40,Int32Array.from([6,30,58,86,114,142,170]),new V(30,new b(19,118),new b(6,119)),new V(28,new b(18,47),new b(31,48)),new V(30,new b(34,24),new b(34,25)),new V(30,new b(20,15),new b(61,16)))];var Zt;(function(C){C[C.DATA_MASK_000=0]="DATA_MASK_000",C[C.DATA_MASK_001=1]="DATA_MASK_001",C[C.DATA_MASK_010=2]="DATA_MASK_010",C[C.DATA_MASK_011=3]="DATA_MASK_011",C[C.DATA_MASK_100=4]="DATA_MASK_100",C[C.DATA_MASK_101=5]="DATA_MASK_101",C[C.DATA_MASK_110=6]="DATA_MASK_110",C[C.DATA_MASK_111=7]="DATA_MASK_111"})(Zt||(Zt={}));class wr{constructor(i,a){this.value=i,this.isMasked=a}unmaskBitMatrix(i,a){for(let l=0;l<a;l++)for(let u=0;u<a;u++)this.isMasked(l,u)&&i.flip(u,l)}}wr.values=new Map([[Zt.DATA_MASK_000,new wr(Zt.DATA_MASK_000,(C,i)=>(C+i&1)===0)],[Zt.DATA_MASK_001,new wr(Zt.DATA_MASK_001,(C,i)=>(C&1)===0)],[Zt.DATA_MASK_010,new wr(Zt.DATA_MASK_010,(C,i)=>i%3===0)],[Zt.DATA_MASK_011,new wr(Zt.DATA_MASK_011,(C,i)=>(C+i)%3===0)],[Zt.DATA_MASK_100,new wr(Zt.DATA_MASK_100,(C,i)=>(Math.floor(C/2)+Math.floor(i/3)&1)===0)],[Zt.DATA_MASK_101,new wr(Zt.DATA_MASK_101,(C,i)=>C*i%6===0)],[Zt.DATA_MASK_110,new wr(Zt.DATA_MASK_110,(C,i)=>C*i%6<3)],[Zt.DATA_MASK_111,new wr(Zt.DATA_MASK_111,(C,i)=>(C+i+C*i%3&1)===0)]]);class sI{constructor(i){const a=i.getHeight();if(a<21||(a&3)!==1)throw new F;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let h=0;h<6;h++)i=this.copyBit(h,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let h=5;h>=0;h--)i=this.copyBit(8,h,i);const a=this.bitMatrix.getHeight();let l=0;const u=a-7;for(let h=a-1;h>=u;h--)l=this.copyBit(8,h,l);for(let h=a-8;h<a;h++)l=this.copyBit(h,8,l);if(this.parsedFormatInfo=xn.decodeFormatInformation(i,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),a=Math.floor((i-17)/4);if(a<=6)return fe.getVersionForNumber(a);let l=0;const u=i-11;for(let d=5;d>=0;d--)for(let f=i-9;f>=u;f--)l=this.copyBit(f,d,l);let h=fe.decodeVersionInformation(l);if(h!==null&&h.getDimensionForVersion()===i)return this.parsedVersion=h,h;l=0;for(let d=5;d>=0;d--)for(let f=i-9;f>=u;f--)l=this.copyBit(d,f,l);if(h=fe.decodeVersionInformation(l),h!==null&&h.getDimensionForVersion()===i)return this.parsedVersion=h,h;throw new F}copyBit(i,a,l){return(this.isMirror?this.bitMatrix.get(a,i):this.bitMatrix.get(i,a))?l<<1|1:l<<1}readCodewords(){const i=this.readFormatInformation(),a=this.readVersion(),l=wr.values.get(i.getDataMask()),u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u);const h=a.buildFunctionPattern();let d=!0;const f=new Uint8Array(a.getTotalCodewords());let y=0,x=0,E=0;for(let A=u-1;A>0;A-=2){A===6&&A--;for(let T=0;T<u;T++){const N=d?u-1-T:T;for(let P=0;P<2;P++)h.get(A-P,N)||(E++,x<<=1,this.bitMatrix.get(A-P,N)&&(x|=1),E===8&&(f[y++]=x,E=0,x=0))}d=!d}if(y!==a.getTotalCodewords())throw new F;return f}remask(){if(this.parsedFormatInfo===null)return;const i=wr.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,a)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let a=0,l=i.getWidth();a<l;a++)for(let u=a+1,h=i.getHeight();u<h;u++)i.get(a,u)!==i.get(u,a)&&(i.flip(u,a),i.flip(a,u))}}class Uf{constructor(i,a){this.numDataCodewords=i,this.codewords=a}static getDataBlocks(i,a,l){if(i.length!==a.getTotalCodewords())throw new v;const u=a.getECBlocksForLevel(l);let h=0;const d=u.getECBlocks();for(const P of d)h+=P.getCount();const f=new Array(h);let y=0;for(const P of d)for(let L=0;L<P.getCount();L++){const j=P.getDataCodewords(),H=u.getECCodewordsPerBlock()+j;f[y++]=new Uf(j,new Uint8Array(H))}const x=f[0].codewords.length;let E=f.length-1;for(;E>=0&&f[E].codewords.length!==x;)E--;E++;const A=x-u.getECCodewordsPerBlock();let T=0;for(let P=0;P<A;P++)for(let L=0;L<y;L++)f[L].codewords[P]=i[T++];for(let P=E;P<y;P++)f[P].codewords[A]=i[T++];const N=f[0].codewords.length;for(let P=A;P<N;P++)for(let L=0;L<y;L++){const j=L<E?P:P+1;f[L].codewords[j]=i[T++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Er;(function(C){C[C.TERMINATOR=0]="TERMINATOR",C[C.NUMERIC=1]="NUMERIC",C[C.ALPHANUMERIC=2]="ALPHANUMERIC",C[C.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",C[C.BYTE=4]="BYTE",C[C.ECI=5]="ECI",C[C.KANJI=6]="KANJI",C[C.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",C[C.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",C[C.HANZI=9]="HANZI"})(Er||(Er={}));class pe{constructor(i,a,l,u){this.value=i,this.stringValue=a,this.characterCountBitsForVersions=l,this.bits=u,pe.FOR_BITS.set(u,this),pe.FOR_VALUE.set(i,this)}static forBits(i){const a=pe.FOR_BITS.get(i);if(a===void 0)throw new v;return a}getCharacterCountBits(i){const a=i.getVersionNumber();let l;return a<=9?l=0:a<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof pe))return!1;const a=i;return this.value===a.value}toString(){return this.stringValue}}pe.FOR_BITS=new Map,pe.FOR_VALUE=new Map,pe.TERMINATOR=new pe(Er.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),pe.NUMERIC=new pe(Er.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),pe.ALPHANUMERIC=new pe(Er.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),pe.STRUCTURED_APPEND=new pe(Er.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),pe.BYTE=new pe(Er.BYTE,"BYTE",Int32Array.from([8,16,16]),4),pe.ECI=new pe(Er.ECI,"ECI",Int32Array.from([0,0,0]),7),pe.KANJI=new pe(Er.KANJI,"KANJI",Int32Array.from([8,10,12]),8),pe.FNC1_FIRST_POSITION=new pe(Er.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),pe.FNC1_SECOND_POSITION=new pe(Er.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),pe.HANZI=new pe(Er.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class wt{static decode(i,a,l,u){const h=new Ff(i);let d=new Oe;const f=new Array;let y=-1,x=-1;try{let E=null,A=!1,T;do{if(h.available()<4)T=pe.TERMINATOR;else{const N=h.readBits(4);T=pe.forBits(N)}switch(T){case pe.TERMINATOR:break;case pe.FNC1_FIRST_POSITION:case pe.FNC1_SECOND_POSITION:A=!0;break;case pe.STRUCTURED_APPEND:if(h.available()<16)throw new F;y=h.readBits(8),x=h.readBits(8);break;case pe.ECI:const N=wt.parseECIValue(h);if(E=$.getCharacterSetECIByValue(N),E===null)throw new F;break;case pe.HANZI:const P=h.readBits(4),L=h.readBits(T.getCharacterCountBits(a));P===wt.GB2312_SUBSET&&wt.decodeHanziSegment(h,d,L);break;default:const j=h.readBits(T.getCharacterCountBits(a));switch(T){case pe.NUMERIC:wt.decodeNumericSegment(h,d,j);break;case pe.ALPHANUMERIC:wt.decodeAlphanumericSegment(h,d,j,A);break;case pe.BYTE:wt.decodeByteSegment(h,d,j,E,f,u);break;case pe.KANJI:wt.decodeKanjiSegment(h,d,j);break;default:throw new F}break}}while(T!==pe.TERMINATOR)}catch{throw new F}return new Ja(i,d.toString(),f.length===0?null:f,l===null?null:l.toString(),y,x)}static decodeHanziSegment(i,a,l){if(l*13>i.available())throw new F;const u=new Uint8Array(2*l);let h=0;for(;l>0;){const d=i.readBits(13);let f=d/96<<8&4294967295|d%96;f<959?f+=41377:f+=42657,u[h]=f>>8&255,u[h+1]=f&255,h+=2,l--}try{a.append(Me.decode(u,ge.GB2312))}catch(d){throw new F(d)}}static decodeKanjiSegment(i,a,l){if(l*13>i.available())throw new F;const u=new Uint8Array(2*l);let h=0;for(;l>0;){const d=i.readBits(13);let f=d/192<<8&4294967295|d%192;f<7936?f+=33088:f+=49472,u[h]=f>>8,u[h+1]=f,h+=2,l--}try{a.append(Me.decode(u,ge.SHIFT_JIS))}catch(d){throw new F(d)}}static decodeByteSegment(i,a,l,u,h,d){if(8*l>i.available())throw new F;const f=new Uint8Array(l);for(let x=0;x<l;x++)f[x]=i.readBits(8);let y;u===null?y=ge.guessEncoding(f,d):y=u.getName();try{a.append(Me.decode(f,y))}catch(x){throw new F(x)}h.push(f)}static toAlphaNumericChar(i){if(i>=wt.ALPHANUMERIC_CHARS.length)throw new F;return wt.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,a,l,u){const h=a.length();for(;l>1;){if(i.available()<11)throw new F;const d=i.readBits(11);a.append(wt.toAlphaNumericChar(Math.floor(d/45))),a.append(wt.toAlphaNumericChar(d%45)),l-=2}if(l===1){if(i.available()<6)throw new F;a.append(wt.toAlphaNumericChar(i.readBits(6)))}if(u)for(let d=h;d<a.length();d++)a.charAt(d)==="%"&&(d<a.length()-1&&a.charAt(d+1)==="%"?a.deleteCharAt(d+1):a.setCharAt(d,String.fromCharCode(29)))}static decodeNumericSegment(i,a,l){for(;l>=3;){if(i.available()<10)throw new F;const u=i.readBits(10);if(u>=1e3)throw new F;a.append(wt.toAlphaNumericChar(Math.floor(u/100))),a.append(wt.toAlphaNumericChar(Math.floor(u/10)%10)),a.append(wt.toAlphaNumericChar(u%10)),l-=3}if(l===2){if(i.available()<7)throw new F;const u=i.readBits(7);if(u>=100)throw new F;a.append(wt.toAlphaNumericChar(Math.floor(u/10))),a.append(wt.toAlphaNumericChar(u%10))}else if(l===1){if(i.available()<4)throw new F;const u=i.readBits(4);if(u>=10)throw new F;a.append(wt.toAlphaNumericChar(u))}}static parseECIValue(i){const a=i.readBits(8);if(!(a&128))return a&127;if((a&192)===128){const l=i.readBits(8);return(a&63)<<8&4294967295|l}if((a&224)===192){const l=i.readBits(16);return(a&31)<<16&4294967295|l}throw new F}}wt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",wt.GB2312_SUBSET=1;class n2{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const a=i[0];i[0]=i[2],i[2]=a}}class oI{constructor(){this.rsDecoder=new tl(We.QR_CODE_FIELD_256)}decodeBooleanArray(i,a){return this.decodeBitMatrix(yt.parseFromBooleanArray(i),a)}decodeBitMatrix(i,a){const l=new sI(i);let u=null;try{return this.decodeBitMatrixParser(l,a)}catch(h){u=h}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const h=this.decodeBitMatrixParser(l,a);return h.setOther(new n2(!0)),h}catch(h){throw u!==null?u:h}}decodeBitMatrixParser(i,a){const l=i.readVersion(),u=i.readFormatInformation().getErrorCorrectionLevel(),h=i.readCodewords(),d=Uf.getDataBlocks(h,l,u);let f=0;for(const E of d)f+=E.getNumDataCodewords();const y=new Uint8Array(f);let x=0;for(const E of d){const A=E.getCodewords(),T=E.getNumDataCodewords();this.correctErrors(A,T);for(let N=0;N<T;N++)y[x++]=A[N]}return wt.decode(y,l,u,a)}correctErrors(i,a){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-a)}catch{throw new R}for(let u=0;u<a;u++)i[u]=l[u]}}class jf extends ue{constructor(i,a,l){super(i,a),this.estimatedModuleSize=l}aboutEquals(i,a,l){if(Math.abs(a-this.getY())<=i&&Math.abs(l-this.getX())<=i){const u=Math.abs(i-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(i,a,l){const u=(this.getX()+a)/2,h=(this.getY()+i)/2,d=(this.estimatedModuleSize+l)/2;return new jf(u,h,d)}}class wu{constructor(i,a,l,u,h,d,f){this.image=i,this.startX=a,this.startY=l,this.width=u,this.height=h,this.moduleSize=d,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,a=this.height,l=this.width,u=i+l,h=this.startY+a/2,d=new Int32Array(3),f=this.image;for(let y=0;y<a;y++){const x=h+(y&1?-Math.floor((y+1)/2):Math.floor((y+1)/2));d[0]=0,d[1]=0,d[2]=0;let E=i;for(;E<u&&!f.get(E,x);)E++;let A=0;for(;E<u;){if(f.get(E,x))if(A===1)d[1]++;else if(A===2){if(this.foundPatternCross(d)){const T=this.handlePossibleCenter(d,x,E);if(T!==null)return T}d[0]=d[2],d[1]=1,d[2]=0,A=1}else d[++A]++;else A===1&&A++,d[A]++;E++}if(this.foundPatternCross(d)){const T=this.handlePossibleCenter(d,x,u);if(T!==null)return T}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new W}static centerFromEnd(i,a){return a-i[2]-i[1]/2}foundPatternCross(i){const a=this.moduleSize,l=a/2;for(let u=0;u<3;u++)if(Math.abs(a-i[u])>=l)return!1;return!0}crossCheckVertical(i,a,l,u){const h=this.image,d=h.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let y=i;for(;y>=0&&h.get(a,y)&&f[1]<=l;)f[1]++,y--;if(y<0||f[1]>l)return NaN;for(;y>=0&&!h.get(a,y)&&f[0]<=l;)f[0]++,y--;if(f[0]>l)return NaN;for(y=i+1;y<d&&h.get(a,y)&&f[1]<=l;)f[1]++,y++;if(y===d||f[1]>l)return NaN;for(;y<d&&!h.get(a,y)&&f[2]<=l;)f[2]++,y++;if(f[2]>l)return NaN;const x=f[0]+f[1]+f[2];return 5*Math.abs(x-u)>=2*u?NaN:this.foundPatternCross(f)?wu.centerFromEnd(f,y):NaN}handlePossibleCenter(i,a,l){const u=i[0]+i[1]+i[2],h=wu.centerFromEnd(i,l),d=this.crossCheckVertical(a,h,2*i[1],u);if(!isNaN(d)){const f=(i[0]+i[1]+i[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(f,d,h))return x.combineEstimate(d,h,f);const y=new jf(h,d,f);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class Vf extends ue{constructor(i,a,l,u){super(i,a),this.estimatedModuleSize=l,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,a,l){if(Math.abs(a-this.getY())<=i&&Math.abs(l-this.getX())<=i){const u=Math.abs(i-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(i,a,l){const u=this.count+1,h=(this.count*this.getX()+a)/u,d=(this.count*this.getY()+i)/u,f=(this.count*this.estimatedModuleSize+l)/u;return new Vf(h,d,f,u)}}class aI{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Jt{constructor(i,a){this.image=i,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const a=i!=null&&i.get(G.TRY_HARDER)!==void 0,l=i!=null&&i.get(G.PURE_BARCODE)!==void 0,u=this.image,h=u.getHeight(),d=u.getWidth();let f=Math.floor(3*h/(4*Jt.MAX_MODULES));(f<Jt.MIN_SKIP||a)&&(f=Jt.MIN_SKIP);let y=!1;const x=new Int32Array(5);for(let A=f-1;A<h&&!y;A+=f){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let T=0;for(let N=0;N<d;N++)if(u.get(N,A))(T&1)===1&&T++,x[T]++;else if(T&1)x[T]++;else if(T===4)if(Jt.foundPatternCross(x)){if(this.handlePossibleCenter(x,A,N,l)===!0)if(f=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const L=this.findRowSkip();L>x[2]&&(A+=L-x[2]-f,N=d-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,T=3;continue}T=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,T=3;else x[++T]++;Jt.foundPatternCross(x)&&this.handlePossibleCenter(x,A,d,l)===!0&&(f=x[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const E=this.selectBestPatterns();return ue.orderBestPatterns(E),new aI(E)}static centerFromEnd(i,a){return a-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let a=0;for(let h=0;h<5;h++){const d=i[h];if(d===0)return!1;a+=d}if(a<7)return!1;const l=a/7,u=l/2;return Math.abs(l-i[0])<u&&Math.abs(l-i[1])<u&&Math.abs(3*l-i[2])<3*u&&Math.abs(l-i[3])<u&&Math.abs(l-i[4])<u}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,a,l,u){const h=this.getCrossCheckStateCount();let d=0;const f=this.image;for(;i>=d&&a>=d&&f.get(a-d,i-d);)h[2]++,d++;if(i<d||a<d)return!1;for(;i>=d&&a>=d&&!f.get(a-d,i-d)&&h[1]<=l;)h[1]++,d++;if(i<d||a<d||h[1]>l)return!1;for(;i>=d&&a>=d&&f.get(a-d,i-d)&&h[0]<=l;)h[0]++,d++;if(h[0]>l)return!1;const y=f.getHeight(),x=f.getWidth();for(d=1;i+d<y&&a+d<x&&f.get(a+d,i+d);)h[2]++,d++;if(i+d>=y||a+d>=x)return!1;for(;i+d<y&&a+d<x&&!f.get(a+d,i+d)&&h[3]<l;)h[3]++,d++;if(i+d>=y||a+d>=x||h[3]>=l)return!1;for(;i+d<y&&a+d<x&&f.get(a+d,i+d)&&h[4]<l;)h[4]++,d++;if(h[4]>=l)return!1;const E=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(E-u)<2*u&&Jt.foundPatternCross(h)}crossCheckVertical(i,a,l,u){const h=this.image,d=h.getHeight(),f=this.getCrossCheckStateCount();let y=i;for(;y>=0&&h.get(a,y);)f[2]++,y--;if(y<0)return NaN;for(;y>=0&&!h.get(a,y)&&f[1]<=l;)f[1]++,y--;if(y<0||f[1]>l)return NaN;for(;y>=0&&h.get(a,y)&&f[0]<=l;)f[0]++,y--;if(f[0]>l)return NaN;for(y=i+1;y<d&&h.get(a,y);)f[2]++,y++;if(y===d)return NaN;for(;y<d&&!h.get(a,y)&&f[3]<l;)f[3]++,y++;if(y===d||f[3]>=l)return NaN;for(;y<d&&h.get(a,y)&&f[4]<l;)f[4]++,y++;if(f[4]>=l)return NaN;const x=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(x-u)>=2*u?NaN:Jt.foundPatternCross(f)?Jt.centerFromEnd(f,y):NaN}crossCheckHorizontal(i,a,l,u){const h=this.image,d=h.getWidth(),f=this.getCrossCheckStateCount();let y=i;for(;y>=0&&h.get(y,a);)f[2]++,y--;if(y<0)return NaN;for(;y>=0&&!h.get(y,a)&&f[1]<=l;)f[1]++,y--;if(y<0||f[1]>l)return NaN;for(;y>=0&&h.get(y,a)&&f[0]<=l;)f[0]++,y--;if(f[0]>l)return NaN;for(y=i+1;y<d&&h.get(y,a);)f[2]++,y++;if(y===d)return NaN;for(;y<d&&!h.get(y,a)&&f[3]<l;)f[3]++,y++;if(y===d||f[3]>=l)return NaN;for(;y<d&&h.get(y,a)&&f[4]<l;)f[4]++,y++;if(f[4]>=l)return NaN;const x=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(x-u)>=u?NaN:Jt.foundPatternCross(f)?Jt.centerFromEnd(f,y):NaN}handlePossibleCenter(i,a,l,u){const h=i[0]+i[1]+i[2]+i[3]+i[4];let d=Jt.centerFromEnd(i,l),f=this.crossCheckVertical(a,Math.floor(d),i[2],h);if(!isNaN(f)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(f),i[2],h),!isNaN(d)&&(!u||this.crossCheckDiagonal(Math.floor(f),Math.floor(d),i[2],h)))){const y=h/7;let x=!1;const E=this.possibleCenters;for(let A=0,T=E.length;A<T;A++){const N=E[A];if(N.aboutEquals(y,f,d)){E[A]=N.combineEstimate(f,d,y),x=!0;break}}if(!x){const A=new Vf(d,f,y);E.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const l of this.possibleCenters)if(l.getCount()>=Jt.CENTER_QUORUM)if(a==null)a=l;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,a=0;const l=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=Jt.CENTER_QUORUM&&(i++,a+=d.getEstimatedModuleSize());if(i<3)return!1;const u=a/l;let h=0;for(const d of this.possibleCenters)h+=Math.abs(d.getEstimatedModuleSize()-u);return h<=.05*a}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new W;const a=this.possibleCenters;let l;if(i>3){let u=0,h=0;for(const y of this.possibleCenters){const x=y.getEstimatedModuleSize();u+=x,h+=x*x}l=u/i;let d=Math.sqrt(h/i-l*l);a.sort((y,x)=>{const E=Math.abs(x.getEstimatedModuleSize()-l),A=Math.abs(y.getEstimatedModuleSize()-l);return E<A?-1:E>A?1:0});const f=Math.max(.2*l,d);for(let y=0;y<a.length&&a.length>3;y++){const x=a[y];Math.abs(x.getEstimatedModuleSize()-l)>f&&(a.splice(y,1),y--)}}if(a.length>3){let u=0;for(const h of a)u+=h.getEstimatedModuleSize();l=u/a.length,a.sort((h,d)=>{if(d.getCount()===h.getCount()){const f=Math.abs(d.getEstimatedModuleSize()-l),y=Math.abs(h.getEstimatedModuleSize()-l);return f<y?1:f>y?-1:0}else return d.getCount()-h.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}Jt.CENTER_QUORUM=2,Jt.MIN_SKIP=3,Jt.MAX_MODULES=57;class rl{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(G.NEED_RESULT_POINT_CALLBACK);const l=new Jt(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(l)}processFinderPatternInfo(i){const a=i.getTopLeft(),l=i.getTopRight(),u=i.getBottomLeft(),h=this.calculateModuleSize(a,l,u);if(h<1)throw new W("No pattern found in proccess finder.");const d=rl.computeDimension(a,l,u,h),f=fe.getProvisionalVersionForDimension(d),y=f.getDimensionForVersion()-7;let x=null;if(f.getAlignmentPatternCenters().length>0){const N=l.getX()-a.getX()+u.getX(),P=l.getY()-a.getY()+u.getY(),L=1-3/y,j=Math.floor(a.getX()+L*(N-a.getX())),H=Math.floor(a.getY()+L*(P-a.getY()));for(let ee=4;ee<=16;ee<<=1)try{x=this.findAlignmentInRegion(h,j,H,ee);break}catch(te){if(!(te instanceof W))throw te}}const E=rl.createTransform(a,l,u,x,d),A=rl.sampleGrid(this.image,E,d);let T;return x===null?T=[u,a,l]:T=[u,a,l,x],new gu(A,T)}static createTransform(i,a,l,u,h){const d=h-3.5;let f,y,x,E;return u!==null?(f=u.getX(),y=u.getY(),x=d-3,E=x):(f=a.getX()-i.getX()+l.getX(),y=a.getY()-i.getY()+l.getY(),x=d,E=d),Nr.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,x,E,3.5,d,i.getX(),i.getY(),a.getX(),a.getY(),f,y,l.getX(),l.getY())}static sampleGrid(i,a,l){return Vi.getInstance().sampleGridWithTransform(i,l,l,a)}static computeDimension(i,a,l,u){const h=Ue.round(ue.distance(i,a)/u),d=Ue.round(ue.distance(i,l)/u);let f=Math.floor((h+d)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new W("Dimensions could be not found.")}return f}calculateModuleSize(i,a,l){return(this.calculateModuleSizeOneWay(i,a)+this.calculateModuleSizeOneWay(i,l))/2}calculateModuleSizeOneWay(i,a){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(a.getX()),Math.floor(a.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(l)?u/7:isNaN(u)?l/7:(l+u)/14}sizeOfBlackWhiteBlackRunBothWays(i,a,l,u){let h=this.sizeOfBlackWhiteBlackRun(i,a,l,u),d=1,f=i-(l-i);f<0?(d=i/(i-f),f=0):f>=this.image.getWidth()&&(d=(this.image.getWidth()-1-i)/(f-i),f=this.image.getWidth()-1);let y=Math.floor(a-(u-a)*d);return d=1,y<0?(d=a/(a-y),y=0):y>=this.image.getHeight()&&(d=(this.image.getHeight()-1-a)/(y-a),y=this.image.getHeight()-1),f=Math.floor(i+(f-i)*d),h+=this.sizeOfBlackWhiteBlackRun(i,a,f,y),h-1}sizeOfBlackWhiteBlackRun(i,a,l,u){const h=Math.abs(u-a)>Math.abs(l-i);if(h){let N=i;i=a,a=N,N=l,l=u,u=N}const d=Math.abs(l-i),f=Math.abs(u-a);let y=-d/2;const x=i<l?1:-1,E=a<u?1:-1;let A=0;const T=l+x;for(let N=i,P=a;N!==T;N+=x){const L=h?P:N,j=h?N:P;if(A===1===this.image.get(L,j)){if(A===2)return Ue.distance(N,P,i,a);A++}if(y+=f,y>0){if(P===u)break;P+=E,y-=d}}return A===2?Ue.distance(l+x,u,i,a):NaN}findAlignmentInRegion(i,a,l,u){const h=Math.floor(u*i),d=Math.max(0,a-h),f=Math.min(this.image.getWidth()-1,a+h);if(f-d<i*3)throw new W("Alignment top exceeds estimated module size.");const y=Math.max(0,l-h),x=Math.min(this.image.getHeight()-1,l+h);if(x-y<i*3)throw new W("Alignment bottom exceeds estimated module size.");return new wu(this.image,d,y,f-d,x-y,i,this.resultPointCallback).find()}}class $i{constructor(){this.decoder=new oI}getDecoder(){return this.decoder}decode(i,a){let l,u;if(a!=null&&a.get(G.PURE_BARCODE)!==void 0){const y=$i.extractPureBits(i.getBlackMatrix());l=this.decoder.decodeBitMatrix(y,a),u=$i.NO_POINTS}else{const y=new rl(i.getBlackMatrix()).detect(a);l=this.decoder.decodeBitMatrix(y.getBits(),a),u=y.getPoints()}l.getOther()instanceof n2&&l.getOther().applyMirroredCorrection(u);const h=new xt(l.getText(),l.getRawBytes(),void 0,u,de.QR_CODE,void 0),d=l.getByteSegments();d!==null&&h.putMetadata(Qt.BYTE_SEGMENTS,d);const f=l.getECLevel();return f!==null&&h.putMetadata(Qt.ERROR_CORRECTION_LEVEL,f),l.hasStructuredAppend()&&(h.putMetadata(Qt.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),h.putMetadata(Qt.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),h}reset(){}static extractPureBits(i){const a=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(a===null||l===null)throw new W;const u=this.moduleSize(a,i);let h=a[1],d=l[1],f=a[0],y=l[0];if(f>=y||h>=d)throw new W;if(d-h!==y-f&&(y=f+(d-h),y>=i.getWidth()))throw new W;const x=Math.round((y-f+1)/u),E=Math.round((d-h+1)/u);if(x<=0||E<=0)throw new W;if(E!==x)throw new W;const A=Math.floor(u/2);h+=A,f+=A;const T=f+Math.floor((x-1)*u)-y;if(T>0){if(T>A)throw new W;f-=T}const N=h+Math.floor((E-1)*u)-d;if(N>0){if(N>A)throw new W;h-=N}const P=new yt(x,E);for(let L=0;L<E;L++){const j=h+Math.floor(L*u);for(let H=0;H<x;H++)i.get(f+Math.floor(H*u),j)&&P.set(H,L)}return P}static moduleSize(i,a){const l=a.getHeight(),u=a.getWidth();let h=i[0],d=i[1],f=!0,y=0;for(;h<u&&d<l;){if(f!==a.get(h,d)){if(++y===5)break;f=!f}h++,d++}if(h===u||d===l)throw new W;return(h-i[0])/7}}$i.NO_POINTS=new Array;class we{PDF417Common(){}static getBitCountSum(i){return Ue.sum(i)}static toIntArray(i){if(i==null||!i.length)return we.EMPTY_INT_ARRAY;const a=new Int32Array(i.length);let l=0;for(const u of i)a[l++]=u;return a}static getCodeword(i){const a=S.binarySearch(we.SYMBOL_TABLE,i&262143);return a<0?-1:(we.CODEWORD_TABLE[a]-1)%we.NUMBER_OF_CODEWORDS}}we.NUMBER_OF_CODEWORDS=929,we.MAX_CODEWORDS_IN_BARCODE=we.NUMBER_OF_CODEWORDS-1,we.MIN_ROWS_IN_BARCODE=3,we.MAX_ROWS_IN_BARCODE=90,we.MODULES_IN_CODEWORD=17,we.MODULES_IN_STOP_PATTERN=18,we.BARS_IN_MODULE=8,we.EMPTY_INT_ARRAY=new Int32Array([]),we.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),we.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class lI{constructor(i,a){this.bits=i,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Ne{static detectMultiple(i,a,l){let u=i.getBlackMatrix(),h=Ne.detect(l,u);return h.length||(u=u.clone(),u.rotate180(),h=Ne.detect(l,u)),new lI(u,h)}static detect(i,a){const l=new Array;let u=0,h=0,d=!1;for(;u<a.getHeight();){const f=Ne.findVertices(a,u,h);if(f[0]==null&&f[3]==null){if(!d)break;d=!1,h=0;for(const y of l)y[1]!=null&&(u=Math.trunc(Math.max(u,y[1].getY()))),y[3]!=null&&(u=Math.max(u,Math.trunc(y[3].getY())));u+=Ne.ROW_STEP;continue}if(d=!0,l.push(f),!i)break;f[2]!=null?(h=Math.trunc(f[2].getX()),u=Math.trunc(f[2].getY())):(h=Math.trunc(f[4].getX()),u=Math.trunc(f[4].getY()))}return l}static findVertices(i,a,l){const u=i.getHeight(),h=i.getWidth(),d=new Array(8);return Ne.copyToResult(d,Ne.findRowsWithPattern(i,u,h,a,l,Ne.START_PATTERN),Ne.INDEXES_START_PATTERN),d[4]!=null&&(l=Math.trunc(d[4].getX()),a=Math.trunc(d[4].getY())),Ne.copyToResult(d,Ne.findRowsWithPattern(i,u,h,a,l,Ne.STOP_PATTERN),Ne.INDEXES_STOP_PATTERN),d}static copyToResult(i,a,l){for(let u=0;u<l.length;u++)i[l[u]]=a[u]}static findRowsWithPattern(i,a,l,u,h,d){const f=new Array(4);let y=!1;const x=new Int32Array(d.length);for(;u<a;u+=Ne.ROW_STEP){let A=Ne.findGuardPattern(i,h,u,l,!1,d,x);if(A!=null){for(;u>0;){const T=Ne.findGuardPattern(i,h,--u,l,!1,d,x);if(T!=null)A=T;else{u++;break}}f[0]=new ue(A[0],u),f[1]=new ue(A[1],u),y=!0;break}}let E=u+1;if(y){let A=0,T=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;E<a;E++){const N=Ne.findGuardPattern(i,T[0],E,l,!1,d,x);if(N!=null&&Math.abs(T[0]-N[0])<Ne.MAX_PATTERN_DRIFT&&Math.abs(T[1]-N[1])<Ne.MAX_PATTERN_DRIFT)T=N,A=0;else{if(A>Ne.SKIPPED_ROW_COUNT_MAX)break;A++}}E-=A+1,f[2]=new ue(T[0],E),f[3]=new ue(T[1],E)}return E-u<Ne.BARCODE_MIN_HEIGHT&&S.fill(f,null),f}static findGuardPattern(i,a,l,u,h,d,f){S.fillWithin(f,0,f.length,0);let y=a,x=0;for(;i.get(y,l)&&y>0&&x++<Ne.MAX_PIXEL_DRIFT;)y--;let E=y,A=0,T=d.length;for(let N=h;E<u;E++)if(i.get(E,l)!==N)f[A]++;else{if(A===T-1){if(Ne.patternMatchVariance(f,d,Ne.MAX_INDIVIDUAL_VARIANCE)<Ne.MAX_AVG_VARIANCE)return new Int32Array([y,E]);y+=f[0]+f[1],D.arraycopy(f,2,f,0,A-1),f[A-1]=0,f[A]=0,A--}else A++;f[A]=1,N=!N}return A===T-1&&Ne.patternMatchVariance(f,d,Ne.MAX_INDIVIDUAL_VARIANCE)<Ne.MAX_AVG_VARIANCE?new Int32Array([y,E-1]):null}static patternMatchVariance(i,a,l){let u=i.length,h=0,d=0;for(let x=0;x<u;x++)h+=i[x],d+=a[x];if(h<d)return 1/0;let f=h/d;l*=f;let y=0;for(let x=0;x<u;x++){let E=i[x],A=a[x]*f,T=E>A?E-A:A-E;if(T>l)return 1/0;y+=T}return y/h}}Ne.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ne.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ne.MAX_AVG_VARIANCE=.42,Ne.MAX_INDIVIDUAL_VARIANCE=.8,Ne.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ne.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ne.MAX_PIXEL_DRIFT=3,Ne.MAX_PATTERN_DRIFT=5,Ne.SKIPPED_ROW_COUNT_MAX=25,Ne.ROW_STEP=5,Ne.BARCODE_MIN_HEIGHT=10;class an{constructor(i,a){if(a.length===0)throw new v;this.field=i;let l=a.length;if(l>1&&a[0]===0){let u=1;for(;u<l&&a[u]===0;)u++;u===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-u),D.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let u=0;for(let h of this.coefficients)u=this.field.add(u,h);return u}let a=this.coefficients[0],l=this.coefficients.length;for(let u=1;u<l;u++)a=this.field.add(this.field.multiply(i,a),this.coefficients[u]);return a}add(i){if(!this.field.equals(i.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let a=this.coefficients,l=i.coefficients;if(a.length>l.length){let d=a;a=l,l=d}let u=new Int32Array(l.length),h=l.length-a.length;D.arraycopy(l,0,u,0,h);for(let d=h;d<l.length;d++)u[d]=this.field.add(a[d-h],l[d]);return new an(this.field,u)}subtract(i){if(!this.field.equals(i.field))throw new v("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof an?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new an(this.field,new Int32Array([0]));let a=this.coefficients,l=a.length,u=i.coefficients,h=u.length,d=new Int32Array(l+h-1);for(let f=0;f<l;f++){let y=a[f];for(let x=0;x<h;x++)d[f+x]=this.field.add(d[f+x],this.field.multiply(y,u[x]))}return new an(this.field,d)}negative(){let i=this.coefficients.length,a=new Int32Array(i);for(let l=0;l<i;l++)a[l]=this.field.subtract(0,this.coefficients[l]);return new an(this.field,a)}multiplyScalar(i){if(i===0)return new an(this.field,new Int32Array([0]));if(i===1)return this;let a=this.coefficients.length,l=new Int32Array(a);for(let u=0;u<a;u++)l[u]=this.field.multiply(this.coefficients[u],i);return new an(this.field,l)}multiplyByMonomial(i,a){if(i<0)throw new v;if(a===0)return new an(this.field,new Int32Array([0]));let l=this.coefficients.length,u=new Int32Array(l+i);for(let h=0;h<l;h++)u[h]=this.field.multiply(this.coefficients[h],a);return new an(this.field,u)}toString(){let i=new Oe;for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);l!==0&&(l<0?(i.append(" - "),l=-l):i.length()>0&&i.append(" + "),(a===0||l!==1)&&i.append(l),a!==0&&(a===1?i.append("x"):(i.append("x^"),i.append(a))))}return i.toString()}}class cI{add(i,a){return(i+a)%this.modulus}subtract(i,a){return(this.modulus+i-a)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new v;return this.logTable[i]}inverse(i){if(i===0)throw new du;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,a){return i===0||a===0?0:this.expTable[(this.logTable[i]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class zf extends cI{constructor(i,a){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let l=1;for(let u=0;u<i;u++)this.expTable[u]=l,l=l*a%i;for(let u=0;u<i-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new an(this,new Int32Array([0])),this.one=new an(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,a){if(i<0)throw new v;if(a===0)return this.zero;let l=new Int32Array(i+1);return l[0]=a,new an(this,l)}}zf.PDF417_GF=new zf(we.NUMBER_OF_CODEWORDS,3);class r2{constructor(){this.field=zf.PDF417_GF}decode(i,a,l){let u=new an(this.field,i),h=new Int32Array(a),d=!1;for(let P=a;P>0;P--){let L=u.evaluateAt(this.field.exp(P));h[a-P]=L,L!==0&&(d=!0)}if(!d)return 0;let f=this.field.getOne();if(l!=null)for(const P of l){let L=this.field.exp(i.length-1-P),j=new an(this.field,new Int32Array([this.field.subtract(0,L),1]));f=f.multiply(j)}let y=new an(this.field,h),x=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),y,a),E=x[0],A=x[1],T=this.findErrorLocations(E),N=this.findErrorMagnitudes(A,E,T);for(let P=0;P<T.length;P++){let L=i.length-1-this.field.log(T[P]);if(L<0)throw R.getChecksumInstance();i[L]=this.field.subtract(i[L],N[P])}return T.length}runEuclideanAlgorithm(i,a,l){if(i.getDegree()<a.getDegree()){let T=i;i=a,a=T}let u=i,h=a,d=this.field.getZero(),f=this.field.getOne();for(;h.getDegree()>=Math.round(l/2);){let T=u,N=d;if(u=h,d=f,u.isZero())throw R.getChecksumInstance();h=T;let P=this.field.getZero(),L=u.getCoefficient(u.getDegree()),j=this.field.inverse(L);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){let H=h.getDegree()-u.getDegree(),ee=this.field.multiply(h.getCoefficient(h.getDegree()),j);P=P.add(this.field.buildMonomial(H,ee)),h=h.subtract(u.multiplyByMonomial(H,ee))}f=P.multiply(d).subtract(N).negative()}let y=f.getCoefficient(0);if(y===0)throw R.getChecksumInstance();let x=this.field.inverse(y),E=f.multiply(x),A=h.multiply(x);return[E,A]}findErrorLocations(i){let a=i.getDegree(),l=new Int32Array(a),u=0;for(let h=1;h<this.field.getSize()&&u<a;h++)i.evaluateAt(h)===0&&(l[u]=this.field.inverse(h),u++);if(u!==a)throw R.getChecksumInstance();return l}findErrorMagnitudes(i,a,l){let u=a.getDegree(),h=new Int32Array(u);for(let x=1;x<=u;x++)h[u-x]=this.field.multiply(x,a.getCoefficient(x));let d=new an(this.field,h),f=l.length,y=new Int32Array(f);for(let x=0;x<f;x++){let E=this.field.inverse(l[x]),A=this.field.subtract(0,i.evaluateAt(E)),T=this.field.inverse(d.evaluateAt(E));y[x]=this.field.multiply(A,T)}return y}}class Fs{constructor(i,a,l,u,h){i instanceof Fs?this.constructor_2(i):this.constructor_1(i,a,l,u,h)}constructor_1(i,a,l,u,h){const d=a==null||l==null,f=u==null||h==null;if(d&&f)throw new W;d?(a=new ue(0,u.getY()),l=new ue(0,h.getY())):f&&(u=new ue(i.getWidth()-1,a.getY()),h=new ue(i.getWidth()-1,l.getY())),this.image=i,this.topLeft=a,this.bottomLeft=l,this.topRight=u,this.bottomRight=h,this.minX=Math.trunc(Math.min(a.getX(),l.getX())),this.maxX=Math.trunc(Math.max(u.getX(),h.getX())),this.minY=Math.trunc(Math.min(a.getY(),u.getY())),this.maxY=Math.trunc(Math.max(l.getY(),h.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,a){return i==null?a:a==null?i:new Fs(i.image,i.topLeft,i.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(i,a,l){let u=this.topLeft,h=this.bottomLeft,d=this.topRight,f=this.bottomRight;if(i>0){let y=l?this.topLeft:this.topRight,x=Math.trunc(y.getY()-i);x<0&&(x=0);let E=new ue(y.getX(),x);l?u=E:d=E}if(a>0){let y=l?this.bottomLeft:this.bottomRight,x=Math.trunc(y.getY()+a);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let E=new ue(y.getX(),x);l?h=E:f=E}return new Fs(this.image,u,h,d,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class uI{constructor(i,a,l,u){this.columnCount=i,this.errorCorrectionLevel=u,this.rowCountUpperPart=a,this.rowCountLowerPart=l,this.rowCount=a+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class il{constructor(){this.buffer=""}static form(i,a){let l=-1;function u(d,f,y,x,E,A){if(d==="%%")return"%";if(a[++l]===void 0)return;d=x?parseInt(x.substr(1)):void 0;let T=E?parseInt(E.substr(1)):void 0,N;switch(A){case"s":N=a[l];break;case"c":N=a[l][0];break;case"f":N=parseFloat(a[l]).toFixed(d);break;case"p":N=parseFloat(a[l]).toPrecision(d);break;case"e":N=parseFloat(a[l]).toExponential(d);break;case"x":N=parseInt(a[l]).toString(T||16);break;case"d":N=parseFloat(parseInt(a[l],T||10).toPrecision(d)).toFixed(0);break}N=typeof N=="object"?JSON.stringify(N):(+N).toString(T);let P=parseInt(y),L=y&&y[0]+""=="0"?"0":" ";for(;N.length<P;)N=f!==void 0?N+L:L+N;return N}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(h,u)}format(i,...a){this.buffer+=il.form(i,a)}toString(){return this.buffer}}class sl{constructor(i){this.boundingBox=new Fs(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let a=this.getCodeword(i);if(a!=null)return a;for(let l=1;l<sl.MAX_NEARBY_DISTANCE;l++){let u=this.imageRowToCodewordIndex(i)-l;if(u>=0&&(a=this.codewords[u],a!=null)||(u=this.imageRowToCodewordIndex(i)+l,u<this.codewords.length&&(a=this.codewords[u],a!=null)))return a}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,a){this.codewords[this.imageRowToCodewordIndex(i)]=a}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new il;let a=0;for(const l of this.codewords){if(l==null){i.format("%3d:    |   %n",a++);continue}i.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue())}return i.toString()}}sl.MAX_NEARBY_DISTANCE=5;class ol{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let a=this.values.get(i);a==null&&(a=0),a++,this.values.set(i,a)}getValue(){let i=-1,a=new Array;for(const[l,u]of this.values.entries()){const h={getKey:()=>l,getValue:()=>u};h.getValue()>i?(i=h.getValue(),a=[],a.push(h.getKey())):h.getValue()===i&&a.push(h.getKey())}return we.toIntArray(a)}getConfidence(i){return this.values.get(i)}}class i2 extends sl{constructor(i,a){super(i),this._isLeft=a}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,i);let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),h=this._isLeft?l.getBottomLeft():l.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),f=this.imageRowToCodewordIndex(Math.trunc(h.getY())),y=-1,x=1,E=0;for(let A=d;A<f;A++){if(a[A]==null)continue;let T=a[A],N=T.getRowNumber()-y;if(N===0)E++;else if(N===1)x=Math.max(x,E),E=1,y=T.getRowNumber();else if(N<0||T.getRowNumber()>=i.getRowCount()||N>A)a[A]=null;else{let P;x>2?P=(x-2)*N:P=N;let L=P>=A;for(let j=1;j<=P&&!L;j++)L=a[A-j]!=null;L?a[A]=null:(y=T.getRowNumber(),E=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let a=new Int32Array(i.getRowCount());for(let l of this.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=a.length)continue;a[u]++}return a}adjustIncompleteIndicatorColumnRowNumbers(i){let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),f=this.getCodewords(),y=-1;for(let x=h;x<d;x++){if(f[x]==null)continue;let E=f[x];E.setRowNumberAsRowIndicatorColumn();let A=E.getRowNumber()-y;A===0||(A===1?y=E.getRowNumber():E.getRowNumber()>=i.getRowCount()?f[x]=null:y=E.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),a=new ol,l=new ol,u=new ol,h=new ol;for(let f of i){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let y=f.getValue()%30,x=f.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:l.setValue(y*3+1);break;case 1:h.setValue(y/3),u.setValue(y%3);break;case 2:a.setValue(y+1);break}}if(a.getValue().length===0||l.getValue().length===0||u.getValue().length===0||h.getValue().length===0||a.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<we.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>we.MAX_ROWS_IN_BARCODE)return null;let d=new uI(a.getValue()[0],l.getValue()[0],u.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(i,d),d}removeIncorrectCodewords(i,a){for(let l=0;l<i.length;l++){let u=i[l];if(i[l]==null)continue;let h=u.getValue()%30,d=u.getRowNumber();if(d>a.getRowCount()){i[l]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:h*3+1!==a.getRowCountUpperPart()&&(i[l]=null);break;case 1:(Math.trunc(h/3)!==a.getErrorCorrectionLevel()||h%3!==a.getRowCountLowerPart())&&(i[l]=null);break;case 2:h+1!==a.getColumnCount()&&(i[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class al{constructor(i,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=we.MAX_CODEWORDS_IN_BARCODE,a;do a=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let l=this.detectionResultColumns[a].getCodewords();for(let u=0;u<l.length;u++)l[u]!=null&&(l[u].hasValidRowNumber()||this.adjustRowNumbers(a,u,l))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<i.length;l++)if(i[l]!=null&&a[l]!=null&&i[l].getRowNumber()===a[l].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let h=this.detectionResultColumns[u].getCodewords()[l];h!=null&&(h.setRowNumber(i[l].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let u=a[l].getRowNumber(),h=0;for(let d=this.barcodeColumnCount+1;d>0&&h<this.ADJUST_ROW_NUMBER_SKIP;d--){let f=this.detectionResultColumns[d].getCodewords()[l];f!=null&&(h=al.adjustRowNumberIfValid(u,h,f),f.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,a=this.detectionResultColumns[0].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let u=a[l].getRowNumber(),h=0;for(let d=1;d<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;d++){let f=this.detectionResultColumns[d].getCodewords()[l];f!=null&&(h=al.adjustRowNumberIfValid(u,h,f),f.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,a,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(i)?(l.setRowNumber(i),a=0):++a),a}adjustRowNumbers(i,a,l){if(!this.detectionResultColumns[i-1])return;let u=l[a],h=this.detectionResultColumns[i-1].getCodewords(),d=h;this.detectionResultColumns[i+1]!=null&&(d=this.detectionResultColumns[i+1].getCodewords());let f=new Array(14);f[2]=h[a],f[3]=d[a],a>0&&(f[0]=l[a-1],f[4]=h[a-1],f[5]=d[a-1]),a>1&&(f[8]=l[a-2],f[10]=h[a-2],f[11]=d[a-2]),a<l.length-1&&(f[1]=l[a+1],f[6]=h[a+1],f[7]=d[a+1]),a<l.length-2&&(f[9]=l[a+2],f[12]=h[a+2],f[13]=d[a+2]);for(let y of f)if(al.adjustRowNumber(u,y))return}static adjustRowNumber(i,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===i.getBucket()?(i.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,a){this.detectionResultColumns[i]=a}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new il;for(let l=0;l<i.getCodewords().length;l++){a.format("CW %3d:",l);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){a.format("    |   ");continue}let h=this.detectionResultColumns[u].getCodewords()[l];if(h==null){a.format("    |   ");continue}a.format(" %3d|%3d",h.getRowNumber(),h.getValue())}a.format("%n")}return a.toString()}}class ll{constructor(i,a,l,u){this.rowNumber=ll.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(a),this.bucket=Math.trunc(l),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==ll.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}ll.BARCODE_ROW_UNKNOWN=-1;class $n{static initialize(){for(let i=0;i<we.SYMBOL_TABLE.length;i++){let a=we.SYMBOL_TABLE[i],l=a&1;for(let u=0;u<we.BARS_IN_MODULE;u++){let h=0;for(;(a&1)===l;)h+=1,a>>=1;l=a&1,$n.RATIOS_TABLE[i]||($n.RATIOS_TABLE[i]=new Array(we.BARS_IN_MODULE)),$n.RATIOS_TABLE[i][we.BARS_IN_MODULE-u-1]=Math.fround(h/we.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let a=$n.getDecodedCodewordValue($n.sampleBitCounts(i));return a!==-1?a:$n.getClosestDecodedValue(i)}static sampleBitCounts(i){let a=Ue.sum(i),l=new Int32Array(we.BARS_IN_MODULE),u=0,h=0;for(let d=0;d<we.MODULES_IN_CODEWORD;d++){let f=a/(2*we.MODULES_IN_CODEWORD)+d*a/we.MODULES_IN_CODEWORD;h+i[u]<=f&&(h+=i[u],u++),l[u]++}return l}static getDecodedCodewordValue(i){let a=$n.getBitValue(i);return we.getCodeword(a)===-1?-1:a}static getBitValue(i){let a=0;for(let l=0;l<i.length;l++)for(let u=0;u<i[l];u++)a=a<<1|(l%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(i){let a=Ue.sum(i),l=new Array(we.BARS_IN_MODULE);if(a>1)for(let d=0;d<l.length;d++)l[d]=Math.fround(i[d]/a);let u=fu.MAX_VALUE,h=-1;this.bSymbolTableReady||$n.initialize();for(let d=0;d<$n.RATIOS_TABLE.length;d++){let f=0,y=$n.RATIOS_TABLE[d];for(let x=0;x<we.BARS_IN_MODULE;x++){let E=Math.fround(y[x]-l[x]);if(f+=Math.fround(E*E),f>=u)break}f<u&&(u=f,h=we.SYMBOL_TABLE[d])}return h}}$n.bSymbolTableReady=!1,$n.RATIOS_TABLE=new Array(we.SYMBOL_TABLE.length).map(C=>new Array(we.BARS_IN_MODULE));class s2{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class o2{static parseLong(i,a=void 0){return parseInt(i,a)}}class a2 extends p{}a2.kind="NullPointerException";class hI{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,a,l){if(i==null)throw new a2;if(a<0||a>i.length||l<0||a+l>i.length||a+l<0)throw new U;if(l===0)return;for(let u=0;u<l;u++)this.write(i[a+u])}flush(){}close(){}}class dI extends p{}class fI extends hI{constructor(i=32){if(super(),this.count=0,i<0)throw new v("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let l=this.buf.length<<1;if(l-i<0&&(l=i),l<0){if(i<0)throw new dI;l=O.MAX_VALUE}this.buf=S.copyOfUint8Array(this.buf,l)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,a,l){if(a<0||a>i.length||l<0||a+l-i.length>0)throw new U;this.ensureCapacity(this.count+l),D.arraycopy(i,a,this.buf,this.count,l),this.count+=l}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return S.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var tt;(function(C){C[C.ALPHA=0]="ALPHA",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.PUNCT=3]="PUNCT",C[C.ALPHA_SHIFT=4]="ALPHA_SHIFT",C[C.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(tt||(tt={}));function l2(){if(typeof window<"u")return window.BigInt||null;if(typeof hl<"u")return hl.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Eu;function Gi(C){if(typeof Eu>"u"&&(Eu=l2()),Eu===null)throw new Error("BigInt is not supported!");return Eu(C)}function gI(){let C=[];C[0]=Gi(1);let i=Gi(900);C[1]=i;for(let a=2;a<16;a++)C[a]=C[a-1]*i;return C}class z{static decode(i,a){let l=new Oe(""),u=$.ISO8859_1;l.enableDecoding(u);let h=1,d=i[h++],f=new s2;for(;h<i[0];){switch(d){case z.TEXT_COMPACTION_MODE_LATCH:h=z.textCompaction(i,h,l);break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:h=z.byteCompaction(d,i,u,h,l);break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[h++]);break;case z.NUMERIC_COMPACTION_MODE_LATCH:h=z.numericCompaction(i,h,l);break;case z.ECI_CHARSET:$.getCharacterSetECIByValue(i[h++]);break;case z.ECI_GENERAL_PURPOSE:h+=2;break;case z.ECI_USER_DEFINED:h++;break;case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=z.decodeMacroBlock(i,h,f);break;case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:throw new F;default:h--,h=z.textCompaction(i,h,l);break}if(h<i.length)d=i[h++];else throw F.getFormatInstance()}if(l.length()===0)throw F.getFormatInstance();let y=new Ja(null,l.toString(),null,a);return y.setOther(f),y}static decodeMacroBlock(i,a,l){if(a+z.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw F.getFormatInstance();let u=new Int32Array(z.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<z.NUMBER_OF_SEQUENCE_CODEWORDS;f++,a++)u[f]=i[a];l.setSegmentIndex(O.parseInt(z.decodeBase900toBase10(u,z.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new Oe;a=z.textCompaction(i,a,h),l.setFileId(h.toString());let d=-1;for(i[a]===z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=a+1);a<i[0];)switch(i[a]){case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,i[a]){case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new Oe;a=z.textCompaction(i,a+1,f),l.setFileName(f.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new Oe;a=z.textCompaction(i,a+1,y),l.setSender(y.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new Oe;a=z.textCompaction(i,a+1,x),l.setAddressee(x.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let E=new Oe;a=z.numericCompaction(i,a+1,E),l.setSegmentCount(O.parseInt(E.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let A=new Oe;a=z.numericCompaction(i,a+1,A),l.setTimestamp(o2.parseLong(A.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let T=new Oe;a=z.numericCompaction(i,a+1,T),l.setChecksum(O.parseInt(T.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let N=new Oe;a=z.numericCompaction(i,a+1,N),l.setFileSize(o2.parseLong(N.toString()));break;default:throw F.getFormatInstance()}break;case z.MACRO_PDF417_TERMINATOR:a++,l.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(d!==-1){let f=a-d;l.isLastSegment()&&f--,l.setOptionalData(S.copyOfRange(i,d,d+f))}return a}static textCompaction(i,a,l){let u=new Int32Array((i[0]-a)*2),h=new Int32Array((i[0]-a)*2),d=0,f=!1;for(;a<i[0]&&!f;){let y=i[a++];if(y<z.TEXT_COMPACTION_MODE_LATCH)u[d]=y/30,u[d+1]=y%30,d+=2;else switch(y){case z.TEXT_COMPACTION_MODE_LATCH:u[d++]=z.TEXT_COMPACTION_MODE_LATCH;break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:a--,f=!0;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[d]=z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=i[a++],h[d]=y,d++;break}}return z.decodeTextCompaction(u,h,d,l),a}static decodeTextCompaction(i,a,l,u){let h=tt.ALPHA,d=tt.ALPHA,f=0;for(;f<l;){let y=i[f],x="";switch(h){case tt.ALPHA:if(y<26)x=String.fromCharCode(65+y);else switch(y){case 26:x=" ";break;case z.LL:h=tt.LOWER;break;case z.ML:h=tt.MIXED;break;case z.PS:d=h,h=tt.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:h=tt.ALPHA;break}break;case tt.LOWER:if(y<26)x=String.fromCharCode(97+y);else switch(y){case 26:x=" ";break;case z.AS:d=h,h=tt.ALPHA_SHIFT;break;case z.ML:h=tt.MIXED;break;case z.PS:d=h,h=tt.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:h=tt.ALPHA;break}break;case tt.MIXED:if(y<z.PL)x=z.MIXED_CHARS[y];else switch(y){case z.PL:h=tt.PUNCT;break;case 26:x=" ";break;case z.LL:h=tt.LOWER;break;case z.AL:h=tt.ALPHA;break;case z.PS:d=h,h=tt.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:h=tt.ALPHA;break}break;case tt.PUNCT:if(y<z.PAL)x=z.PUNCT_CHARS[y];else switch(y){case z.PAL:h=tt.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:h=tt.ALPHA;break}break;case tt.ALPHA_SHIFT:if(h=d,y<26)x=String.fromCharCode(65+y);else switch(y){case 26:x=" ";break;case z.TEXT_COMPACTION_MODE_LATCH:h=tt.ALPHA;break}break;case tt.PUNCT_SHIFT:if(h=d,y<z.PAL)x=z.PUNCT_CHARS[y];else switch(y){case z.PAL:h=tt.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:h=tt.ALPHA;break}break}x!==""&&u.append(x),f++}}static byteCompaction(i,a,l,u,h){let d=new fI,f=0,y=0,x=!1;switch(i){case z.BYTE_COMPACTION_MODE_LATCH:let E=new Int32Array(6),A=a[u++];for(;u<a[0]&&!x;)switch(E[f++]=A,y=900*y+A,A=a[u++],A){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:u--,x=!0;break;default:if(f%5===0&&f>0){for(let T=0;T<6;++T)d.write(Number(Gi(y)>>Gi(8*(5-T))));y=0,f=0}break}u===a[0]&&A<z.TEXT_COMPACTION_MODE_LATCH&&(E[f++]=A);for(let T=0;T<f;T++)d.write(E[T]);break;case z.BYTE_COMPACTION_MODE_LATCH_6:for(;u<a[0]&&!x;){let T=a[u++];if(T<z.TEXT_COMPACTION_MODE_LATCH)f++,y=900*y+T;else switch(T){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:u--,x=!0;break}if(f%5===0&&f>0){for(let N=0;N<6;++N)d.write(Number(Gi(y)>>Gi(8*(5-N))));y=0,f=0}}break}return h.append(Me.decode(d.toByteArray(),l)),u}static numericCompaction(i,a,l){let u=0,h=!1,d=new Int32Array(z.MAX_NUMERIC_CODEWORDS);for(;a<i[0]&&!h;){let f=i[a++];if(a===i[0]&&(h=!0),f<z.TEXT_COMPACTION_MODE_LATCH)d[u]=f,u++;else switch(f){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:a--,h=!0;break}(u%z.MAX_NUMERIC_CODEWORDS===0||f===z.NUMERIC_COMPACTION_MODE_LATCH||h)&&u>0&&(l.append(z.decodeBase900toBase10(d,u)),u=0)}return a}static decodeBase900toBase10(i,a){let l=Gi(0);for(let h=0;h<a;h++)l+=z.EXP900[a-h-1]*Gi(i[h]);let u=l.toString();if(u.charAt(0)!=="1")throw new F;return u.substring(1)}}z.TEXT_COMPACTION_MODE_LATCH=900,z.BYTE_COMPACTION_MODE_LATCH=901,z.NUMERIC_COMPACTION_MODE_LATCH=902,z.BYTE_COMPACTION_MODE_LATCH_6=924,z.ECI_USER_DEFINED=925,z.ECI_GENERAL_PURPOSE=926,z.ECI_CHARSET=927,z.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,z.MACRO_PDF417_TERMINATOR=922,z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,z.MAX_NUMERIC_CODEWORDS=15,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,z.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,z.PL=25,z.LL=27,z.AS=27,z.ML=28,z.AL=28,z.PS=29,z.PAL=29,z.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,z.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",z.EXP900=l2()?gI():[],z.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Re{constructor(){}static decode(i,a,l,u,h,d,f){let y=new Fs(i,a,l,u,h),x=null,E=null,A;for(let P=!0;;P=!1){if(a!=null&&(x=Re.getRowIndicatorColumn(i,y,a,!0,d,f)),u!=null&&(E=Re.getRowIndicatorColumn(i,y,u,!1,d,f)),A=Re.merge(x,E),A==null)throw W.getNotFoundInstance();let L=A.getBoundingBox();if(P&&L!=null&&(L.getMinY()<y.getMinY()||L.getMaxY()>y.getMaxY()))y=L;else break}A.setBoundingBox(y);let T=A.getBarcodeColumnCount()+1;A.setDetectionResultColumn(0,x),A.setDetectionResultColumn(T,E);let N=x!=null;for(let P=1;P<=T;P++){let L=N?P:T-P;if(A.getDetectionResultColumn(L)!==void 0)continue;let j;L===0||L===T?j=new i2(y,L===0):j=new sl(y),A.setDetectionResultColumn(L,j);let H=-1,ee=H;for(let te=y.getMinY();te<=y.getMaxY();te++){if(H=Re.getStartColumn(A,L,te,N),H<0||H>y.getMaxX()){if(ee===-1)continue;H=ee}let q=Re.detectCodeword(i,y.getMinX(),y.getMaxX(),N,H,te,d,f);q!=null&&(j.setCodeword(te,q),ee=H,d=Math.min(d,q.getWidth()),f=Math.max(f,q.getWidth()))}}return Re.createDecoderResult(A)}static merge(i,a){if(i==null&&a==null)return null;let l=Re.getBarcodeMetadata(i,a);if(l==null)return null;let u=Fs.merge(Re.adjustBoundingBox(i),Re.adjustBoundingBox(a));return new al(l,u)}static adjustBoundingBox(i){if(i==null)return null;let a=i.getRowHeights();if(a==null)return null;let l=Re.getMax(a),u=0;for(let f of a)if(u+=l-f,f>0)break;let h=i.getCodewords();for(let f=0;u>0&&h[f]==null;f++)u--;let d=0;for(let f=a.length-1;f>=0&&(d+=l-a[f],!(a[f]>0));f--);for(let f=h.length-1;d>0&&h[f]==null;f--)d--;return i.getBoundingBox().addMissingRows(u,d,i.isLeft())}static getMax(i){let a=-1;for(let l of i)a=Math.max(a,l);return a}static getBarcodeMetadata(i,a){let l;if(i==null||(l=i.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let u;return a==null||(u=a.getBarcodeMetadata())==null?l:l.getColumnCount()!==u.getColumnCount()&&l.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&l.getRowCount()!==u.getRowCount()?null:l}static getRowIndicatorColumn(i,a,l,u,h,d){let f=new i2(a,u);for(let y=0;y<2;y++){let x=y===0?1:-1,E=Math.trunc(Math.trunc(l.getX()));for(let A=Math.trunc(Math.trunc(l.getY()));A<=a.getMaxY()&&A>=a.getMinY();A+=x){let T=Re.detectCodeword(i,0,i.getWidth(),u,E,A,h,d);T!=null&&(f.setCodeword(A,T),u?E=T.getStartX():E=T.getEndX())}}return f}static adjustCodewordCount(i,a){let l=a[0][1],u=l.getValue(),h=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-Re.getNumberOfECCodeWords(i.getBarcodeECLevel());if(u.length===0){if(h<1||h>we.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();l.setValue(h)}else u[0]!==h&&l.setValue(h)}static createDecoderResult(i){let a=Re.createBarcodeMatrix(i);Re.adjustCodewordCount(i,a);let l=new Array,u=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),h=[],d=new Array;for(let y=0;y<i.getBarcodeRowCount();y++)for(let x=0;x<i.getBarcodeColumnCount();x++){let E=a[y][x+1].getValue(),A=y*i.getBarcodeColumnCount()+x;E.length===0?l.push(A):E.length===1?u[A]=E[0]:(d.push(A),h.push(E))}let f=new Array(h.length);for(let y=0;y<f.length;y++)f[y]=h[y];return Re.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),u,we.toIntArray(l),we.toIntArray(d),f)}static createDecoderResultFromAmbiguousValues(i,a,l,u,h){let d=new Int32Array(u.length),f=100;for(;f-- >0;){for(let y=0;y<d.length;y++)a[u[y]]=h[y][d[y]];try{return Re.decodeCodewords(a,i,l)}catch(y){if(!(y instanceof R))throw y}if(d.length===0)throw R.getChecksumInstance();for(let y=0;y<d.length;y++)if(d[y]<h[y].length-1){d[y]++;break}else if(d[y]=0,y===d.length-1)throw R.getChecksumInstance()}throw R.getChecksumInstance()}static createBarcodeMatrix(i){let a=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let u=0;u<a.length;u++)for(let h=0;h<a[u].length;h++)a[u][h]=new ol;let l=0;for(let u of i.getDetectionResultColumns()){if(u!=null){for(let h of u.getCodewords())if(h!=null){let d=h.getRowNumber();if(d>=0){if(d>=a.length)continue;a[d][l].setValue(h.getValue())}}}l++}return a}static isValidBarcodeColumn(i,a){return a>=0&&a<=i.getBarcodeColumnCount()+1}static getStartColumn(i,a,l,u){let h=u?1:-1,d=null;if(Re.isValidBarcodeColumn(i,a-h)&&(d=i.getDetectionResultColumn(a-h).getCodeword(l)),d!=null)return u?d.getEndX():d.getStartX();if(d=i.getDetectionResultColumn(a).getCodewordNearby(l),d!=null)return u?d.getStartX():d.getEndX();if(Re.isValidBarcodeColumn(i,a-h)&&(d=i.getDetectionResultColumn(a-h).getCodewordNearby(l)),d!=null)return u?d.getEndX():d.getStartX();let f=0;for(;Re.isValidBarcodeColumn(i,a-h);){a-=h;for(let y of i.getDetectionResultColumn(a).getCodewords())if(y!=null)return(u?y.getEndX():y.getStartX())+h*f*(y.getEndX()-y.getStartX());f++}return u?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,a,l,u,h,d,f,y){h=Re.adjustCodewordStartColumn(i,a,l,u,h,d);let x=Re.getModuleBitCount(i,a,l,u,h,d);if(x==null)return null;let E,A=Ue.sum(x);if(u)E=h+A;else{for(let P=0;P<x.length/2;P++){let L=x[P];x[P]=x[x.length-1-P],x[x.length-1-P]=L}E=h,h=E-A}if(!Re.checkCodewordSkew(A,f,y))return null;let T=$n.getDecodedValue(x),N=we.getCodeword(T);return N===-1?null:new ll(h,E,Re.getCodewordBucketNumber(T),N)}static getModuleBitCount(i,a,l,u,h,d){let f=h,y=new Int32Array(8),x=0,E=u?1:-1,A=u;for(;(u?f<l:f>=a)&&x<y.length;)i.get(f,d)===A?(y[x]++,f+=E):(x++,A=!A);return x===y.length||f===(u?l:a)&&x===y.length-1?y:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,a,l,u,h,d){let f=h,y=u?-1:1;for(let x=0;x<2;x++){for(;(u?f>=a:f<l)&&u===i.get(f,d);){if(Math.abs(h-f)>Re.CODEWORD_SKEW_SIZE)return h;f+=y}y=-y,u=!u}return f}static checkCodewordSkew(i,a,l){return a-Re.CODEWORD_SKEW_SIZE<=i&&i<=l+Re.CODEWORD_SKEW_SIZE}static decodeCodewords(i,a,l){if(i.length===0)throw F.getFormatInstance();let u=1<<a+1,h=Re.correctErrors(i,l,u);Re.verifyCodewordCount(i,u);let d=z.decode(i,""+a);return d.setErrorsCorrected(h),d.setErasures(l.length),d}static correctErrors(i,a,l){if(a!=null&&a.length>l/2+Re.MAX_ERRORS||l<0||l>Re.MAX_EC_CODEWORDS)throw R.getChecksumInstance();return Re.errorCorrection.decode(i,l,a)}static verifyCodewordCount(i,a){if(i.length<4)throw F.getFormatInstance();let l=i[0];if(l>i.length)throw F.getFormatInstance();if(l===0)if(a<i.length)i[0]=i.length-a;else throw F.getFormatInstance()}static getBitCountForCodeword(i){let a=new Int32Array(8),l=0,u=a.length-1;for(;!((i&1)!==l&&(l=i&1,u--,u<0));)a[u]++,i>>=1;return a}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return Re.getCodewordBucketNumber(Re.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let a=new il;for(let l=0;l<i.length;l++){a.format("Row %2d: ",l);for(let u=0;u<i[l].length;u++){let h=i[l][u];h.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}a.format("%n")}return a.toString()}}Re.CODEWORD_SKEW_SIZE=2,Re.MAX_ERRORS=3,Re.MAX_EC_CODEWORDS=512,Re.errorCorrection=new r2;class ln{decode(i,a=null){let l=ln.decode(i,a,!1);if(l==null||l.length===0||l[0]==null)throw W.getNotFoundInstance();return l[0]}decodeMultiple(i,a=null){try{return ln.decode(i,a,!0)}catch(l){throw l instanceof F||l instanceof R?W.getNotFoundInstance():l}}static decode(i,a,l){const u=new Array,h=Ne.detectMultiple(i,a,l);for(const d of h.getPoints()){const f=Re.decode(h.getBits(),d[4],d[5],d[6],d[7],ln.getMinCodewordWidth(d),ln.getMaxCodewordWidth(d)),y=new xt(f.getText(),f.getRawBytes(),void 0,d,de.PDF_417);y.putMetadata(Qt.ERROR_CORRECTION_LEVEL,f.getECLevel());const x=f.getOther();x!=null&&y.putMetadata(Qt.PDF417_EXTRA_METADATA,x),u.push(y)}return u.map(d=>d)}static getMaxWidth(i,a){return i==null||a==null?0:Math.trunc(Math.abs(i.getX()-a.getX()))}static getMinWidth(i,a){return i==null||a==null?O.MAX_VALUE:Math.trunc(Math.abs(i.getX()-a.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(ln.getMaxWidth(i[0],i[4]),ln.getMaxWidth(i[6],i[2])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN),Math.max(ln.getMaxWidth(i[1],i[5]),ln.getMaxWidth(i[7],i[3])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(ln.getMinWidth(i[0],i[4]),ln.getMinWidth(i[6],i[2])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN),Math.min(ln.getMinWidth(i[1],i[5]),ln.getMinWidth(i[7],i[3])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN)))}reset(){}}class vu extends p{}vu.kind="ReaderException";class c2{constructor(i,a){this.verbose=i===!0,a&&this.setHints(a)}decode(i,a){return a&&this.setHints(a),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const a=!r(i)&&i.get(G.TRY_HARDER)===!0,l=r(i)?null:i.get(G.POSSIBLE_FORMATS),u=new Array;if(!r(l)){const h=l.some(d=>d===de.UPC_A||d===de.UPC_E||d===de.EAN_13||d===de.EAN_8||d===de.CODABAR||d===de.CODE_39||d===de.CODE_93||d===de.CODE_128||d===de.ITF||d===de.RSS_14||d===de.RSS_EXPANDED);h&&!a&&u.push(new Ro(i,this.verbose)),l.includes(de.QR_CODE)&&u.push(new $i),l.includes(de.DATA_MATRIX)&&u.push(new Wi),l.includes(de.AZTEC)&&u.push(new pu),l.includes(de.PDF_417)&&u.push(new ln),h&&a&&u.push(new Ro(i,this.verbose))}u.length===0&&(a||u.push(new Ro(i,this.verbose)),u.push(new $i),u.push(new Wi),u.push(new pu),u.push(new ln),a&&u.push(new Ro(i,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new vu("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(i,this.hints)}catch(l){if(l instanceof vu)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}class pI extends yr{constructor(i=null,a=500){const l=new c2;l.setHints(i),super(l,a)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class mI extends yr{constructor(i=500){super(new ln,i)}}class yI extends yr{constructor(i=500){super(new $i,i)}}var Hf;(function(C){C[C.ERROR_CORRECTION=0]="ERROR_CORRECTION",C[C.CHARACTER_SET=1]="CHARACTER_SET",C[C.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",C[C.MIN_SIZE=3]="MIN_SIZE",C[C.MAX_SIZE=4]="MAX_SIZE",C[C.MARGIN=5]="MARGIN",C[C.PDF417_COMPACT=6]="PDF417_COMPACT",C[C.PDF417_COMPACTION=7]="PDF417_COMPACTION",C[C.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",C[C.AZTEC_LAYERS=9]="AZTEC_LAYERS",C[C.QR_VERSION=10]="QR_VERSION"})(Hf||(Hf={}));var Gt=Hf;class Wf{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new zn(i,Int32Array.from([1])))}buildGenerator(i){const a=this.cachedGenerators;if(i>=a.length){let l=a[a.length-1];const u=this.field;for(let h=a.length;h<=i;h++){const d=l.multiply(new zn(u,Int32Array.from([1,u.exp(h-1+u.getGeneratorBase())])));a.push(d),l=d}}return a[i]}encode(i,a){if(a===0)throw new v("No error correction bytes");const l=i.length-a;if(l<=0)throw new v("No data bytes provided");const u=this.buildGenerator(a),h=new Int32Array(l);D.arraycopy(i,0,h,0,l);let d=new zn(this.field,h);d=d.multiplyByMonomial(a,1);const y=d.divide(u)[1].getCoefficients(),x=a-y.length;for(let E=0;E<x;E++)i[l+E]=0;D.arraycopy(y,0,i,l+x,y.length)}}class Tt{constructor(){}static applyMaskPenaltyRule1(i){return Tt.applyMaskPenaltyRule1Internal(i,!0)+Tt.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let a=0;const l=i.getArray(),u=i.getWidth(),h=i.getHeight();for(let d=0;d<h-1;d++){const f=l[d];for(let y=0;y<u-1;y++){const x=f[y];x===f[y+1]&&x===l[d+1][y]&&x===l[d+1][y+1]&&a++}}return Tt.N2*a}static applyMaskPenaltyRule3(i){let a=0;const l=i.getArray(),u=i.getWidth(),h=i.getHeight();for(let d=0;d<h;d++)for(let f=0;f<u;f++){const y=l[d];f+6<u&&y[f]===1&&y[f+1]===0&&y[f+2]===1&&y[f+3]===1&&y[f+4]===1&&y[f+5]===0&&y[f+6]===1&&(Tt.isWhiteHorizontal(y,f-4,f)||Tt.isWhiteHorizontal(y,f+7,f+11))&&a++,d+6<h&&l[d][f]===1&&l[d+1][f]===0&&l[d+2][f]===1&&l[d+3][f]===1&&l[d+4][f]===1&&l[d+5][f]===0&&l[d+6][f]===1&&(Tt.isWhiteVertical(l,f,d-4,d)||Tt.isWhiteVertical(l,f,d+7,d+11))&&a++}return a*Tt.N3}static isWhiteHorizontal(i,a,l){a=Math.max(a,0),l=Math.min(l,i.length);for(let u=a;u<l;u++)if(i[u]===1)return!1;return!0}static isWhiteVertical(i,a,l,u){l=Math.max(l,0),u=Math.min(u,i.length);for(let h=l;h<u;h++)if(i[h][a]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let a=0;const l=i.getArray(),u=i.getWidth(),h=i.getHeight();for(let y=0;y<h;y++){const x=l[y];for(let E=0;E<u;E++)x[E]===1&&a++}const d=i.getHeight()*i.getWidth();return Math.floor(Math.abs(a*2-d)*10/d)*Tt.N4}static getDataMaskBit(i,a,l){let u,h;switch(i){case 0:u=l+a&1;break;case 1:u=l&1;break;case 2:u=a%3;break;case 3:u=(l+a)%3;break;case 4:u=Math.floor(l/2)+Math.floor(a/3)&1;break;case 5:h=l*a,u=(h&1)+h%3;break;case 6:h=l*a,u=(h&1)+h%3&1;break;case 7:h=l*a,u=h%3+(l+a&1)&1;break;default:throw new v("Invalid mask pattern: "+i)}return u===0}static applyMaskPenaltyRule1Internal(i,a){let l=0;const u=a?i.getHeight():i.getWidth(),h=a?i.getWidth():i.getHeight(),d=i.getArray();for(let f=0;f<u;f++){let y=0,x=-1;for(let E=0;E<h;E++){const A=a?d[f][E]:d[E][f];A===x?y++:(y>=5&&(l+=Tt.N1+(y-5)),y=1,x=A)}y>=5&&(l+=Tt.N1+(y-5))}return l}}Tt.N1=3,Tt.N2=3,Tt.N3=40,Tt.N4=10;class _u{constructor(i,a){this.width=i,this.height=a;const l=new Array(a);for(let u=0;u!==a;u++)l[u]=new Uint8Array(i);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(i,a){return this.bytes[a][i]}getArray(){return this.bytes}setNumber(i,a,l){this.bytes[a][i]=l}setBoolean(i,a,l){this.bytes[a][i]=l?1:0}clear(i){for(const a of this.bytes)S.fill(a,i)}equals(i){if(!(i instanceof _u))return!1;const a=i;if(this.width!==a.width||this.height!==a.height)return!1;for(let l=0,u=this.height;l<u;++l){const h=this.bytes[l],d=a.bytes[l];for(let f=0,y=this.width;f<y;++f)if(h[f]!==d[f])return!1}return!0}toString(){const i=new Oe;for(let a=0,l=this.height;a<l;++a){const u=this.bytes[a];for(let h=0,d=this.width;h<d;++h)switch(u[h]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class Us{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new Oe;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<Us.NUM_MASK_PATTERNS}}Us.NUM_MASK_PATTERNS=8;class rt extends p{}rt.kind="WriterException";class me{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,a,l,u,h){me.clearMatrix(h),me.embedBasicPatterns(l,h),me.embedTypeInfo(a,u,h),me.maybeEmbedVersionInfo(l,h),me.embedDataBits(i,u,h)}static embedBasicPatterns(i,a){me.embedPositionDetectionPatternsAndSeparators(a),me.embedDarkDotAtLeftBottomCorner(a),me.maybeEmbedPositionAdjustmentPatterns(i,a),me.embedTimingPatterns(a)}static embedTypeInfo(i,a,l){const u=new B;me.makeTypeInfoBits(i,a,u);for(let h=0,d=u.getSize();h<d;++h){const f=u.get(u.getSize()-1-h),y=me.TYPE_INFO_COORDINATES[h],x=y[0],E=y[1];if(l.setBoolean(x,E,f),h<8){const A=l.getWidth()-h-1,T=8;l.setBoolean(A,T,f)}else{const T=l.getHeight()-7+(h-8);l.setBoolean(8,T,f)}}}static maybeEmbedVersionInfo(i,a){if(i.getVersionNumber()<7)return;const l=new B;me.makeVersionInfoBits(i,l);let u=6*3-1;for(let h=0;h<6;++h)for(let d=0;d<3;++d){const f=l.get(u);u--,a.setBoolean(h,a.getHeight()-11+d,f),a.setBoolean(a.getHeight()-11+d,h,f)}}static embedDataBits(i,a,l){let u=0,h=-1,d=l.getWidth()-1,f=l.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);f>=0&&f<l.getHeight();){for(let y=0;y<2;++y){const x=d-y;if(!me.isEmpty(l.get(x,f)))continue;let E;u<i.getSize()?(E=i.get(u),++u):E=!1,a!==255&&Tt.getDataMaskBit(a,x,f)&&(E=!E),l.setBoolean(x,f,E)}f+=h}h=-h,f+=h,d-=2}if(u!==i.getSize())throw new rt("Not all bits consumed: "+u+"/"+i.getSize())}static findMSBSet(i){return 32-O.numberOfLeadingZeros(i)}static calculateBCHCode(i,a){if(a===0)throw new v("0 polynomial");const l=me.findMSBSet(a);for(i<<=l-1;me.findMSBSet(i)>=l;)i^=a<<me.findMSBSet(i)-l;return i}static makeTypeInfoBits(i,a,l){if(!Us.isValidMaskPattern(a))throw new rt("Invalid mask pattern");const u=i.getBits()<<3|a;l.appendBits(u,5);const h=me.calculateBCHCode(u,me.TYPE_INFO_POLY);l.appendBits(h,10);const d=new B;if(d.appendBits(me.TYPE_INFO_MASK_PATTERN,15),l.xor(d),l.getSize()!==15)throw new rt("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(i,a){a.appendBits(i.getVersionNumber(),6);const l=me.calculateBCHCode(i.getVersionNumber(),me.VERSION_INFO_POLY);if(a.appendBits(l,12),a.getSize()!==18)throw new rt("should not happen but we got: "+a.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let a=8;a<i.getWidth()-8;++a){const l=(a+1)%2;me.isEmpty(i.get(a,6))&&i.setNumber(a,6,l),me.isEmpty(i.get(6,a))&&i.setNumber(6,a,l)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new rt;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,a,l){for(let u=0;u<8;++u){if(!me.isEmpty(l.get(i+u,a)))throw new rt;l.setNumber(i+u,a,0)}}static embedVerticalSeparationPattern(i,a,l){for(let u=0;u<7;++u){if(!me.isEmpty(l.get(i,a+u)))throw new rt;l.setNumber(i,a+u,0)}}static embedPositionAdjustmentPattern(i,a,l){for(let u=0;u<5;++u){const h=me.POSITION_ADJUSTMENT_PATTERN[u];for(let d=0;d<5;++d)l.setNumber(i+d,a+u,h[d])}}static embedPositionDetectionPattern(i,a,l){for(let u=0;u<7;++u){const h=me.POSITION_DETECTION_PATTERN[u];for(let d=0;d<7;++d)l.setNumber(i+d,a+u,h[d])}}static embedPositionDetectionPatternsAndSeparators(i){const a=me.POSITION_DETECTION_PATTERN[0].length;me.embedPositionDetectionPattern(0,0,i),me.embedPositionDetectionPattern(i.getWidth()-a,0,i),me.embedPositionDetectionPattern(0,i.getWidth()-a,i);const l=8;me.embedHorizontalSeparationPattern(0,l-1,i),me.embedHorizontalSeparationPattern(i.getWidth()-l,l-1,i),me.embedHorizontalSeparationPattern(0,i.getWidth()-l,i);const u=7;me.embedVerticalSeparationPattern(u,0,i),me.embedVerticalSeparationPattern(i.getHeight()-u-1,0,i),me.embedVerticalSeparationPattern(u,i.getHeight()-u,i)}static maybeEmbedPositionAdjustmentPatterns(i,a){if(i.getVersionNumber()<2)return;const l=i.getVersionNumber()-1,u=me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let h=0,d=u.length;h!==d;h++){const f=u[h];if(f>=0)for(let y=0;y!==d;y++){const x=u[y];x>=0&&me.isEmpty(a.get(x,f))&&me.embedPositionAdjustmentPattern(x-2,f-2,a)}}}}me.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),me.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),me.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),me.VERSION_INFO_POLY=7973,me.TYPE_INFO_POLY=1335,me.TYPE_INFO_MASK_PATTERN=21522;class xI{constructor(i,a){this.dataBytes=i,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class lt{constructor(){}static calculateMaskPenalty(i){return Tt.applyMaskPenaltyRule1(i)+Tt.applyMaskPenaltyRule2(i)+Tt.applyMaskPenaltyRule3(i)+Tt.applyMaskPenaltyRule4(i)}static encode(i,a,l=null){let u=lt.DEFAULT_BYTE_MODE_ENCODING;const h=l!==null&&l.get(Gt.CHARACTER_SET)!==void 0;h&&(u=l.get(Gt.CHARACTER_SET).toString());const d=this.chooseMode(i,u),f=new B;if(d===pe.BYTE&&(h||lt.DEFAULT_BYTE_MODE_ENCODING!==u)){const te=$.getCharacterSetECIByName(u);te!==void 0&&this.appendECI(te,f)}this.appendModeInfo(d,f);const y=new B;this.appendBytes(i,d,y,u);let x;if(l!==null&&l.get(Gt.QR_VERSION)!==void 0){const te=Number.parseInt(l.get(Gt.QR_VERSION).toString(),10);x=fe.getVersionForNumber(te);const q=this.calculateBitsNeeded(d,f,y,x);if(!this.willFit(q,x,a))throw new rt("Data too big for requested version")}else x=this.recommendVersion(a,d,f,y);const E=new B;E.appendBitArray(f);const A=d===pe.BYTE?y.getSizeInBytes():i.length;this.appendLengthInfo(A,x,d,E),E.appendBitArray(y);const T=x.getECBlocksForLevel(a),N=x.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(N,E);const P=this.interleaveWithECBytes(E,x.getTotalCodewords(),N,T.getNumBlocks()),L=new Us;L.setECLevel(a),L.setMode(d),L.setVersion(x);const j=x.getDimensionForVersion(),H=new _u(j,j),ee=this.chooseMaskPattern(P,a,x,H);return L.setMaskPattern(ee),me.buildMatrix(P,a,x,ee,H),L.setMatrix(H),L}static recommendVersion(i,a,l,u){const h=this.calculateBitsNeeded(a,l,u,fe.getVersionForNumber(1)),d=this.chooseVersion(h,i),f=this.calculateBitsNeeded(a,l,u,d);return this.chooseVersion(f,i)}static calculateBitsNeeded(i,a,l,u){return a.getSize()+i.getCharacterCountBits(u)+l.getSize()}static getAlphanumericCode(i){return i<lt.ALPHANUMERIC_TABLE.length?lt.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,a=null){if($.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(i))return pe.KANJI;let l=!1,u=!1;for(let h=0,d=i.length;h<d;++h){const f=i.charAt(h);if(lt.isDigit(f))l=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)u=!0;else return pe.BYTE}return u?pe.ALPHANUMERIC:l?pe.NUMERIC:pe.BYTE}static isOnlyDoubleByteKanji(i){let a;try{a=Me.encode(i,$.SJIS)}catch{return!1}const l=a.length;if(l%2!==0)return!1;for(let u=0;u<l;u+=2){const h=a[u]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(i,a,l,u){let h=Number.MAX_SAFE_INTEGER,d=-1;for(let f=0;f<Us.NUM_MASK_PATTERNS;f++){me.buildMatrix(i,a,l,f,u);let y=this.calculateMaskPenalty(u);y<h&&(h=y,d=f)}return d}static chooseVersion(i,a){for(let l=1;l<=40;l++){const u=fe.getVersionForNumber(l);if(lt.willFit(i,u,a))return u}throw new rt("Data too big")}static willFit(i,a,l){const u=a.getTotalCodewords(),d=a.getECBlocksForLevel(l).getTotalECCodewords(),f=u-d,y=(i+7)/8;return f>=y}static terminateBits(i,a){const l=i*8;if(a.getSize()>l)throw new rt("data bits cannot fit in the QR Code"+a.getSize()+" > "+l);for(let d=0;d<4&&a.getSize()<l;++d)a.appendBit(!1);const u=a.getSize()&7;if(u>0)for(let d=u;d<8;d++)a.appendBit(!1);const h=i-a.getSizeInBytes();for(let d=0;d<h;++d)a.appendBits(d&1?17:236,8);if(a.getSize()!==l)throw new rt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,a,l,u,h,d){if(u>=l)throw new rt("Block ID too large");const f=i%l,y=l-f,x=Math.floor(i/l),E=x+1,A=Math.floor(a/l),T=A+1,N=x-A,P=E-T;if(N!==P)throw new rt("EC bytes mismatch");if(l!==y+f)throw new rt("RS blocks mismatch");if(i!==(A+N)*y+(T+P)*f)throw new rt("Total bytes mismatch");u<y?(h[0]=A,d[0]=N):(h[0]=T,d[0]=P)}static interleaveWithECBytes(i,a,l,u){if(i.getSizeInBytes()!==l)throw new rt("Number of bits and data bytes does not match");let h=0,d=0,f=0;const y=new Array;for(let E=0;E<u;++E){const A=new Int32Array(1),T=new Int32Array(1);lt.getNumDataBytesAndNumECBytesForBlockID(a,l,u,E,A,T);const N=A[0],P=new Uint8Array(N);i.toBytes(8*h,P,0,N);const L=lt.generateECBytes(P,T[0]);y.push(new xI(P,L)),d=Math.max(d,N),f=Math.max(f,L.length),h+=A[0]}if(l!==h)throw new rt("Data bytes does not match offset");const x=new B;for(let E=0;E<d;++E)for(const A of y){const T=A.getDataBytes();E<T.length&&x.appendBits(T[E],8)}for(let E=0;E<f;++E)for(const A of y){const T=A.getErrorCorrectionBytes();E<T.length&&x.appendBits(T[E],8)}if(a!==x.getSizeInBytes())throw new rt("Interleaving error: "+a+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(i,a){const l=i.length,u=new Int32Array(l+a);for(let d=0;d<l;d++)u[d]=i[d]&255;new Wf(We.QR_CODE_FIELD_256).encode(u,a);const h=new Uint8Array(a);for(let d=0;d<a;d++)h[d]=u[l+d];return h}static appendModeInfo(i,a){a.appendBits(i.getBits(),4)}static appendLengthInfo(i,a,l,u){const h=l.getCharacterCountBits(a);if(i>=1<<h)throw new rt(i+" is bigger than "+((1<<h)-1));u.appendBits(i,h)}static appendBytes(i,a,l,u){switch(a){case pe.NUMERIC:lt.appendNumericBytes(i,l);break;case pe.ALPHANUMERIC:lt.appendAlphanumericBytes(i,l);break;case pe.BYTE:lt.append8BitBytes(i,l,u);break;case pe.KANJI:lt.appendKanjiBytes(i,l);break;default:throw new rt("Invalid mode: "+a)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const a=lt.getDigit(i);return a>=0&&a<=9}static appendNumericBytes(i,a){const l=i.length;let u=0;for(;u<l;){const h=lt.getDigit(i.charAt(u));if(u+2<l){const d=lt.getDigit(i.charAt(u+1)),f=lt.getDigit(i.charAt(u+2));a.appendBits(h*100+d*10+f,10),u+=3}else if(u+1<l){const d=lt.getDigit(i.charAt(u+1));a.appendBits(h*10+d,7),u+=2}else a.appendBits(h,4),u++}}static appendAlphanumericBytes(i,a){const l=i.length;let u=0;for(;u<l;){const h=lt.getAlphanumericCode(i.charCodeAt(u));if(h===-1)throw new rt;if(u+1<l){const d=lt.getAlphanumericCode(i.charCodeAt(u+1));if(d===-1)throw new rt;a.appendBits(h*45+d,11),u+=2}else a.appendBits(h,6),u++}}static append8BitBytes(i,a,l){let u;try{u=Me.encode(i,l)}catch(h){throw new rt(h)}for(let h=0,d=u.length;h!==d;h++){const f=u[h];a.appendBits(f,8)}}static appendKanjiBytes(i,a){let l;try{l=Me.encode(i,$.SJIS)}catch(h){throw new rt(h)}const u=l.length;for(let h=0;h<u;h+=2){const d=l[h]&255,f=l[h+1]&255,y=d<<8&4294967295|f;let x=-1;if(y>=33088&&y<=40956?x=y-33088:y>=57408&&y<=60351&&(x=y-49472),x===-1)throw new rt("Invalid byte sequence");const E=(x>>8)*192+(x&255);a.appendBits(E,13)}}static appendECI(i,a){a.appendBits(pe.ECI.getBits(),4),a.appendBits(i.getValue(),8)}}lt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),lt.DEFAULT_BYTE_MODE_ENCODING=$.UTF8.getName();class js{write(i,a,l,u=null){if(i.length===0)throw new v("Found empty contents");if(a<0||l<0)throw new v("Requested dimensions are too small: "+a+"x"+l);let h=ot.L,d=js.QUIET_ZONE_SIZE;u!==null&&(u.get(Gt.ERROR_CORRECTION)!==void 0&&(h=ot.fromString(u.get(Gt.ERROR_CORRECTION).toString())),u.get(Gt.MARGIN)!==void 0&&(d=Number.parseInt(u.get(Gt.MARGIN).toString(),10)));const f=lt.encode(i,h,u);return this.renderResult(f,a,l,d)}writeToDom(i,a,l,u,h=null){typeof i=="string"&&(i=document.querySelector(i));const d=this.write(a,l,u,h);i&&i.appendChild(d)}renderResult(i,a,l,u){const h=i.getMatrix();if(h===null)throw new zr;const d=h.getWidth(),f=h.getHeight(),y=d+u*2,x=f+u*2,E=Math.max(a,y),A=Math.max(l,x),T=Math.min(Math.floor(E/y),Math.floor(A/x)),N=Math.floor((E-d*T)/2),P=Math.floor((A-f*T)/2),L=this.createSVGElement(E,A);for(let j=0,H=P;j<f;j++,H+=T)for(let ee=0,te=N;ee<d;ee++,te+=T)if(h.get(ee,j)===1){const q=this.createSvgRectElement(te,H,T,T);L.appendChild(q)}return L}createSVGElement(i,a){const l=document.createElementNS(js.SVG_NS,"svg");return l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",a.toString()),l}createSvgRectElement(i,a,l,u){const h=document.createElementNS(js.SVG_NS,"rect");return h.setAttributeNS(null,"x",i.toString()),h.setAttributeNS(null,"y",a.toString()),h.setAttributeNS(null,"height",l.toString()),h.setAttributeNS(null,"width",u.toString()),h.setAttributeNS(null,"fill","#000000"),h}}js.QUIET_ZONE_SIZE=4,js.SVG_NS="http://www.w3.org/2000/svg";class ko{encode(i,a,l,u,h){if(i.length===0)throw new v("Found empty contents");if(a!==de.QR_CODE)throw new v("Can only encode QR_CODE, but got "+a);if(l<0||u<0)throw new v(`Requested dimensions are too small: ${l}x${u}`);let d=ot.L,f=ko.QUIET_ZONE_SIZE;h!==null&&(h.get(Gt.ERROR_CORRECTION)!==void 0&&(d=ot.fromString(h.get(Gt.ERROR_CORRECTION).toString())),h.get(Gt.MARGIN)!==void 0&&(f=Number.parseInt(h.get(Gt.MARGIN).toString(),10)));const y=lt.encode(i,d,h);return ko.renderResult(y,l,u,f)}static renderResult(i,a,l,u){const h=i.getMatrix();if(h===null)throw new zr;const d=h.getWidth(),f=h.getHeight(),y=d+u*2,x=f+u*2,E=Math.max(a,y),A=Math.max(l,x),T=Math.min(Math.floor(E/y),Math.floor(A/x)),N=Math.floor((E-d*T)/2),P=Math.floor((A-f*T)/2),L=new yt(E,A);for(let j=0,H=P;j<f;j++,H+=T)for(let ee=0,te=N;ee<d;ee++,te+=T)h.get(ee,j)===1&&L.setRegion(te,H,T,T);return L}}ko.QUIET_ZONE_SIZE=4;class wI{encode(i,a,l,u,h){let d;switch(a){case de.QR_CODE:d=new ko;break;default:throw new v("No encoder available for format "+a)}return d.encode(i,a,l,u,h)}}class Gr extends oe{constructor(i,a,l,u,h,d,f,y){if(super(d,f),this.yuvData=i,this.dataWidth=a,this.dataHeight=l,this.left=u,this.top=h,u+d>a||h+f>l)throw new v("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(d,f)}getRow(i,a){if(i<0||i>=this.getHeight())throw new v("Requested row is outside the image: "+i);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const u=(i+this.top)*this.dataWidth+this.left;return D.arraycopy(this.yuvData,u,a,0,l),a}getMatrix(){const i=this.getWidth(),a=this.getHeight();if(i===this.dataWidth&&a===this.dataHeight)return this.yuvData;const l=i*a,u=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return D.arraycopy(this.yuvData,h,u,0,l),u;for(let d=0;d<a;d++){const f=d*i;D.arraycopy(this.yuvData,h,u,f,i),h+=this.dataWidth}return u}isCropSupported(){return!0}crop(i,a,l,u){return new Gr(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+a,l,u,!1)}renderThumbnail(){const i=this.getWidth()/Gr.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/Gr.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(i*a),u=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let d=0;d<a;d++){const f=d*i;for(let y=0;y<i;y++){const x=u[h+y*Gr.THUMBNAIL_SCALE_FACTOR]&255;l[f+y]=4278190080|x*65793}h+=this.dataWidth*Gr.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/Gr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Gr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,a){const l=this.yuvData;for(let u=0,h=this.top*this.dataWidth+this.left;u<a;u++,h+=this.dataWidth){const d=h+i/2;for(let f=h,y=h+i-1;f<d;f++,y--){const x=l[f];l[f]=l[y],l[y]=x}}}invert(){return new ye(this)}}Gr.THUMBNAIL_SCALE_FACTOR=2;class $f extends oe{constructor(i,a,l,u,h,d,f){if(super(a,l),this.dataWidth=u,this.dataHeight=h,this.left=d,this.top=f,i.BYTES_PER_ELEMENT===4){const y=a*l,x=new Uint8ClampedArray(y);for(let E=0;E<y;E++){const A=i[E],T=A>>16&255,N=A>>7&510,P=A&255;x[E]=(T+N+P)/4&255}this.luminances=x}else this.luminances=i;if(u===void 0&&(this.dataWidth=a),h===void 0&&(this.dataHeight=l),d===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+l>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(i,a){if(i<0||i>=this.getHeight())throw new v("Requested row is outside the image: "+i);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const u=(i+this.top)*this.dataWidth+this.left;return D.arraycopy(this.luminances,u,a,0,l),a}getMatrix(){const i=this.getWidth(),a=this.getHeight();if(i===this.dataWidth&&a===this.dataHeight)return this.luminances;const l=i*a,u=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return D.arraycopy(this.luminances,h,u,0,l),u;for(let d=0;d<a;d++){const f=d*i;D.arraycopy(this.luminances,h,u,f,i),h+=this.dataWidth}return u}isCropSupported(){return!0}crop(i,a,l,u){return new $f(this.luminances,l,u,this.dataWidth,this.dataHeight,this.left+i,this.top+a)}invert(){return new ye(this)}}class u2 extends ${static forName(i){return this.getCharacterSetECIByName(i)}}class Gf{}Gf.ISO_8859_1=$.ISO8859_1;class h2{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class d2{static singletonList(i){return[i]}static min(i,a){return i.sort(a)[0]}}class EI{constructor(i){this.previous=i}getPrevious(){return this.previous}}class Do extends EI{constructor(i,a,l){super(i),this.value=a,this.bitCount=l}appendTo(i,a){i.appendBits(this.value,this.bitCount)}add(i,a){return new Do(this,i,a)}addBinaryShift(i,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Do(this,i,a)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+O.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class Xf extends Do{constructor(i,a,l){super(i,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=l}appendTo(i,a){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):l===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(a[this.binaryShiftStart+l],8)}addBinaryShift(i,a){return new Xf(this,i,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function vI(C,i,a){return new Xf(C,i,a)}function cl(C,i,a){return new Do(C,i,a)}const _I=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Xi=0,Cu=1,vr=2,f2=3,Xr=4,CI=new Do(null,0,0),Yf=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function AI(C){for(let i of C)S.fill(i,-1);return C[Xi][Xr]=0,C[Cu][Xr]=0,C[Cu][Xi]=28,C[f2][Xr]=0,C[vr][Xr]=0,C[vr][Xi]=15,C}const g2=AI(S.createInt32Array(6,6));class Yr{constructor(i,a,l,u){this.token=i,this.mode=a,this.binaryShiftByteCount=l,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,a){let l=this.bitCount,u=this.token;if(i!==this.mode){let d=Yf[this.mode][i];u=cl(u,d&65535,d>>16),l+=d>>16}let h=i===vr?4:5;return u=cl(u,a,h),new Yr(u,i,0,l+h)}shiftAndAppend(i,a){let l=this.token,u=this.mode===vr?4:5;return l=cl(l,g2[this.mode][i],u),l=cl(l,a,5),new Yr(l,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(i){let a=this.token,l=this.mode,u=this.bitCount;if(this.mode===Xr||this.mode===vr){let f=Yf[l][Xi];a=cl(a,f&65535,f>>16),u+=f>>16,l=Xi}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new Yr(a,l,this.binaryShiftByteCount+1,u+h);return d.binaryShiftByteCount===2047+31&&(d=d.endBinaryShift(i+1)),d}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=vI(a,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new Yr(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let a=this.bitCount+(Yf[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?a+=Yr.calculateBinaryShiftCost(i)-Yr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(a+=10),a<=i.bitCount}toBitArray(i){let a=[];for(let u=this.endBinaryShift(i.length).token;u!==null;u=u.getPrevious())a.unshift(u);let l=new B;for(const u of a)u.appendTo(l,i);return l}toString(){return ge.format("%s bits=%d bytes=%d",_I[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}Yr.INITIAL_STATE=new Yr(CI,Xi,0,0);function II(C){const i=ge.getCharCode(" "),a=ge.getCharCode("."),l=ge.getCharCode(",");C[Xi][i]=1;const u=ge.getCharCode("Z"),h=ge.getCharCode("A");for(let T=h;T<=u;T++)C[Xi][T]=T-h+2;C[Cu][i]=1;const d=ge.getCharCode("z"),f=ge.getCharCode("a");for(let T=f;T<=d;T++)C[Cu][T]=T-f+2;C[vr][i]=1;const y=ge.getCharCode("9"),x=ge.getCharCode("0");for(let T=x;T<=y;T++)C[vr][T]=T-x+2;C[vr][l]=12,C[vr][a]=13;const E=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let T=0;T<E.length;T++)C[f2][ge.getCharCode(E[T])]=T;const A=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let T=0;T<A.length;T++)ge.getCharCode(A[T])>0&&(C[Xr][ge.getCharCode(A[T])]=T);return C}const Kf=II(S.createInt32Array(5,256));class ul{constructor(i){this.text=i}encode(){const i=ge.getCharCode(" "),a=ge.getCharCode(`
`);let l=d2.singletonList(Yr.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let d,f=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case ge.getCharCode("\r"):d=f===a?2:0;break;case ge.getCharCode("."):d=f===i?3:0;break;case ge.getCharCode(","):d=f===i?4:0;break;case ge.getCharCode(":"):d=f===i?5:0;break;default:d=0}d>0?(l=ul.updateStateListForPair(l,h,d),h++):l=this.updateStateListForChar(l,h)}return d2.min(l,(h,d)=>h.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,a){const l=[];for(let u of i)this.updateStateForChar(u,a,l);return ul.simplifyStates(l)}updateStateForChar(i,a,l){let u=this.text[a]&255,h=Kf[i.getMode()][u]>0,d=null;for(let f=0;f<=Xr;f++){let y=Kf[f][u];if(y>0){if(d==null&&(d=i.endBinaryShift(a)),!h||f===i.getMode()||f===vr){const x=d.latchAndAppend(f,y);l.push(x)}if(!h&&g2[i.getMode()][f]>=0){const x=d.shiftAndAppend(f,y);l.push(x)}}}if(i.getBinaryShiftByteCount()>0||Kf[i.getMode()][u]===0){let f=i.addBinaryShiftChar(a);l.push(f)}}static updateStateListForPair(i,a,l){const u=[];for(let h of i)this.updateStateForPair(h,a,l,u);return this.simplifyStates(u)}static updateStateForPair(i,a,l,u){let h=i.endBinaryShift(a);if(u.push(h.latchAndAppend(Xr,l)),i.getMode()!==Xr&&u.push(h.shiftAndAppend(Xr,l)),l===3||l===4){let d=h.latchAndAppend(vr,16-l).latchAndAppend(vr,1);u.push(d)}if(i.getBinaryShiftByteCount()>0){let d=i.addBinaryShiftChar(a).addBinaryShiftChar(a+1);u.push(d)}}static simplifyStates(i){let a=[];for(const l of i){let u=!0;for(const h of a){if(h.isBetterThanOrEqualTo(l)){u=!1;break}l.isBetterThanOrEqualTo(h)&&(a=a.filter(d=>d!==h))}u&&a.push(l)}return a}}class je{constructor(){}static encodeBytes(i){return je.encode(i,je.DEFAULT_EC_PERCENT,je.DEFAULT_AZTEC_LAYERS)}static encode(i,a,l){let u=new ul(i).encode(),h=O.truncDivision(u.getSize()*a,100)+11,d=u.getSize()+h,f,y,x,E,A;if(l!==je.DEFAULT_AZTEC_LAYERS){if(f=l<0,y=Math.abs(l),y>(f?je.MAX_NB_BITS_COMPACT:je.MAX_NB_BITS))throw new v(ge.format("Illegal value %s for layers",l));x=je.totalBitsInLayer(y,f),E=je.WORD_SIZE[y];let q=x-x%E;if(A=je.stuffBits(u,E),A.getSize()+h>q)throw new v("Data to large for user specified layer");if(f&&A.getSize()>E*64)throw new v("Data to large for user specified layer")}else{E=0,A=null;for(let q=0;;q++){if(q>je.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(f=q<=3,y=f?q+1:q,x=je.totalBitsInLayer(y,f),d>x)continue;(A==null||E!==je.WORD_SIZE[y])&&(E=je.WORD_SIZE[y],A=je.stuffBits(u,E));let ke=x-x%E;if(!(f&&A.getSize()>E*64)&&A.getSize()+h<=ke)break}}let T=je.generateCheckWords(A,x,E),N=A.getSize()/E,P=je.generateModeMessage(f,y,N),L=(f?11:14)+y*4,j=new Int32Array(L),H;if(f){H=L;for(let q=0;q<j.length;q++)j[q]=q}else{H=L+1+2*O.truncDivision(O.truncDivision(L,2)-1,15);let q=O.truncDivision(L,2),ke=O.truncDivision(H,2);for(let Te=0;Te<q;Te++){let Gn=Te+O.truncDivision(Te,15);j[q-Te-1]=ke-Gn-1,j[q+Te]=ke+Gn+1}}let ee=new yt(H);for(let q=0,ke=0;q<y;q++){let Te=(y-q)*4+(f?9:12);for(let Gn=0;Gn<Te;Gn++){let Or=Gn*2;for(let Xn=0;Xn<2;Xn++)T.get(ke+Or+Xn)&&ee.set(j[q*2+Xn],j[q*2+Gn]),T.get(ke+Te*2+Or+Xn)&&ee.set(j[q*2+Gn],j[L-1-q*2-Xn]),T.get(ke+Te*4+Or+Xn)&&ee.set(j[L-1-q*2-Xn],j[L-1-q*2-Gn]),T.get(ke+Te*6+Or+Xn)&&ee.set(j[L-1-q*2-Gn],j[q*2+Xn])}ke+=Te*8}if(je.drawModeMessage(ee,f,H,P),f)je.drawBullsEye(ee,O.truncDivision(H,2),5);else{je.drawBullsEye(ee,O.truncDivision(H,2),7);for(let q=0,ke=0;q<O.truncDivision(L,2)-1;q+=15,ke+=16)for(let Te=O.truncDivision(H,2)&1;Te<H;Te+=2)ee.set(O.truncDivision(H,2)-ke,Te),ee.set(O.truncDivision(H,2)+ke,Te),ee.set(Te,O.truncDivision(H,2)-ke),ee.set(Te,O.truncDivision(H,2)+ke)}let te=new h2;return te.setCompact(f),te.setSize(H),te.setLayers(y),te.setCodeWords(N),te.setMatrix(ee),te}static drawBullsEye(i,a,l){for(let u=0;u<l;u+=2)for(let h=a-u;h<=a+u;h++)i.set(h,a-u),i.set(h,a+u),i.set(a-u,h),i.set(a+u,h);i.set(a-l,a-l),i.set(a-l+1,a-l),i.set(a-l,a-l+1),i.set(a+l,a-l),i.set(a+l,a-l+1),i.set(a+l,a+l-1)}static generateModeMessage(i,a,l){let u=new B;return i?(u.appendBits(a-1,2),u.appendBits(l-1,6),u=je.generateCheckWords(u,28,4)):(u.appendBits(a-1,5),u.appendBits(l-1,11),u=je.generateCheckWords(u,40,4)),u}static drawModeMessage(i,a,l,u){let h=O.truncDivision(l,2);if(a)for(let d=0;d<7;d++){let f=h-3+d;u.get(d)&&i.set(f,h-5),u.get(d+7)&&i.set(h+5,f),u.get(20-d)&&i.set(f,h+5),u.get(27-d)&&i.set(h-5,f)}else for(let d=0;d<10;d++){let f=h-5+d+O.truncDivision(d,5);u.get(d)&&i.set(f,h-7),u.get(d+10)&&i.set(h+7,f),u.get(29-d)&&i.set(f,h+7),u.get(39-d)&&i.set(h-7,f)}}static generateCheckWords(i,a,l){let u=i.getSize()/l,h=new Wf(je.getGF(l)),d=O.truncDivision(a,l),f=je.bitsToWords(i,l,d);h.encode(f,d-u);let y=a%l,x=new B;x.appendBits(0,y);for(const E of Array.from(f))x.appendBits(E,l);return x}static bitsToWords(i,a,l){let u=new Int32Array(l),h,d;for(h=0,d=i.getSize()/a;h<d;h++){let f=0;for(let y=0;y<a;y++)f|=i.get(h*a+y)?1<<a-y-1:0;u[h]=f}return u}static getGF(i){switch(i){case 4:return We.AZTEC_PARAM;case 6:return We.AZTEC_DATA_6;case 8:return We.AZTEC_DATA_8;case 10:return We.AZTEC_DATA_10;case 12:return We.AZTEC_DATA_12;default:throw new v("Unsupported word size "+i)}}static stuffBits(i,a){let l=new B,u=i.getSize(),h=(1<<a)-2;for(let d=0;d<u;d+=a){let f=0;for(let y=0;y<a;y++)(d+y>=u||i.get(d+y))&&(f|=1<<a-1-y);(f&h)===h?(l.appendBits(f&h,a),d--):f&h?l.appendBits(f,a):(l.appendBits(f|1,a),d--)}return l}static totalBitsInLayer(i,a){return((a?88:112)+16*i)*i}}je.DEFAULT_EC_PERCENT=33,je.DEFAULT_AZTEC_LAYERS=0,je.MAX_NB_BITS=32,je.MAX_NB_BITS_COMPACT=4,je.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Au{encode(i,a,l,u){return this.encodeWithHints(i,a,l,u,null)}encodeWithHints(i,a,l,u,h){let d=Gf.ISO_8859_1,f=je.DEFAULT_EC_PERCENT,y=je.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(Gt.CHARACTER_SET)&&(d=u2.forName(h.get(Gt.CHARACTER_SET).toString())),h.has(Gt.ERROR_CORRECTION)&&(f=O.parseInt(h.get(Gt.ERROR_CORRECTION).toString())),h.has(Gt.AZTEC_LAYERS)&&(y=O.parseInt(h.get(Gt.AZTEC_LAYERS).toString()))),Au.encodeLayers(i,a,l,u,d,f,y)}static encodeLayers(i,a,l,u,h,d,f){if(a!==de.AZTEC)throw new v("Can only encode AZTEC, but got "+a);let y=je.encode(ge.getBytes(i,h),d,f);return Au.renderResult(y,l,u)}static renderResult(i,a,l){let u=i.getMatrix();if(u==null)throw new zr;let h=u.getWidth(),d=u.getHeight(),f=Math.max(a,h),y=Math.max(l,d),x=Math.min(f/h,y/d),E=(f-h*x)/2,A=(y-d*x)/2,T=new yt(f,y);for(let N=0,P=A;N<d;N++,P+=x)for(let L=0,j=E;L<h;L++,j+=x)u.get(L,N)&&T.setRegion(j,P,x,x);return T}}n.AbstractExpandedDecoder=Mf,n.ArgumentException=w,n.ArithmeticException=du,n.AztecCode=h2,n.AztecCodeReader=pu,n.AztecCodeWriter=Au,n.AztecDecoder=st,n.AztecDetector=Qm,n.AztecDetectorResult=Km,n.AztecEncoder=je,n.AztecHighLevelEncoder=ul,n.AztecPoint=kn,n.BarcodeFormat=de,n.Binarizer=M,n.BinaryBitmap=I,n.BitArray=B,n.BitMatrix=yt,n.BitSource=Ff,n.BrowserAztecCodeReader=Q3,n.BrowserBarcodeReader=nI,n.BrowserCodeReader=yr,n.BrowserDatamatrixCodeReader=iI,n.BrowserMultiFormatReader=pI,n.BrowserPDF417Reader=mI,n.BrowserQRCodeReader=yI,n.BrowserQRCodeSvgWriter=js,n.CharacterSetECI=$,n.ChecksumException=R,n.Code128Reader=ne,n.Code39Reader=Wt,n.DataMatrixDecodedBitStreamParser=Hi,n.DataMatrixReader=Wi,n.DecodeHintType=G,n.DecoderResult=Ja,n.DefaultGridSampler=qm,n.DetectorResult=gu,n.EAN13Reader=Ps,n.EncodeHintType=Gt,n.Exception=p,n.FormatException=F,n.GenericGF=We,n.GenericGFPoly=zn,n.GlobalHistogramBinarizer=Ct,n.GridSampler=Rf,n.GridSamplerInstance=Vi,n.HTMLCanvasElementLuminanceSource=ve,n.HybridBinarizer=Ae,n.ITFReader=nt,n.IllegalArgumentException=v,n.IllegalStateException=zr,n.InvertedLuminanceSource=ye,n.LuminanceSource=oe,n.MathUtils=Ue,n.MultiFormatOneDReader=Ro,n.MultiFormatReader=c2,n.MultiFormatWriter=wI,n.NotFoundException=W,n.OneDReader=Ft,n.PDF417DecodedBitStreamParser=z,n.PDF417DecoderErrorCorrection=r2,n.PDF417Reader=ln,n.PDF417ResultMetadata=s2,n.PerspectiveTransform=Nr,n.PlanarYUVLuminanceSource=Gr,n.QRCodeByteMatrix=_u,n.QRCodeDataMask=wr,n.QRCodeDecodedBitStreamParser=wt,n.QRCodeDecoderErrorCorrectionLevel=ot,n.QRCodeDecoderFormatInformation=xn,n.QRCodeEncoder=lt,n.QRCodeEncoderQRCode=Us,n.QRCodeMaskUtil=Tt,n.QRCodeMatrixUtil=me,n.QRCodeMode=pe,n.QRCodeReader=$i,n.QRCodeVersion=fe,n.QRCodeWriter=ko,n.RGBLuminanceSource=$f,n.RSS14Reader=It,n.RSSExpandedReader=Y,n.ReaderException=vu,n.ReedSolomonDecoder=tl,n.ReedSolomonEncoder=Wf,n.ReedSolomonException=To,n.Result=xt,n.ResultMetadataType=Qt,n.ResultPoint=ue,n.StringUtils=ge,n.UnsupportedOperationException=se,n.VideoInputDevice=ft,n.WhiteRectangleDetector=xi,n.WriterException=rt,n.ZXingArrays=S,n.ZXingCharset=u2,n.ZXingInteger=O,n.ZXingStandardCharsets=Gf,n.ZXingStringBuilder=Oe,n.ZXingStringEncoding=Me,n.ZXingSystem=D,n.createAbstractExpandedDecoder=t2,Object.defineProperty(n,"__esModule",{value:!0})})})(Ng,Ng.exports);var ut=Ng.exports;const vP=Uw(ut),_P=Fw({__proto__:null,default:vP},[ut]);var Sw=function(){function t(e,n,r){if(this.formatMap=new Map([[le.QR_CODE,ut.BarcodeFormat.QR_CODE],[le.AZTEC,ut.BarcodeFormat.AZTEC],[le.CODABAR,ut.BarcodeFormat.CODABAR],[le.CODE_39,ut.BarcodeFormat.CODE_39],[le.CODE_93,ut.BarcodeFormat.CODE_93],[le.CODE_128,ut.BarcodeFormat.CODE_128],[le.DATA_MATRIX,ut.BarcodeFormat.DATA_MATRIX],[le.MAXICODE,ut.BarcodeFormat.MAXICODE],[le.ITF,ut.BarcodeFormat.ITF],[le.EAN_13,ut.BarcodeFormat.EAN_13],[le.EAN_8,ut.BarcodeFormat.EAN_8],[le.PDF_417,ut.BarcodeFormat.PDF_417],[le.RSS_14,ut.BarcodeFormat.RSS_14],[le.RSS_EXPANDED,ut.BarcodeFormat.RSS_EXPANDED],[le.UPC_A,ut.BarcodeFormat.UPC_A],[le.UPC_E,ut.BarcodeFormat.UPC_E],[le.UPC_EAN_EXTENSION,ut.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!_P)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var s=this.createZXingFormats(e),o=new Map;o.set(ut.DecodeHintType.POSSIBLE_FORMATS,s),o.set(ut.DecodeHintType.TRY_HARDER,!1),this.hints=o}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,s){try{r(n.decode(e))}catch(o){s(o)}})},t.prototype.decode=function(e){var n=new ut.MultiFormatReader(this.verbose,this.hints),r=new ut.HTMLCanvasElementLuminanceSource(e),s=new ut.BinaryBitmap(new ut.HybridBinarizer(r)),o=n.decode(s);return{text:o.text,format:W3.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,s){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,s=e;r<s.length;r++){var o=s[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),CP=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function g(w){try{p(r.next(w))}catch(v){c(v)}}function m(w){try{p(r.throw(w))}catch(v){c(v)}}function p(w){w.done?o(w.value):s(w.value).then(g,m)}p((r=r.apply(t,e||[])).next())})},AP=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(p){return function(w){return m([p,w])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(o=p[0]&2?s.return:p[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,p[1])).done)return o;switch(s=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(w){p=[6,w],s=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},bw=function(){function t(e,n,r){if(this.formatMap=new Map([[le.QR_CODE,"qr_code"],[le.AZTEC,"aztec"],[le.CODABAR,"codabar"],[le.CODE_39,"code_39"],[le.CODE_93,"code_93"],[le.CODE_128,"code_128"],[le.DATA_MATRIX,"data_matrix"],[le.ITF,"itf"],[le.EAN_13,"ean_13"],[le.EAN_8,"ean_8"],[le.PDF_417,"pdf417"],[le.UPC_A,"upc_a"],[le.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var s=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return CP(this,void 0,void 0,function(){var n,r;return AP(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=s.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:W3.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,s=0,o=e;s<o.length;s++){var c=o[s],g=c.boundingBox.width*c.boundingBox.height;g>r&&(r=g,n=c)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,s=e;r<s.length;r++){var o=s[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,s){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),Nw=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function g(w){try{p(r.next(w))}catch(v){c(v)}}function m(w){try{p(r.throw(w))}catch(v){c(v)}}function p(w){w.done?o(w.value):s(w.value).then(g,m)}p((r=r.apply(t,e||[])).next())})},Rw=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(p){return function(w){return m([p,w])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(o=p[0]&2?s.return:p[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,p[1])).done)return o;switch(s=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(w){p=[6,w],s=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},IP=function(){function t(e,n,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&bw.isSupported()?(this.primaryDecoder=new bw(e,r,s),this.secondaryDecoder=new Sw(e,r,s)):this.primaryDecoder=new Sw(e,r,s)}return t.prototype.decodeAsync=function(e){return Nw(this,void 0,void 0,function(){var n;return Rw(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return Nw(this,void 0,void 0,function(){var n,r;return Rw(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var s=r[n];e+=s}var o=e/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),Xm=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vd=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function g(w){try{p(r.next(w))}catch(v){c(v)}}function m(w){try{p(r.throw(w))}catch(v){c(v)}}function p(w){w.done?o(w.value):s(w.value).then(g,m)}p((r=r.apply(t,e||[])).next())})},_d=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(p){return function(w){return m([p,w])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(o=p[0]&2?s.return:p[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,p[1])).done)return o;switch(s=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(w){p=[6,w],s=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Y3=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),TP=function(t){Xm(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var s={advanced:[r]};return this.track.applyConstraints(s)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(Y3),SP=function(t){Xm(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(TP),bP=function(t){Xm(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(Y3),NP=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new SP(this.track)},t.prototype.torchFeature=function(){return new bP(this.track)},t}(),RP=function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,s=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,s),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,s){return vd(this,void 0,void 0,function(){var o,c;return _d(this,function(g){switch(g.label){case 0:return o=new t(e,n,s),r.aspectRatio?(c={aspectRatio:r.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:g.sent(),g.label=2;case 2:return o.setupSurface(),[2,o]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return vd(this,void 0,void 0,function(){return _d(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var s=e.mediaStream.getVideoTracks(),o=s.length,c=0;e.mediaStream.getVideoTracks().forEach(function(g){e.mediaStream.removeTrack(g),g.stop(),++c,c>=o&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new NP(this.getFirstTrackOrFail())},t}(),OP=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return vd(this,void 0,void 0,function(){return _d(this,function(s){return[2,RP.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return vd(this,void 0,void 0,function(){var n,r;return _d(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=s.sent(),[2,new t(r)]}})})},t}(),Ow=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function g(w){try{p(r.next(w))}catch(v){c(v)}}function m(w){try{p(r.throw(w))}catch(v){c(v)}}function p(w){w.done?o(w.value):s(w.value).then(g,m)}p((r=r.apply(t,e||[])).next())})},kw=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(p){return function(w){return m([p,w])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(o=p[0]&2?s.return:p[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,p[1])).done)return o;switch(s=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(w){p=[6,w],s=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},kP=function(){function t(){}return t.failIfNotSupported=function(){return Ow(this,void 0,void 0,function(){return kw(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return Ow(this,void 0,void 0,function(){return kw(this,function(n){return[2,OP.create(e)]})})},t}(),DP=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function g(w){try{p(r.next(w))}catch(v){c(v)}}function m(w){try{p(r.throw(w))}catch(v){c(v)}}function p(w){w.done?o(w.value):s(w.value).then(g,m)}p((r=r.apply(t,e||[])).next())})},MP=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(p){return function(w){return m([p,w])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(o=p[0]&2?s.return:p[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,p[1])).done)return o;switch(s=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(w){p=[6,w],s=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},PP=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=aa.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=aa.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return DP(this,void 0,void 0,function(){var e,n,r,s,o,c,g;return MP(this,function(m){switch(m.label){case 0:return e=function(p){for(var w=p.getVideoTracks(),v=0,I=w;v<I.length;v++){var R=I[v];R.enabled=!1,R.stop(),p.removeTrack(R)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=m.sent(),s=[],o=0,c=r;o<c.length;o++)g=c[o],g.kind==="videoinput"&&s.push({id:g.deviceId,label:g.label});return e(n),[2,s]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(o){for(var c=[],g=0,m=o;g<m.length;g++){var p=m[g];p.kind==="video"&&c.push({id:p.id,label:p.label})}e(c)},s=MediaStreamTrack;s.getSources(r)})},t}(),Nt;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Nt||(Nt={}));var LP=function(){function t(){this.state=Nt.NOT_STARTED,this.onGoingTransactionNewState=Nt.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Nt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Nt.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Nt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Nt.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Nt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Nt.UNKNOWN:throw"Transition from unknown is not allowed";case Nt.NOT_STARTED:this.failIfNewStateIs(e,[Nt.PAUSED]);break;case Nt.SCANNING:break;case Nt.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,s=n;r<s.length;r++){var o=s[r];if(e===o)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),BP=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Nt.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Nt.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Nt.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Nt.PAUSED},t}(),FP=function(){function t(){}return t.create=function(){return new BP(new LP)},t}(),UP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ir=function(t){UP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(Pr),jP=function(){function t(e,n){this.logger=n,this.fps=ir.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=ir.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?X3.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Qr(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),Dw=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new G3(this.verbose),this.qrcode=new IP(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=FP.create()}return t.prototype.start=function(e,n,r,s){var o=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;s?c=s:c=this.verbose?this.logger.log:function(){};var g=jP.create(n,this.logger);this.clearElement();var m=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=m,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:ir.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var v=this,I=this.stateManagerProxy.startTransition(Nt.SCANNING);return new Promise(function(R,M){var D=p?g.videoConstraints:v.createVideoConstraints(e);if(!D){I.cancel(),M("videoConstraints should be defined");return}var U={};(!p||g.aspectRatio)&&(U.aspectRatio=g.aspectRatio);var k={onRenderSurfaceReady:function(S,O){v.setupUi(S,O,g),v.isScanning=!0,v.foreverScan(g,r,c)}};kP.failIfNotSupported().then(function(S){S.create(D).then(function(O){return O.render(o.element,U,k).then(function(B){v.renderedCamera=B,I.execute(),R(null)}).catch(function(B){I.cancel(),M(B)})}).catch(function(O){I.cancel(),M(aa.errorGettingUserMedia(O))})}).catch(function(S){I.cancel(),M(aa.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Nt.PAUSED),this.showPausedState(),(Qr(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(Nt.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Nt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var o=document.getElementById(ir.SHADED_REGION_ELEMENT_ID);o&&e.element.removeChild(o)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),n.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Qr(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,o){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var c=new Image;c.onload=function(){var g=c.width,m=c.height,p=document.getElementById(r.elementId),w=p.clientWidth?p.clientWidth:ir.DEFAULT_WIDTH,v=Math.max(p.clientHeight?p.clientHeight:m,ir.FILE_SCAN_MIN_HEIGHT),I=r.computeCanvasDrawConfig(g,m,w,v);if(n){var R=r.createCanvasElement(w,v,"qr-canvas-visible");R.style.display="inline-block",p.appendChild(R);var M=R.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=w,M.canvas.height=v,M.drawImage(c,0,0,g,m,I.x,I.y,I.width,I.height)}var D=ir.FILE_SCAN_HIDDEN_CANVAS_PADDING,U=Math.max(c.width,I.width),k=Math.max(c.height,I.height),S=U+2*D,O=k+2*D,B=r.createCanvasElement(S,O);p.appendChild(B);var X=B.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=S,X.canvas.height=O,X.drawImage(c,0,0,g,m,D,D,U,k);try{r.qrcode.decodeRobustlyAsync(B).then(function(G){s(Iw.createFromQrcodeResult(G))}).catch(o)}catch(G){o("QR code parse error, error = ".concat(G))}},c.onerror=o,c.onabort=o,c.onstalled=o,c.onsuspend=o,c.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return PP.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!X3.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[le.QR_CODE,le.AZTEC,le.CODABAR,le.CODE_39,le.CODE_93,le.CODE_128,le.DATA_MATRIX,le.MAXICODE,le.ITF,le.EAN_13,le.EAN_8,le.PDF_417,le.RSS_14,le.RSS_EXPANDED,le.UPC_A,le.UPC_E,le.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,o=e.formatsToSupport;s<o.length;s++){var c=o[s];wP(c)?r.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Qr(e))return!0;if(!Qr(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Qr(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return Qr(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var s=this,o=r.qrbox;this.validateQrboxConfig(o);var c=this.toQrdimensions(e,n,o),g=function(p){if(p<ir.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ir.MIN_QR_BOX_SIZE,"px.")},m=function(p){return p>e&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=e),p};g(c.width),g(c.height),c.width=m(c.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var s=Qr(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(e,n,s);o.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=r.isShadedBoxEnabled()&&o.height<=n,g={x:0,y:0,width:e,height:n},m=c?this.getShadedRegionBounds(e,n,o):g,p=this.createCanvasElement(m.width,m.height),w={willReadFrequently:!0},v=p.getContext("2d",w);v.canvas.width=m.width,v.canvas.height=m.height,this.element.append(p),c&&this.possiblyInsertShadingElement(this.element,e,n,o),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=v,this.canvasElement=p},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=aa.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return e(s.text,Iw.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var o=aa.codeParseError(s);return n(o,$3.createFrom(o)),!1})},t.prototype.foreverScan=function(e,n,r){var s=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),c=o.videoWidth/o.clientWidth,g=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*c,p=this.qrRegion.height*g,w=this.qrRegion.x*c,v=this.qrRegion.y*g;this.context.drawImage(o,w,v,m,p,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(e,n,r)},s.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(R){!R&&e.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(n,r).finally(function(){I()})):I()}).catch(function(R){s.logger.logError("Error happend while scanning context",R),I()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",s={user:!0,environment:!0},o="exact",c=function(M){if(M in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(M,"'")},g=Object.keys(e);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var m=Object.keys(e)[0];if(m!==n&&m!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(m===n){var p=e.facingMode;if(typeof p=="string"){if(c(p))return{facingMode:p}}else if(typeof p=="object")if(o in p){if(c(p["".concat(o)]))return{facingMode:{exact:p["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var w=typeof p;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var v=e.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(o in v)return{deviceId:{exact:v["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var I=typeof v;throw"Invalid type of 'deviceId' = ".concat(I)}}}var R=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(R)},t.prototype.computeCanvasDrawConfig=function(e,n,r,s){if(e<=r&&n<=s){var o=(r-e)/2,c=(s-n)/2;return{x:o,y:c,width:e,height:n}}else{var g=e,m=n;return e>r&&(n=r/e*n,e=r),n>s&&(e=s/n*e,n=s),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(m)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,s)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?ir.BORDER_SHADER_MATCH_COLOR:ir.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var s=e,o=n,c=document.createElement("canvas");return c.style.width="".concat(s,"px"),c.style.height="".concat(o,"px"),c.style.display="none",c.id=Qr(r)?"qr-canvas":r,c},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,s){if(!(n-s.width<1||r-s.height<1)){var o=document.createElement("div");o.style.position="absolute";var c=(n-s.width)/2,g=(r-s.height)/2;if(o.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(ir.SHADED_REGION_ELEMENT_ID),n-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var m=5,p=40;this.insertShaderBorders(o,p,m,-m,null,0,!0),this.insertShaderBorders(o,p,m,-m,null,0,!1),this.insertShaderBorders(o,p,m,null,-m,0,!0),this.insertShaderBorders(o,p,m,null,-m,0,!1),this.insertShaderBorders(o,m,p+m,-m,null,-m,!0),this.insertShaderBorders(o,m,p+m,null,-m,-m,!0),this.insertShaderBorders(o,m,p+m,-m,null,-m,!1),this.insertShaderBorders(o,m,p+m,null,-m,-m,!1),this.hasBorderShaders=!0}e.append(o)}},t.prototype.insertShaderBorders=function(e,n,r,s,o,c,g){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=ir.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(n,"px"),m.style.height="".concat(r,"px"),s!==null&&(m.style.top="".concat(s,"px")),o!==null&&(m.style.bottom="".concat(o,"px")),g?m.style.left="".concat(c,"px"):m.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),e.appendChild(m)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),Ym="data:image/svg+xml;base64,",VP=Ym+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",zP=Ym+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Mw=Ym+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",HP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Pw=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),WP=function(){function t(){this.data=Pw.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=Pw.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),$P=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Tw.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(s);var o=document.createElement("a");o.innerText=Tw.reportIssues(),o.href="https://github.com/mebjas/html5-qrcode/issues",o.target="new",o.style.color="white",this.infoDiv.appendChild(o),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),GP=function(){function t(e,n){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=n,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Mw,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=HP,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Mw,this.infoIcon.style.opacity="0.6")},t}(),XP=function(){function t(){var e=this;this.infoDiv=new $P,this.infoIcon=new GP(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t}(),YP=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function g(w){try{p(r.next(w))}catch(v){c(v)}}function m(w){try{p(r.throw(w))}catch(v){c(v)}}function p(w){w.done?o(w.value):s(w.value).then(g,m)}p((r=r.apply(t,e||[])).next())})},KP=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(p){return function(w){return m([p,w])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(o=p[0]&2?s.return:p[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,p[1])).done)return o;switch(s=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(w){p=[6,w],s=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Lw=function(){function t(){}return t.hasPermissions=function(){return YP(this,void 0,void 0,function(){var e,n,r,s;return KP(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=o.sent(),n=0,r=e;n<r.length;n++)if(s=r[n],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},t}(),qi=function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,n=this.supportedScanTypes;e<n.length;e++){var r=n[e];if(t.isCameraScanType(r))return!0}return!1},t.isCameraScanType=function(e){return e===bs.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===bs.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return Pr.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Pr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,s=e;r<s.length;r++){var o=s[r];if(!Pr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(o))throw"Unsupported scan type ".concat(o)}return e},t}(),lr=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),Si=function(){function t(){}return t.createElement=function(e,n){var r=document.createElement(e);return r.id=n,r.classList.add(lr.ALL_ELEMENT_CLASS),e==="button"&&r.setAttribute("type","button"),r},t}(),K3=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function g(w){try{p(r.next(w))}catch(v){c(v)}}function m(w){try{p(r.throw(w))}catch(v){c(v)}}function p(w){w.done?o(w.value):s(w.value).then(g,m)}p((r=r.apply(t,e||[])).next())})},q3=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(p){return function(w){return m([p,w])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(o=p[0]&2?s.return:p[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,p[1])).done)return o;switch(s=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(w){p=[6,w],s=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Bw=function(){function t(e,n,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=n,this.onTorchActionFailureCallback=r}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return K3(this,void 0,void 0,function(){var e,n;return q3(this,function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return n=r.sent(),this.propagateFailure(e,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,n){e===n?(this.buttonController.setText(n?Ze.torchOffButton():Ze.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},t.prototype.propagateFailure=function(e,n){var r=e?Ze.torchOnFailedMessage():Ze.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),qP=function(){function t(e,n){this.onTorchActionFailureCallback=n,this.torchButton=Si.createElement("button",lr.TORCH_BUTTON_ID),this.torchController=new Bw(e,this,n)}return t.prototype.render=function(e,n){var r=this;this.torchButton.innerText=Ze.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var s=this;this.torchButton.addEventListener("click",function(o){return K3(r,void 0,void 0,function(){return q3(this,function(c){switch(c.label){case 0:return[4,s.torchController.flipState()];case 1:return c.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(lr.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(lr.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(lr.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(lr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new Bw(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=Ze.torchOnButton(),this.torchController.reset()},t.create=function(e,n,r,s){var o=new t(n,s);return o.render(e,r),o},t}(),QP=function(){function t(e,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",e.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=Si.createElement("button",lr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(g){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=Si.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var o=this;this.fileScanInput.addEventListener("change",function(g){if(!(g==null||g.target==null)){var m=g.target;if(!(m.files&&m.files.length===0)){var p=m.files,w=p[0],v=w.name;o.setImageNameToButton(v),r(w)}}});var c=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(c),this.fileBasedScanRegion.addEventListener("dragenter",function(g){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(g){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(g){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(g){g.stopPropagation(),g.preventDefault(),o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder();var m=g.dataTransfer;if(m){var p=m.files;if(!p||p.length===0)return;for(var w=!1,v=0;v<p.length;++v){var I=p.item(v);if(I){var R=/image.*/;if(I.type.match(R)){w=!0;var M=I.name;o.setImageNameToButton(M),r(I),c.innerText=Ze.dragAndDropMessage();break}}}w||(c.innerText=Ze.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=Ze.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var n=20;if(e.length>n){var r=e.substring(0,8),s=e.length,o=e.substring(s-8,s);e="".concat(r,"....").concat(o)}var c=Ze.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=c},t.prototype.setInitialValueToButton=function(){var e=Ze.fileSelectionChooseImage()+" - "+Ze.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,n,r){var s=new t(e,n,r);return s},t}(),ZP=function(){function t(e){this.selectElement=Si.createElement("select",lr.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var s=Ze.selectCamera();n.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var o=1,c=0,g=this.cameras;c<g.length;c++){var m=g[c],p=m.id,w=m.label==null?p:m.label;(!w||w==="")&&(w=[Ze.anonymousCameraPrefix(),o++].join(" "));var v=document.createElement("option");v.value=p,v.innerText=w,this.options.push(v),this.selectElement.appendChild(v)}n.appendChild(this.selectElement),e.appendChild(n)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var n=0,r=this.options;n<r.length;n++){var s=r[n];if(s.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,n){var r=new t(n);return r.render(e),r},t}(),JP=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Si.createElement("input",lr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Ze.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=Ze.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,n,r,s){this.rangeInput.min=e.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,n){var r=new t;return r.render(e,n),r},t}(),sr;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(sr||(sr={}));function eL(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function tL(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var nL=function(){function t(e,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new qi(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new G3(this.verbose),this.persistedDataManager=new WP,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(o,c){if(e)e(o,c);else{if(r.lastMatchFound===o)return;r.lastMatchFound=o,r.setHeaderMessage(Ze.lastMatch(o),sr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(o,c){n&&n(o,c)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new Dw(this.getScanRegionId(),tL(this.config,this.verbose))},t.prototype.pause=function(e){(Qr(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,n=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,s){if(!e.html5Qrcode){r();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(o){if(!e.html5Qrcode){r();return}e.html5Qrcode.clear(),n(),r()}).catch(function(o){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",o),s(o)}):(e.html5Qrcode.clear(),n(),r())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=Pr.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!Pr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=Pr.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=Pr.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:Pr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Pr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Pr.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",e.appendChild(n),qi.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),o=this.getDashboardId();s.id=o,s.style.width="100%",e.appendChild(s),this.setupInitialDashboard(s)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",e.appendChild(n);var r=new XP;r.renderInto(n);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",n.appendChild(s)},t.prototype.createSection=function(e){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",e.appendChild(n)},t.prototype.createCameraListUi=function(e,n,r){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(Ze.cameraPermissionRequesting());var o=function(){r||s.createPermissionButton(e,n)};Dw.getCameras().then(function(c){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),c&&c.length>0?(e.removeChild(n),s.renderCameraSelection(c)):(s.setHeaderMessage(Ze.noCameraFound(),sr.STATUS_WARNING),o())}).catch(function(c){s.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:o(),s.setHeaderMessage(c,sr.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,n){var r=this,s=Si.createElement("button",this.getCameraPermissionButtonId());s.innerText=Ze.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,r.createCameraListUi(e,n,s)}),n.appendChild(s)},t.prototype.createPermissionsUi=function(e,n){var r=this;if(qi.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Lw.hasPermissions().then(function(s){s?r.createCameraListUi(e,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n))}).catch(function(s){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n)});return}this.createPermissionButton(e,n)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");e.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=qi.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var s=document.createElement("div");s.style.textAlign="center",r.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,s),this.renderFileScanUi(n)},t.prototype.renderFileScanUi=function(e){var n=qi.isFileScanType(this.currentScanType),r=this,s=function(o){if(!r.html5Qrcode)throw"html5Qrcode not defined";qi.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Ze.loadingImage()),r.html5Qrcode.scanFileV2(o,!0).then(function(c){r.resetHeaderMessage(),r.qrCodeSuccessCallback(c.decodedText,c)}).catch(function(c){r.setHeaderMessage(c,sr.STATUS_WARNING),r.qrCodeErrorCallback(c,$3.createFrom(c))}))};this.fileSelectionUi=QP.create(e,n,s)},t.prototype.renderCameraSelection=function(e){var n=this,r=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var o=JP.create(s,!1),c=function(D){var U=D.zoomFeature();if(U.isSupported()){o.setOnCameraZoomValueChangeCallback(function(S){U.apply(S)});var k=1;n.config.defaultZoomValueIfSupported&&(k=n.config.defaultZoomValueIfSupported),k=EP(k,U.min(),U.max()),o.setValues(U.min(),U.max(),k,U.step()),o.show()}},g=ZP.create(s,e),m=document.createElement("span"),p=Si.createElement("button",lr.CAMERA_START_BUTTON_ID);p.innerText=Ze.scanButtonStartScanningText(),m.appendChild(p);var w=Si.createElement("button",lr.CAMERA_STOP_BUTTON_ID);w.innerText=Ze.scanButtonStopScanningText(),w.style.display="none",w.disabled=!0,m.appendChild(w);var v,I=function(D){if(!D.torchFeature().isSupported()){v&&v.hide();return}v?v.updateTorchCapability(D.torchFeature()):v=qP.create(m,D.torchFeature(),{display:"none",marginLeft:"5px"},function(U){r.setHeaderMessage(U,sr.STATUS_WARNING)}),v.show()};s.appendChild(m);var R=function(D){D||(p.style.display="none"),p.innerText=Ze.scanButtonStartScanningText(),p.style.opacity="1",p.disabled=!1,D&&(p.style.display="inline-block")};if(p.addEventListener("click",function(D){p.innerText=Ze.scanButtonScanningStarting(),g.disable(),p.disabled=!0,p.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var U=g.getValue();r.persistedDataManager.setLastUsedCameraId(U),r.html5Qrcode.start(U,eL(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(k){w.disabled=!1,w.style.display="inline-block",R(!1);var S=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&I(S),n.config.showZoomSliderIfSupported===!0&&c(S)}).catch(function(k){r.showHideScanTypeSwapLink(!0),g.enable(),R(!0),r.setHeaderMessage(k,sr.STATUS_WARNING)})}),g.hasSingleItem()&&p.click(),w.addEventListener("click",function(D){if(!r.html5Qrcode)throw"html5Qrcode not defined";w.disabled=!0,r.html5Qrcode.stop().then(function(U){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),g.enable(),p.disabled=!1,w.style.display="none",p.style.display="inline-block",v&&(v.reset(),v.hide()),o.removeOnCameraZoomValueChangeCallback(),o.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(U){w.disabled=!1,r.setHeaderMessage(U,sr.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var M=r.persistedDataManager.getLastUsedCameraId();g.hasValue(M)?(g.setValue(M),p.click()):r.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,n=Ze.textIfCameraScanSelected(),r=Ze.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");o.style.textAlign="center";var c=Si.createElement("span",this.getDashboardSectionSwapLinkId());c.style.textDecoration="underline",c.style.cursor="pointer",c.innerText=qi.isCameraScanType(this.currentScanType)?n:r,c.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,qi.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),c.innerText=r,e.currentScanType=bs.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),c.innerText=n,e.currentScanType=bs.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),o.appendChild(c),s.appendChild(o)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){Lw.hasPermissions().then(function(r){if(r){var s=document.getElementById(n.getCameraPermissionButtonId());if(!s)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,n){n||(n=sr.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",n){case sr.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case sr.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case sr.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=VP,this.cameraScanImage.alt=Ze.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=zP,this.fileScanImage.alt=Ze.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return lr.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return lr.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();function rL(){const[t,e]=K.useState(null),[n,r]=K.useState("");K.useEffect(()=>{const o=new nL("reader",{qrbox:{width:250,height:250},fps:5});let c=!0;const g=p=>{c&&(o.clear(),e(p),c=!1)},m=p=>{console.warn(p)};return o.render(g,m),()=>{c=!1}},[]);function s(o){r(o.target.value)}return _.jsxs("div",{className:"App",children:[_.jsx("h1",{children:"QR Scanning Code"}),t?_.jsxs("div",{children:[_.jsxs("p",{children:["Success: ",_.jsx("a",{href:t,children:t})]}),_.jsxs("p",{children:["Serial Number: ",t.slice(-16)]})]}):_.jsxs("div",{children:[_.jsx("div",{id:"reader"}),_.jsx("p",{className:"center-text",children:"Or enter the serial number manually:"}),_.jsxs("div",{className:"center-input",children:[_.jsx("input",{type:"text",value:n,onChange:s}),n&&_.jsxs("p",{children:["Serial Number: ",n.slice(-16)]})]})]})]})}const iL={video:{width:{min:1280,ideal:1920,max:2560},height:{min:720,ideal:1080,max:1440},facingMode:"user"}};function sL(){const[t,e]=K.useState(null),[n,r]=K.useState(null),s=qA(),o=Vd();S9(s,v=>{if(v){console.log(v);const I=v.uid;console.log(I)}else console.log("no user")});const c=async()=>{try{const I=(await navigator.mediaDevices.enumerateDevices()).find(R=>R.kind==="videoinput");if(I){const R={...iL,deviceId:{exact:I.deviceId}},M=await navigator.mediaDevices.getUserMedia(R);e(M)}else alert("No video camera found.")}catch(v){console.error("Error accessing camera:",v),alert("Error accessing camera. Please check your settings.")}},g=async()=>{try{const v=nw(rw,"profile-images/cv image.jpeg"),I=await tw(v);r(I)}catch(v){console.error("Error fetching profile image: ",v)}};K.useEffect(()=>{g()},[]);const m=async v=>{var R;const I=(R=v.target.files)==null?void 0:R[0];if(I)try{const M=nw(rw,`profile-images/${I.name}`);await Xk(M,I);const D=await tw(M);r(D)}catch(M){console.error("Error uploading image: ",M)}},p=()=>{"mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices?c():alert("Media features are not available on this device.")},w=()=>{b9(s).then(()=>{console.log("User signed out"),o("/login")}).catch(v=>{console.error("Sign-out error:",v)})};return _.jsx("div",{className:"bg-primary",children:_.jsxs("div",{className:"grid mb-4 pb-10 px-8 mx-4 rounded-3xl bg-primary",children:[_.jsxs("div",{children:[_.jsxs("button",{onClick:()=>p(),children:["Start Camera",_.jsxs("svg",{viewBox:"0 0 24 24",height:"30px",width:"30px",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#ffffff",children:[_.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),_.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),_.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",_.jsx("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," ",_.jsx("path",{d:"M3 16.8V9.2C3 8.0799 3 7.51984 3.21799 7.09202C3.40973 6.71569 3.71569 6.40973 4.09202 6.21799C4.51984 6 5.0799 6 6.2 6H7.25464C7.37758 6 7.43905 6 7.49576 5.9935C7.79166 5.95961 8.05705 5.79559 8.21969 5.54609C8.25086 5.49827 8.27836 5.44328 8.33333 5.33333C8.44329 5.11342 8.49827 5.00346 8.56062 4.90782C8.8859 4.40882 9.41668 4.08078 10.0085 4.01299C10.1219 4 10.2448 4 10.4907 4H13.5093C13.7552 4 13.8781 4 13.9915 4.01299C14.5833 4.08078 15.1141 4.40882 15.4394 4.90782C15.5017 5.00345 15.5567 5.11345 15.6667 5.33333C15.7216 5.44329 15.7491 5.49827 15.7803 5.54609C15.943 5.79559 16.2083 5.95961 16.5042 5.9935C16.561 6 16.6224 6 16.7454 6H17.8C18.9201 6 19.4802 6 19.908 6.21799C20.2843 6.40973 20.5903 6.71569 20.782 7.09202C21 7.51984 21 8.0799 21 9.2V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8Z",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," "]})]})]}),t&&_.jsx("video",{style:{width:1280,height:720},autoPlay:!0,ref:v=>{v&&(v.srcObject=t)}})]}),_.jsx("div",{className:"grid grid-cols-12 gap-6",children:_.jsx("div",{className:"grid grid-cols-12 col-span-12 gap-6 xxl:col-span-9",children:_.jsxs("div",{className:"col-span-12 mt-8",children:[_.jsxs("div",{className:"flex flex-row justify-center",children:[n?_.jsx(Ed,{alt:"Selected Avatar",src:n,style:{width:"150px",height:"150px"}}):_.jsx(Ed,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg",style:{width:"150px",height:"150px"}}),_.jsx("label",{htmlFor:"fileInput",className:"file-input-label",children:_.jsxs("svg",{viewBox:"0 0 24 24",height:"30px",width:"30px",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#ffffff",children:[_.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),_.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),_.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",_.jsx("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," ",_.jsx("path",{d:"M3 16.8V9.2C3 8.0799 3 7.51984 3.21799 7.09202C3.40973 6.71569 3.71569 6.40973 4.09202 6.21799C4.51984 6 5.0799 6 6.2 6H7.25464C7.37758 6 7.43905 6 7.49576 5.9935C7.79166 5.95961 8.05705 5.79559 8.21969 5.54609C8.25086 5.49827 8.27836 5.44328 8.33333 5.33333C8.44329 5.11342 8.49827 5.00346 8.56062 4.90782C8.8859 4.40882 9.41668 4.08078 10.0085 4.01299C10.1219 4 10.2448 4 10.4907 4H13.5093C13.7552 4 13.8781 4 13.9915 4.01299C14.5833 4.08078 15.1141 4.40882 15.4394 4.90782C15.5017 5.00345 15.5567 5.11345 15.6667 5.33333C15.7216 5.44329 15.7491 5.49827 15.7803 5.54609C15.943 5.79559 16.2083 5.95961 16.5042 5.9935C16.561 6 16.6224 6 16.7454 6H17.8C18.9201 6 19.4802 6 19.908 6.21799C20.2843 6.40973 20.5903 6.71569 20.782 7.09202C21 7.51984 21 8.0799 21 9.2V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8Z",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," "]})]})}),_.jsx("input",{type:"file",id:"fileInput",accept:"image/*",onChange:m,style:{display:"none"}})]}),_.jsxs("div",{className:"grid grid-cols-12 gap-6 mt-5 mb-5",children:[_.jsx("div",{className:"bg-gray-200 text-black shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",children:_.jsx("div",{className:" text-sm text-left p-2",children:"Name"})}),_.jsx("div",{className:" bg-gray-200 text-black shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y ",children:_.jsx("div",{className:" text-sm text-left p-2",children:"Email"})})]}),_.jsx("div",{className:" shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y",children:_.jsxs("div",{className:"p-5 text-primary rounded-2xl bg-white",children:[_.jsx("div",{className:" text-xl font-bold leading-8",children:"Your Wallet Balance"}),_.jsx("div",{className:"flex justify-between ",children:_.jsx("div",{className:"mt-3 text-3xl leading-8 text-black",children:"$ 6, 200.34"})})]})}),_.jsx("div",{className:"bg-white rounded-2xl",children:_.jsxs("ul",{className:"text-black m-10  ",children:[_.jsx("li",{className:"p-3 mt-10",children:"Notifications"}),_.jsx("li",{className:"p-3",children:"My wallet"}),_.jsx("li",{className:"p-3",children:"Payment settings"}),_.jsx("li",{className:"p-3",children:"Privacy settings"}),_.jsx("li",{className:"p-3",children:"Support and Help"}),_.jsx("button",{onClick:w,children:_.jsx("li",{className:"p-3",children:"Logout"})}),_.jsx("li",{className:"p-3",children:"Delete Account"})]})})]})})})]})})}const oL=()=>{const t=Vd();return _.jsxs("div",{className:"mobile-nav flex flex-col items-center space-y-4 mb-4  ",children:[_.jsx("div",{onClick:()=>{t("/")}}),_.jsxs("div",{className:"flex flex-row space-x-2",children:[_.jsx("div",{className:"bg-black border-primary-500 border-2  p-2 rounded-2xl ",children:_.jsx("button",{className:"text-white bg-primary bg-transparent",children:_.jsxs(Bn,{to:"/get",children:[_.jsxs("svg",{width:"40px",height:"50px",viewBox:"-2.4 -2.4 28.80 28.80",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#ffffff",children:[_.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),_.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),_.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",_.jsx("path",{d:"M22 12.2039V13.725C22 17.6258 22 19.5763 20.8284 20.7881C19.6569 22 17.7712 22 14 22H10C6.22876 22 4.34315 22 3.17157 20.7881C2 19.5763 2 17.6258 2 13.725V12.2039C2 9.91549 2 8.77128 2.5192 7.82274C3.0384 6.87421 3.98695 6.28551 5.88403 5.10813L7.88403 3.86687C9.88939 2.62229 10.8921 2 12 2C13.1079 2 14.1106 2.62229 16.116 3.86687L18.116 5.10812C20.0131 6.28551 20.9616 6.87421 21.4808 7.82274",stroke:"#508f81","stroke-width":"1.5","stroke-linecap":"round"})," ",_.jsx("path",{d:"M15 18H9",stroke:"#508f81","stroke-width":"1.5","stroke-linecap":"round"})," "]})]}),_.jsx("label",{className:"font-xs",children:"Get"})]})})}),_.jsx("div",{className:"bg-black border-primary-500 border-2 p-2  rounded-2xl ",children:_.jsx("button",{className:" text-white bg-primary bg-transparent",children:_.jsxs(Bn,{to:"/buy",children:[_.jsxs("svg",{width:"40px",height:"50px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#508f81",children:[_.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),_.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),_.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",_.jsx("path",{d:"M18 8V7.2C18 6.0799 18 5.51984 17.782 5.09202C17.5903 4.71569 17.2843 4.40973 16.908 4.21799C16.4802 4 15.9201 4 14.8 4H6.2C5.07989 4 4.51984 4 4.09202 4.21799C3.71569 4.40973 3.40973 4.71569 3.21799 5.09202C3 5.51984 3 6.0799 3 7.2V8M21 12H19C17.8954 12 17 12.8954 17 14C17 15.1046 17.8954 16 19 16H21M3 8V16.8C3 17.9201 3 18.4802 3.21799 18.908C3.40973 19.2843 3.71569 19.5903 4.09202 19.782C4.51984 20 5.07989 20 6.2 20H17.8C18.9201 20 19.4802 20 19.908 19.782C20.2843 19.5903 20.5903 19.2843 20.782 18.908C21 18.4802 21 17.9201 21 16.8V11.2C21 10.0799 21 9.51984 20.782 9.09202C20.5903 8.71569 20.2843 8.40973 19.908 8.21799C19.4802 8 18.9201 8 17.8 8H3Z",stroke:"#508f81","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," "]})]}),_.jsx("label",{className:"font-xs",children:"Buy"})]})})}),_.jsx("div",{className:"bg-black border-primary-500 border-2 p-2  rounded-2xl ",children:_.jsx("button",{className:"text-white bg-primary bg-transparent ",children:_.jsxs(Bn,{to:"/Send",children:[_.jsxs("svg",{width:"40px",height:"50px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#508f81",children:[_.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),_.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),_.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",_.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.4697 3.46967C11.7626 3.17678 12.2374 3.17678 12.5303 3.46967L18.5303 9.46967C18.8232 9.76256 18.8232 10.2374 18.5303 10.5303C18.2374 10.8232 17.7626 10.8232 17.4697 10.5303L12.75 5.81066L12.75 20C12.75 20.4142 12.4142 20.75 12 20.75C11.5858 20.75 11.25 20.4142 11.25 20L11.25 5.81066L6.53033 10.5303C6.23744 10.8232 5.76256 10.8232 5.46967 10.5303C5.17678 10.2374 5.17678 9.76256 5.46967 9.46967L11.4697 3.46967Z",fill:"#508f81"})," "]})]}),_.jsx("label",{className:"font-xs",children:"Send"})]})})}),_.jsx("div",{className:"bg-black border-primary-500 border-2 p-2  rounded-2xl ",children:_.jsx("button",{className:" text-white bg-primary bg-transparent  ",children:_.jsxs(Bn,{to:"/swap",children:[_.jsxs("svg",{width:"40px",height:"50px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),_.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),_.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",_.jsx("path",{opacity:"0.4",d:"M23 15.9697C23 19.8397 19.87 22.9697 16 22.9697L17.05 21.2197",stroke:"#508f81","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})," ",_.jsx("path",{opacity:"0.4",d:"M1 7.96973C1 4.09973 4.13 0.969727 8 0.969727L6.95 2.71973",stroke:"#508f81","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})," ",_.jsx("path",{d:"M6.61914 13.0703H9.42914C10.0491 13.0703 10.5591 13.6303 10.5591 14.2003C10.5591 14.8203 10.0591 15.3303 9.42914 15.3303H6.61914V13.0703Z",stroke:"#508f81","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"})," ",_.jsx("path",{d:"M6.61914 15.3301H9.83914C10.5491 15.3301 11.1291 15.8301 11.1291 16.4601C11.1291 17.0801 10.5491 17.5901 9.83914 17.5901H6.61914V15.3301Z",stroke:"#508f81","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"})," ",_.jsx("path",{d:"M8.41992 17.5801V18.7001",stroke:"#508f81","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"})," ",_.jsx("path",{d:"M8.41992 11.9502V13.0702",stroke:"#508f81","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"})," ",_.jsx("path",{d:"M14.8498 15.3302C14.8498 18.7402 12.0898 21.5002 8.67977 21.5002C5.26977 21.5002 2.50977 18.7402 2.50977 15.3302C2.50977 11.9202 5.26977 9.16016 8.67977 9.16016C8.83977 9.16016 8.98977 9.17018 9.15977 9.18018C12.1898 9.41018 14.6098 11.8302 14.8398 14.8602C14.8398 15.0102 14.8498 15.1602 14.8498 15.3302Z",stroke:"#508f81","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"})," ",_.jsx("path",{d:"M21.5002 8.66998C21.5002 12.08 18.7402 14.84 15.3302 14.84H14.8402C14.6102 11.81 12.1902 9.38997 9.16016 9.15997V8.66998C9.16016 5.25998 11.9202 2.5 15.3302 2.5C18.7402 2.5 21.5002 5.25998 21.5002 8.66998Z",stroke:"#508f81","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"})," "]})]}),_.jsx("label",{className:"font-xs",children:"Swap"})]})})})]})]})},aL=()=>{const[t,e]=K.useState([]);return K.useEffect(()=>{(async()=>{try{const r=await xA(dA(p3,"cryptocurrencies")),s=[];r.forEach(o=>{const c=o.data();s.push({...c})}),e(s)}catch(r){console.error("Error fetching data:",r)}})()},[]),_.jsxs("div",{className:" w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white  ",children:[_.jsx("div",{className:"",children:_.jsx(m3,{})}),_.jsxs("div",{className:"w-full",children:[_.jsx("h2",{className:"text-primary-500",children:"Recieve"}),_.jsx("ul",{role:"list",className:"divide-ymt-10",children:t.map(n=>_.jsxs("li",{className:"flex justify-between gap-x-6 py-5",children:[_.jsxs("div",{className:"flex min-w-0 gap-x-4",children:[_.jsx("img",{src:n.image,alt:n.name,className:"h-12 w-12 flex-none rounded-full bg-primary"}),_.jsxs("div",{className:"min-w-0 flex-auto",children:[_.jsxs(Bn,{to:"/test",children:["   ",_.jsx("p",{className:"text-sm font-semibold leading-6 text-white",children:n.name})]}),_.jsxs("p",{children:[" ",n.symbol]})]})]}),_.jsx("div",{className:"shrink-0 sm:flex sm:flex-col sm:items-end",children:_.jsxs("p",{className:"text-sm leading-6 text-white",children:["$ ",n.price]})})]},n.id))})]})]})};function lL(){return _.jsx("div",{className:" w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white bg-no-repeat bg-cover ",style:{backgroundImage:`url(${Eo})`},children:_.jsx("div",{className:" w-full h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white  ",children:_.jsx("div",{className:"flex flex-col sm:flex-row items-center md:items-start sm:justify-center md:justify-start flex-auto min-w-0",children:_.jsx("div",{children:_.jsx("div",{className:"lg:text-left text-center",children:_.jsx("div",{className:"flex items-center justify-center",children:_.jsxs("div",{className:"bg-primary flex flex-col w-70 border-2 border-primary-500 rounded-3xl px-8 py-10",children:[_.jsx("h2",{className:"text-3xl sm:text-xl",children:"Add Card"}),_.jsxs("form",{className:"flex flex-col space-y-4 mt-10",children:[_.jsx("label",{className:"align-left",children:"Card Name"}),_.jsx("input",{type:"text",placeholder:"visa",className:"border rounded-lg py-3 px-3 bg-black border-primary-500 placeholder-white-500 text-white"}),_.jsx("label",{className:"leading-loose",children:"Card Number"}),_.jsx("input",{type:"text",placeholder:"XXXX XXXX XXXX XXXX",className:"border rounded-lg py-3 px-3 bg-black border-primary-500 placeholder-white-500 text-white"}),_.jsxs("div",{className:"flex flex-row items-center space-x-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"leading-loose",children:"Exp Month"}),_.jsxs("div",{className:"relative focus-within:text-gray-600 text-white",children:[_.jsx("input",{type:"text",className:"pr-4 pl-10 bg-black py-2 border focus:ring-gray-500 focus:border-primary-500 w-full sm:text-sm border-primary-500 rounded-md focus:outline-none placeholder-white-500 text-white",placeholder:"XX"}),_.jsx("div",{className:"absolute left-3 top-2",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:_.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"leading-loose",children:"Exp Year"}),_.jsxs("div",{className:"relative focus-within:text-gray-600 text-white",children:[_.jsx("input",{type:"text",className:"pr-4 pl-10 bg-black py-2 border focus:ring-gray-500 focus:border-primary-500 w-full sm:text-sm border-primary-500 rounded-md focus:outline-none placeholder-white-500 text-white",placeholder:"XX"}),_.jsx("div",{className:"absolute left-3 top-2",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:_.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]})]}),_.jsx("label",{className:"leading-loose",children:"CVV"}),_.jsx("input",{type:"text",placeholder:"XXX",className:"border rounded-lg py-3 px-3 bg-black border-primary-500 placeholder-white-500 text-white"})]}),_.jsx("button",{className:"border mt-6  border-primary-500 bg-green-950 text-white rounded-lg py-3 font-semibold",children:"Continue"})]})})})})})})})}const cL=""+new URL("qr-f31ae56f.png",import.meta.url).href,uL=()=>{const[t,e]=K.useState([]),[n,r]=K.useState(""),[s,o]=K.useState(""),[c,g]=K.useState(null),m=async()=>{try{if("contacts"in navigator&&"select"in navigator.contacts){const w=await navigator.contacts.select(["name","tel"],{multiple:!0});if(!w.length)return;e(v=>[...v,...w])}else g(!1)}catch(w){console.error("Error accessing contacts:",w)}},p=()=>{if(n===""||s==="")return;const w={name:n,tel:s};e(v=>[...v,w]),r(""),o("")};return _.jsx("div",{className:" w-full bg-primary h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white bg-no-repeat bg-cover ",style:{backgroundImage:`url(${Eo})`},children:_.jsx("div",{className:" w-full h-full  flex-auto items-center justify-center p-10 overflow-hidden text-white  ",children:_.jsx("div",{className:"flex flex-col sm:flex-row items-center md:items-start sm:justify-center md:justify-start flex-auto min-w-0",children:_.jsx("div",{children:_.jsx("div",{className:"lg:text-left text-center",children:_.jsx("div",{className:"flex items-center justify-center",children:_.jsxs("div",{className:"bg-primary flex flex-col w-70 border-2 border-primary-500 rounded-3xl px-8 py-10",children:[_.jsxs("form",{className:"flex flex-col space-y-8 mt-10",children:[_.jsx("div",{children:_.jsx("img",{src:cL})}),_.jsx("div",{children:"Send me Bitcoin to this address"}),_.jsx("input",{type:"text",placeholder:"set amount",className:"border rounded-lg py-3 px-3 bg-black border-primary-500  placeholder-white-500 text-white"}),_.jsxs("label",{children:["Sender",_.jsx("input",{type:"text",value:n,onChange:w=>r(w.target.value)})]}),_.jsx("input",{type:"text",placeholder:"set amount",value:s,onChange:w=>o(w.target.value),className:"border rounded-lg py-3 px-3 bg-black border-primary-500  placeholder-white-500 text-white"}),_.jsxs("div",{className:"flex flex-row flex-wrap space-x-4 justify-center",children:[_.jsx("button",{className:"border border-primary-500 bg-green-950 text-white rounded-lg py-3 px-4 font-semibold",children:_.jsxs("div",{className:"flex flex-row space-x-2",children:[_.jsx("div",{children:_.jsxs("svg",{viewBox:"0 0 24 24",height:"20px",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#fffff",children:[_.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),_.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),_.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",_.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M21 8C21 6.34315 19.6569 5 18 5H10C8.34315 5 7 6.34315 7 8V20C7 21.6569 8.34315 23 10 23H18C19.6569 23 21 21.6569 21 20V8ZM19 8C19 7.44772 18.5523 7 18 7H10C9.44772 7 9 7.44772 9 8V20C9 20.5523 9.44772 21 10 21H18C18.5523 21 19 20.5523 19 20V8Z",fill:"#ffffff"})," ",_.jsx("path",{d:"M6 3H16C16.5523 3 17 2.55228 17 2C17 1.44772 16.5523 1 16 1H6C4.34315 1 3 2.34315 3 4V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V4C5 3.44772 5.44772 3 6 3Z",fill:"#ffffff"})," "]})]})}),_.jsx("div",{children:"Copy"})]})}),_.jsx("button",{className:"border border-primary-500 bg-green-950 text-white rounded-lg py-3 px-4 font-semibold",onClick:m,children:_.jsxs("div",{className:"flex flex-row space-x-2",children:[_.jsx("div",{children:_.jsxs("svg",{viewBox:"0 0 24 24",height:"20px",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#fffff",children:[_.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),_.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),_.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",_.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M21 8C21 6.34315 19.6569 5 18 5H10C8.34315 5 7 6.34315 7 8V20C7 21.6569 8.34315 23 10 23H18C19.6569 23 21 21.6569 21 20V8ZM19 8C19 7.44772 18.5523 7 18 7H10C9.44772 7 9 7.44772 9 8V20C9 20.5523 9.44772 21 10 21H18C18.5523 21 19 20.5523 19 20V8Z",fill:"#ffffff"})," ",_.jsx("path",{d:"M6 3H16C16.5523 3 17 2.55228 17 2C17 1.44772 16.5523 1 16 1H6C4.34315 1 3 2.34315 3 4V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V4C5 3.44772 5.44772 3 6 3Z",fill:"#ffffff"})," "]})]})}),_.jsx("div",{children:"Share"})]})}),c===!1&&_.jsx("p",{children:"Your device/browser doesn't support the Contact Picker API."}),_.jsx("ul",{children:t.map((w,v)=>_.jsxs("li",{children:[w.name," - ",w.tel]},v))})]})]}),_.jsx("button",{onClick:p,children:"Add Contact"})]})})})})})})})},hL=()=>{const[t,e]=K.useState([]),[n,r]=K.useState(""),[s,o]=K.useState(""),[c,g]=K.useState(null),m=async()=>{try{if("contacts"in navigator&&"select"in navigator.contacts){const w=await navigator.contacts.select(["name","tel"],{multiple:!0});if(!w.length)return;e(v=>[...v,...w])}else g(!1)}catch(w){console.error("Error accessing contacts:",w)}},p=()=>{if(n===""||s==="")return;const w={name:n,tel:s};e(v=>[...v,w]),r(""),o("")};return _.jsxs("div",{children:[_.jsx("button",{onClick:m,children:"Pick Contacts"}),c===!1&&_.jsx("p",{children:"Your device/browser doesn't support the Contact Picker API."}),_.jsx("ul",{children:t.map((w,v)=>_.jsxs("li",{children:[w.name," - ",w.tel]},v))}),_.jsxs("div",{children:[_.jsxs("label",{children:["Name:",_.jsx("input",{type:"text",value:n,onChange:w=>r(w.target.value)})]}),_.jsxs("label",{children:["Phone:",_.jsx("input",{type:"text",value:s,onChange:w=>o(w.target.value)})]}),_.jsx("button",{onClick:p,children:"Add Contact"})]})]})};function dL(){return _.jsx(YS,{children:_.jsxs("div",{className:"bg-primary w-full overflow-hidden  ",children:[_.jsx("div",{className:`${vi.paddingX} ${vi.flexCenter}  `,children:_.jsx("div",{className:`${vi.boxWidth} `,children:_.jsx(ZS,{})})}),_.jsx("div",{children:_.jsx(oL,{})}),_.jsx("div",{className:`bg-primary ${vi.flexStart}`,children:_.jsx("div",{className:`${vi.boxWidth}`,children:_.jsxs(zS,{children:[_.jsx(Pn,{path:"/home",element:_.jsx(e8,{})}),_.jsx(Pn,{path:"/send",element:_.jsx(t8,{})}),_.jsx(Pn,{path:"/swap",element:_.jsx(n8,{})}),_.jsx(Pn,{path:"/buy",element:_.jsx(Jk,{})}),_.jsx(Pn,{path:"/get",element:_.jsx(aL,{})}),_.jsx(Pn,{path:"/login",element:_.jsx(tD,{})}),_.jsx(Pn,{path:"/createWallet",element:_.jsx(nD,{})}),_.jsx(Pn,{path:"/camera",element:_.jsx(xP,{})}),_.jsx(Pn,{path:"/barcodescanner",element:_.jsx(rL,{})}),_.jsx(Pn,{path:"/profile",element:_.jsx(sL,{})}),_.jsx(Pn,{path:"/card",element:_.jsx(lL,{})}),_.jsx(Pn,{path:"/buy2",element:_.jsx(eD,{})}),_.jsx(Pn,{path:"/recieve",element:_.jsx(uL,{})}),_.jsx(Pn,{path:"/test",element:_.jsx(hL,{})})]})})})]})})}"BarcodeDetector"in window?console.log("BarcodeDetector is supported by this browser"):console.log("BarcodeDetector is not supported by this browser");Notification.requestPermission().then(t=>{console.log("notification permission",t)});q0.createRoot(document.getElementById("root")).render(_.jsx(Kw.StrictMode,{children:_.jsx(dL,{})}));
